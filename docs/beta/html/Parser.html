
<!-- A html document -->
<!-- 
with standard nbconvert css layout
with standard nbconvert input/output content
standard html tag wrapping
with mathjax loaded
with jupyter wigets
 caption and label elements according to ipub meta tags  
with fuzzingbook adaptations -->
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /><title>Parsing and Recombining Inputs - Generating Software Tests</title>

<style type="text/css">
    /*!
*
* Twitter Bootstrap
*
*/
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block;
  vertical-align: baseline;
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a {
  background-color: transparent;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button;
  cursor: pointer;
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box;
  padding: 0;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield;
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0;
  padding: 0;
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */
@media print {
  *,
  *:before,
  *:after {
    background: transparent !important;
    color: #000 !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  a,
  a:visited {
    text-decoration: underline;
  }
  a[href]:after {
    content: " (" attr(href) ")";
  }
  abbr[title]:after {
    content: " (" attr(title) ")";
  }
  a[href^="#"]:after,
  a[href^="javascript:"]:after {
    content: "";
  }
  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }
  thead {
    display: table-header-group;
  }
  tr,
  img {
    page-break-inside: avoid;
  }
  img {
    max-width: 100% !important;
  }
  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }
  h2,
  h3 {
    page-break-after: avoid;
  }
  .navbar {
    display: none;
  }
  .btn > .caret,
  .dropup > .btn > .caret {
    border-top-color: #000 !important;
  }
  .label {
    border: 1px solid #000;
  }
  .table {
    border-collapse: collapse !important;
  }
  .table td,
  .table th {
    background-color: #fff !important;
  }
  .table-bordered th,
  .table-bordered td {
    border: 1px solid #ddd !important;
  }
}
@font-face {
  font-family: 'Glyphicons Halflings';
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot');
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff') format('woff'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
}
.glyphicon {
  position: relative;
  top: 1px;
  display: inline-block;
  font-family: 'Glyphicons Halflings';
  font-style: normal;
  font-weight: normal;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.glyphicon-asterisk:before {
  content: "\002a";
}
.glyphicon-plus:before {
  content: "\002b";
}
.glyphicon-euro:before,
.glyphicon-eur:before {
  content: "\20ac";
}
.glyphicon-minus:before {
  content: "\2212";
}
.glyphicon-cloud:before {
  content: "\2601";
}
.glyphicon-envelope:before {
  content: "\2709";
}
.glyphicon-pencil:before {
  content: "\270f";
}
.glyphicon-glass:before {
  content: "\e001";
}
.glyphicon-music:before {
  content: "\e002";
}
.glyphicon-search:before {
  content: "\e003";
}
.glyphicon-heart:before {
  content: "\e005";
}
.glyphicon-star:before {
  content: "\e006";
}
.glyphicon-star-empty:before {
  content: "\e007";
}
.glyphicon-user:before {
  content: "\e008";
}
.glyphicon-film:before {
  content: "\e009";
}
.glyphicon-th-large:before {
  content: "\e010";
}
.glyphicon-th:before {
  content: "\e011";
}
.glyphicon-th-list:before {
  content: "\e012";
}
.glyphicon-ok:before {
  content: "\e013";
}
.glyphicon-remove:before {
  content: "\e014";
}
.glyphicon-zoom-in:before {
  content: "\e015";
}
.glyphicon-zoom-out:before {
  content: "\e016";
}
.glyphicon-off:before {
  content: "\e017";
}
.glyphicon-signal:before {
  content: "\e018";
}
.glyphicon-cog:before {
  content: "\e019";
}
.glyphicon-trash:before {
  content: "\e020";
}
.glyphicon-home:before {
  content: "\e021";
}
.glyphicon-file:before {
  content: "\e022";
}
.glyphicon-time:before {
  content: "\e023";
}
.glyphicon-road:before {
  content: "\e024";
}
.glyphicon-download-alt:before {
  content: "\e025";
}
.glyphicon-download:before {
  content: "\e026";
}
.glyphicon-upload:before {
  content: "\e027";
}
.glyphicon-inbox:before {
  content: "\e028";
}
.glyphicon-play-circle:before {
  content: "\e029";
}
.glyphicon-repeat:before {
  content: "\e030";
}
.glyphicon-refresh:before {
  content: "\e031";
}
.glyphicon-list-alt:before {
  content: "\e032";
}
.glyphicon-lock:before {
  content: "\e033";
}
.glyphicon-flag:before {
  content: "\e034";
}
.glyphicon-headphones:before {
  content: "\e035";
}
.glyphicon-volume-off:before {
  content: "\e036";
}
.glyphicon-volume-down:before {
  content: "\e037";
}
.glyphicon-volume-up:before {
  content: "\e038";
}
.glyphicon-qrcode:before {
  content: "\e039";
}
.glyphicon-barcode:before {
  content: "\e040";
}
.glyphicon-tag:before {
  content: "\e041";
}
.glyphicon-tags:before {
  content: "\e042";
}
.glyphicon-book:before {
  content: "\e043";
}
.glyphicon-bookmark:before {
  content: "\e044";
}
.glyphicon-print:before {
  content: "\e045";
}
.glyphicon-camera:before {
  content: "\e046";
}
.glyphicon-font:before {
  content: "\e047";
}
.glyphicon-bold:before {
  content: "\e048";
}
.glyphicon-italic:before {
  content: "\e049";
}
.glyphicon-text-height:before {
  content: "\e050";
}
.glyphicon-text-width:before {
  content: "\e051";
}
.glyphicon-align-left:before {
  content: "\e052";
}
.glyphicon-align-center:before {
  content: "\e053";
}
.glyphicon-align-right:before {
  content: "\e054";
}
.glyphicon-align-justify:before {
  content: "\e055";
}
.glyphicon-list:before {
  content: "\e056";
}
.glyphicon-indent-left:before {
  content: "\e057";
}
.glyphicon-indent-right:before {
  content: "\e058";
}
.glyphicon-facetime-video:before {
  content: "\e059";
}
.glyphicon-picture:before {
  content: "\e060";
}
.glyphicon-map-marker:before {
  content: "\e062";
}
.glyphicon-adjust:before {
  content: "\e063";
}
.glyphicon-tint:before {
  content: "\e064";
}
.glyphicon-edit:before {
  content: "\e065";
}
.glyphicon-share:before {
  content: "\e066";
}
.glyphicon-check:before {
  content: "\e067";
}
.glyphicon-move:before {
  content: "\e068";
}
.glyphicon-step-backward:before {
  content: "\e069";
}
.glyphicon-fast-backward:before {
  content: "\e070";
}
.glyphicon-backward:before {
  content: "\e071";
}
.glyphicon-play:before {
  content: "\e072";
}
.glyphicon-pause:before {
  content: "\e073";
}
.glyphicon-stop:before {
  content: "\e074";
}
.glyphicon-forward:before {
  content: "\e075";
}
.glyphicon-fast-forward:before {
  content: "\e076";
}
.glyphicon-step-forward:before {
  content: "\e077";
}
.glyphicon-eject:before {
  content: "\e078";
}
.glyphicon-chevron-left:before {
  content: "\e079";
}
.glyphicon-chevron-right:before {
  content: "\e080";
}
.glyphicon-plus-sign:before {
  content: "\e081";
}
.glyphicon-minus-sign:before {
  content: "\e082";
}
.glyphicon-remove-sign:before {
  content: "\e083";
}
.glyphicon-ok-sign:before {
  content: "\e084";
}
.glyphicon-question-sign:before {
  content: "\e085";
}
.glyphicon-info-sign:before {
  content: "\e086";
}
.glyphicon-screenshot:before {
  content: "\e087";
}
.glyphicon-remove-circle:before {
  content: "\e088";
}
.glyphicon-ok-circle:before {
  content: "\e089";
}
.glyphicon-ban-circle:before {
  content: "\e090";
}
.glyphicon-arrow-left:before {
  content: "\e091";
}
.glyphicon-arrow-right:before {
  content: "\e092";
}
.glyphicon-arrow-up:before {
  content: "\e093";
}
.glyphicon-arrow-down:before {
  content: "\e094";
}
.glyphicon-share-alt:before {
  content: "\e095";
}
.glyphicon-resize-full:before {
  content: "\e096";
}
.glyphicon-resize-small:before {
  content: "\e097";
}
.glyphicon-exclamation-sign:before {
  content: "\e101";
}
.glyphicon-gift:before {
  content: "\e102";
}
.glyphicon-leaf:before {
  content: "\e103";
}
.glyphicon-fire:before {
  content: "\e104";
}
.glyphicon-eye-open:before {
  content: "\e105";
}
.glyphicon-eye-close:before {
  content: "\e106";
}
.glyphicon-warning-sign:before {
  content: "\e107";
}
.glyphicon-plane:before {
  content: "\e108";
}
.glyphicon-calendar:before {
  content: "\e109";
}
.glyphicon-random:before {
  content: "\e110";
}
.glyphicon-comment:before {
  content: "\e111";
}
.glyphicon-magnet:before {
  content: "\e112";
}
.glyphicon-chevron-up:before {
  content: "\e113";
}
.glyphicon-chevron-down:before {
  content: "\e114";
}
.glyphicon-retweet:before {
  content: "\e115";
}
.glyphicon-shopping-cart:before {
  content: "\e116";
}
.glyphicon-folder-close:before {
  content: "\e117";
}
.glyphicon-folder-open:before {
  content: "\e118";
}
.glyphicon-resize-vertical:before {
  content: "\e119";
}
.glyphicon-resize-horizontal:before {
  content: "\e120";
}
.glyphicon-hdd:before {
  content: "\e121";
}
.glyphicon-bullhorn:before {
  content: "\e122";
}
.glyphicon-bell:before {
  content: "\e123";
}
.glyphicon-certificate:before {
  content: "\e124";
}
.glyphicon-thumbs-up:before {
  content: "\e125";
}
.glyphicon-thumbs-down:before {
  content: "\e126";
}
.glyphicon-hand-right:before {
  content: "\e127";
}
.glyphicon-hand-left:before {
  content: "\e128";
}
.glyphicon-hand-up:before {
  content: "\e129";
}
.glyphicon-hand-down:before {
  content: "\e130";
}
.glyphicon-circle-arrow-right:before {
  content: "\e131";
}
.glyphicon-circle-arrow-left:before {
  content: "\e132";
}
.glyphicon-circle-arrow-up:before {
  content: "\e133";
}
.glyphicon-circle-arrow-down:before {
  content: "\e134";
}
.glyphicon-globe:before {
  content: "\e135";
}
.glyphicon-wrench:before {
  content: "\e136";
}
.glyphicon-tasks:before {
  content: "\e137";
}
.glyphicon-filter:before {
  content: "\e138";
}
.glyphicon-briefcase:before {
  content: "\e139";
}
.glyphicon-fullscreen:before {
  content: "\e140";
}
.glyphicon-dashboard:before {
  content: "\e141";
}
.glyphicon-paperclip:before {
  content: "\e142";
}
.glyphicon-heart-empty:before {
  content: "\e143";
}
.glyphicon-link:before {
  content: "\e144";
}
.glyphicon-phone:before {
  content: "\e145";
}
.glyphicon-pushpin:before {
  content: "\e146";
}
.glyphicon-usd:before {
  content: "\e148";
}
.glyphicon-gbp:before {
  content: "\e149";
}
.glyphicon-sort:before {
  content: "\e150";
}
.glyphicon-sort-by-alphabet:before {
  content: "\e151";
}
.glyphicon-sort-by-alphabet-alt:before {
  content: "\e152";
}
.glyphicon-sort-by-order:before {
  content: "\e153";
}
.glyphicon-sort-by-order-alt:before {
  content: "\e154";
}
.glyphicon-sort-by-attributes:before {
  content: "\e155";
}
.glyphicon-sort-by-attributes-alt:before {
  content: "\e156";
}
.glyphicon-unchecked:before {
  content: "\e157";
}
.glyphicon-expand:before {
  content: "\e158";
}
.glyphicon-collapse-down:before {
  content: "\e159";
}
.glyphicon-collapse-up:before {
  content: "\e160";
}
.glyphicon-log-in:before {
  content: "\e161";
}
.glyphicon-flash:before {
  content: "\e162";
}
.glyphicon-log-out:before {
  content: "\e163";
}
.glyphicon-new-window:before {
  content: "\e164";
}
.glyphicon-record:before {
  content: "\e165";
}
.glyphicon-save:before {
  content: "\e166";
}
.glyphicon-open:before {
  content: "\e167";
}
.glyphicon-saved:before {
  content: "\e168";
}
.glyphicon-import:before {
  content: "\e169";
}
.glyphicon-export:before {
  content: "\e170";
}
.glyphicon-send:before {
  content: "\e171";
}
.glyphicon-floppy-disk:before {
  content: "\e172";
}
.glyphicon-floppy-saved:before {
  content: "\e173";
}
.glyphicon-floppy-remove:before {
  content: "\e174";
}
.glyphicon-floppy-save:before {
  content: "\e175";
}
.glyphicon-floppy-open:before {
  content: "\e176";
}
.glyphicon-credit-card:before {
  content: "\e177";
}
.glyphicon-transfer:before {
  content: "\e178";
}
.glyphicon-cutlery:before {
  content: "\e179";
}
.glyphicon-header:before {
  content: "\e180";
}
.glyphicon-compressed:before {
  content: "\e181";
}
.glyphicon-earphone:before {
  content: "\e182";
}
.glyphicon-phone-alt:before {
  content: "\e183";
}
.glyphicon-tower:before {
  content: "\e184";
}
.glyphicon-stats:before {
  content: "\e185";
}
.glyphicon-sd-video:before {
  content: "\e186";
}
.glyphicon-hd-video:before {
  content: "\e187";
}
.glyphicon-subtitles:before {
  content: "\e188";
}
.glyphicon-sound-stereo:before {
  content: "\e189";
}
.glyphicon-sound-dolby:before {
  content: "\e190";
}
.glyphicon-sound-5-1:before {
  content: "\e191";
}
.glyphicon-sound-6-1:before {
  content: "\e192";
}
.glyphicon-sound-7-1:before {
  content: "\e193";
}
.glyphicon-copyright-mark:before {
  content: "\e194";
}
.glyphicon-registration-mark:before {
  content: "\e195";
}
.glyphicon-cloud-download:before {
  content: "\e197";
}
.glyphicon-cloud-upload:before {
  content: "\e198";
}
.glyphicon-tree-conifer:before {
  content: "\e199";
}
.glyphicon-tree-deciduous:before {
  content: "\e200";
}
.glyphicon-cd:before {
  content: "\e201";
}
.glyphicon-save-file:before {
  content: "\e202";
}
.glyphicon-open-file:before {
  content: "\e203";
}
.glyphicon-level-up:before {
  content: "\e204";
}
.glyphicon-copy:before {
  content: "\e205";
}
.glyphicon-paste:before {
  content: "\e206";
}
.glyphicon-alert:before {
  content: "\e209";
}
.glyphicon-equalizer:before {
  content: "\e210";
}
.glyphicon-king:before {
  content: "\e211";
}
.glyphicon-queen:before {
  content: "\e212";
}
.glyphicon-pawn:before {
  content: "\e213";
}
.glyphicon-bishop:before {
  content: "\e214";
}
.glyphicon-knight:before {
  content: "\e215";
}
.glyphicon-baby-formula:before {
  content: "\e216";
}
.glyphicon-tent:before {
  content: "\26fa";
}
.glyphicon-blackboard:before {
  content: "\e218";
}
.glyphicon-bed:before {
  content: "\e219";
}
.glyphicon-apple:before {
  content: "\f8ff";
}
.glyphicon-erase:before {
  content: "\e221";
}
.glyphicon-hourglass:before {
  content: "\231b";
}
.glyphicon-lamp:before {
  content: "\e223";
}
.glyphicon-duplicate:before {
  content: "\e224";
}
.glyphicon-piggy-bank:before {
  content: "\e225";
}
.glyphicon-scissors:before {
  content: "\e226";
}
.glyphicon-bitcoin:before {
  content: "\e227";
}
.glyphicon-btc:before {
  content: "\e227";
}
.glyphicon-xbt:before {
  content: "\e227";
}
.glyphicon-yen:before {
  content: "\00a5";
}
.glyphicon-jpy:before {
  content: "\00a5";
}
.glyphicon-ruble:before {
  content: "\20bd";
}
.glyphicon-rub:before {
  content: "\20bd";
}
.glyphicon-scale:before {
  content: "\e230";
}
.glyphicon-ice-lolly:before {
  content: "\e231";
}
.glyphicon-ice-lolly-tasted:before {
  content: "\e232";
}
.glyphicon-education:before {
  content: "\e233";
}
.glyphicon-option-horizontal:before {
  content: "\e234";
}
.glyphicon-option-vertical:before {
  content: "\e235";
}
.glyphicon-menu-hamburger:before {
  content: "\e236";
}
.glyphicon-modal-window:before {
  content: "\e237";
}
.glyphicon-oil:before {
  content: "\e238";
}
.glyphicon-grain:before {
  content: "\e239";
}
.glyphicon-sunglasses:before {
  content: "\e240";
}
.glyphicon-text-size:before {
  content: "\e241";
}
.glyphicon-text-color:before {
  content: "\e242";
}
.glyphicon-text-background:before {
  content: "\e243";
}
.glyphicon-object-align-top:before {
  content: "\e244";
}
.glyphicon-object-align-bottom:before {
  content: "\e245";
}
.glyphicon-object-align-horizontal:before {
  content: "\e246";
}
.glyphicon-object-align-left:before {
  content: "\e247";
}
.glyphicon-object-align-vertical:before {
  content: "\e248";
}
.glyphicon-object-align-right:before {
  content: "\e249";
}
.glyphicon-triangle-right:before {
  content: "\e250";
}
.glyphicon-triangle-left:before {
  content: "\e251";
}
.glyphicon-triangle-bottom:before {
  content: "\e252";
}
.glyphicon-triangle-top:before {
  content: "\e253";
}
.glyphicon-console:before {
  content: "\e254";
}
.glyphicon-superscript:before {
  content: "\e255";
}
.glyphicon-subscript:before {
  content: "\e256";
}
.glyphicon-menu-left:before {
  content: "\e257";
}
.glyphicon-menu-right:before {
  content: "\e258";
}
.glyphicon-menu-down:before {
  content: "\e259";
}
.glyphicon-menu-up:before {
  content: "\e260";
}
* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
*:before,
*:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
html {
  font-size: 10px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 13px;
  line-height: 1.42857143;
  color: #000;
  background-color: #fff;
}
input,
button,
select,
textarea {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}
a {
  color: #337ab7;
  text-decoration: none;
}
a:hover,
a:focus {
  color: #23527c;
  text-decoration: underline;
}
a:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
figure {
  margin: 0;
}
img {
  vertical-align: middle;
}
.img-responsive,
.thumbnail > img,
.thumbnail a > img,
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  display: block;
  max-width: 100%;
  height: auto;
}
.img-rounded {
  border-radius: 3px;
}
.img-thumbnail {
  padding: 4px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
  display: inline-block;
  max-width: 100%;
  height: auto;
}
.img-circle {
  border-radius: 50%;
}
hr {
  margin-top: 18px;
  margin-bottom: 18px;
  border: 0;
  border-top: 1px solid #eeeeee;
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
[role="button"] {
  cursor: pointer;
}
h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  font-family: inherit;
  font-weight: 500;
  line-height: 1.1;
  color: inherit;
}
h1 small,
h2 small,
h3 small,
h4 small,
h5 small,
h6 small,
.h1 small,
.h2 small,
.h3 small,
.h4 small,
.h5 small,
.h6 small,
h1 .small,
h2 .small,
h3 .small,
h4 .small,
h5 .small,
h6 .small,
.h1 .small,
.h2 .small,
.h3 .small,
.h4 .small,
.h5 .small,
.h6 .small {
  font-weight: normal;
  line-height: 1;
  color: #777777;
}
h1,
.h1,
h2,
.h2,
h3,
.h3 {
  margin-top: 18px;
  margin-bottom: 9px;
}
h1 small,
.h1 small,
h2 small,
.h2 small,
h3 small,
.h3 small,
h1 .small,
.h1 .small,
h2 .small,
.h2 .small,
h3 .small,
.h3 .small {
  font-size: 65%;
}
h4,
.h4,
h5,
.h5,
h6,
.h6 {
  margin-top: 9px;
  margin-bottom: 9px;
}
h4 small,
.h4 small,
h5 small,
.h5 small,
h6 small,
.h6 small,
h4 .small,
.h4 .small,
h5 .small,
.h5 .small,
h6 .small,
.h6 .small {
  font-size: 75%;
}
h1,
.h1 {
  font-size: 33px;
}
h2,
.h2 {
  font-size: 27px;
}
h3,
.h3 {
  font-size: 23px;
}
h4,
.h4 {
  font-size: 17px;
}
h5,
.h5 {
  font-size: 13px;
}
h6,
.h6 {
  font-size: 12px;
}
p {
  margin: 0 0 9px;
}
.lead {
  margin-bottom: 18px;
  font-size: 14px;
  font-weight: 300;
  line-height: 1.4;
}
@media (min-width: 768px) {
  .lead {
    font-size: 19.5px;
  }
}
small,
.small {
  font-size: 92%;
}
mark,
.mark {
  background-color: #fcf8e3;
  padding: .2em;
}
.text-left {
  text-align: left;
}
.text-right {
  text-align: right;
}
.text-center {
  text-align: center;
}
.text-justify {
  text-align: justify;
}
.text-nowrap {
  white-space: nowrap;
}
.text-lowercase {
  text-transform: lowercase;
}
.text-uppercase {
  text-transform: uppercase;
}
.text-capitalize {
  text-transform: capitalize;
}
.text-muted {
  color: #777777;
}
.text-primary {
  color: #337ab7;
}
a.text-primary:hover,
a.text-primary:focus {
  color: #286090;
}
.text-success {
  color: #3c763d;
}
a.text-success:hover,
a.text-success:focus {
  color: #2b542c;
}
.text-info {
  color: #31708f;
}
a.text-info:hover,
a.text-info:focus {
  color: #245269;
}
.text-warning {
  color: #8a6d3b;
}
a.text-warning:hover,
a.text-warning:focus {
  color: #66512c;
}
.text-danger {
  color: #a94442;
}
a.text-danger:hover,
a.text-danger:focus {
  color: #843534;
}
.bg-primary {
  color: #fff;
  background-color: #337ab7;
}
a.bg-primary:hover,
a.bg-primary:focus {
  background-color: #286090;
}
.bg-success {
  background-color: #dff0d8;
}
a.bg-success:hover,
a.bg-success:focus {
  background-color: #c1e2b3;
}
.bg-info {
  background-color: #d9edf7;
}
a.bg-info:hover,
a.bg-info:focus {
  background-color: #afd9ee;
}
.bg-warning {
  background-color: #fcf8e3;
}
a.bg-warning:hover,
a.bg-warning:focus {
  background-color: #f7ecb5;
}
.bg-danger {
  background-color: #f2dede;
}
a.bg-danger:hover,
a.bg-danger:focus {
  background-color: #e4b9b9;
}
.page-header {
  padding-bottom: 8px;
  margin: 36px 0 18px;
  border-bottom: 1px solid #eeeeee;
}
ul,
ol {
  margin-top: 0;
  margin-bottom: 9px;
}
ul ul,
ol ul,
ul ol,
ol ol {
  margin-bottom: 0;
}
.list-unstyled {
  padding-left: 0;
  list-style: none;
}
.list-inline {
  padding-left: 0;
  list-style: none;
  margin-left: -5px;
}
.list-inline > li {
  display: inline-block;
  padding-left: 5px;
  padding-right: 5px;
}
dl {
  margin-top: 0;
  margin-bottom: 18px;
}
dt,
dd {
  line-height: 1.42857143;
}
dt {
  font-weight: bold;
}
dd {
  margin-left: 0;
}
@media (min-width: 541px) {
  .dl-horizontal dt {
    float: left;
    width: 160px;
    clear: left;
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .dl-horizontal dd {
    margin-left: 180px;
  }
}
abbr[title],
abbr[data-original-title] {
  cursor: help;
  border-bottom: 1px dotted #777777;
}
.initialism {
  font-size: 90%;
  text-transform: uppercase;
}
blockquote {
  padding: 9px 18px;
  margin: 0 0 18px;
  font-size: inherit;
  border-left: 5px solid #eeeeee;
}
blockquote p:last-child,
blockquote ul:last-child,
blockquote ol:last-child {
  margin-bottom: 0;
}
blockquote footer,
blockquote small,
blockquote .small {
  display: block;
  font-size: 80%;
  line-height: 1.42857143;
  color: #777777;
}
blockquote footer:before,
blockquote small:before,
blockquote .small:before {
  content: '\2014 \00A0';
}
.blockquote-reverse,
blockquote.pull-right {
  padding-right: 15px;
  padding-left: 0;
  border-right: 5px solid #eeeeee;
  border-left: 0;
  text-align: right;
}
.blockquote-reverse footer:before,
blockquote.pull-right footer:before,
.blockquote-reverse small:before,
blockquote.pull-right small:before,
.blockquote-reverse .small:before,
blockquote.pull-right .small:before {
  content: '';
}
.blockquote-reverse footer:after,
blockquote.pull-right footer:after,
.blockquote-reverse small:after,
blockquote.pull-right small:after,
.blockquote-reverse .small:after,
blockquote.pull-right .small:after {
  content: '\00A0 \2014';
}
address {
  margin-bottom: 18px;
  font-style: normal;
  line-height: 1.42857143;
}
code,
kbd,
pre,
samp {
  font-family: monospace;
}
code {
  padding: 2px 4px;
  font-size: 90%;
  color: #c7254e;
  background-color: #f9f2f4;
  border-radius: 2px;
}
kbd {
  padding: 2px 4px;
  font-size: 90%;
  color: #888;
  background-color: transparent;
  border-radius: 1px;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);
}
kbd kbd {
  padding: 0;
  font-size: 100%;
  font-weight: bold;
  box-shadow: none;
}
pre {
  display: block;
  padding: 8.5px;
  margin: 0 0 9px;
  font-size: 12px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  color: #333333;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 2px;
}
pre code {
  padding: 0;
  font-size: inherit;
  color: inherit;
  white-space: pre-wrap;
  background-color: transparent;
  border-radius: 0;
}
.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll;
}
.container {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
@media (min-width: 768px) {
  .container {
    width: 768px;
  }
}
@media (min-width: 992px) {
  .container {
    width: 940px;
  }
}
@media (min-width: 1200px) {
  .container {
    width: 1140px;
  }
}
.container-fluid {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
.row {
  margin-left: 0px;
  margin-right: 0px;
}
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
  position: relative;
  min-height: 1px;
  padding-left: 0px;
  padding-right: 0px;
}
.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {
  float: left;
}
.col-xs-12 {
  width: 100%;
}
.col-xs-11 {
  width: 91.66666667%;
}
.col-xs-10 {
  width: 83.33333333%;
}
.col-xs-9 {
  width: 75%;
}
.col-xs-8 {
  width: 66.66666667%;
}
.col-xs-7 {
  width: 58.33333333%;
}
.col-xs-6 {
  width: 50%;
}
.col-xs-5 {
  width: 41.66666667%;
}
.col-xs-4 {
  width: 33.33333333%;
}
.col-xs-3 {
  width: 25%;
}
.col-xs-2 {
  width: 16.66666667%;
}
.col-xs-1 {
  width: 8.33333333%;
}
.col-xs-pull-12 {
  right: 100%;
}
.col-xs-pull-11 {
  right: 91.66666667%;
}
.col-xs-pull-10 {
  right: 83.33333333%;
}
.col-xs-pull-9 {
  right: 75%;
}
.col-xs-pull-8 {
  right: 66.66666667%;
}
.col-xs-pull-7 {
  right: 58.33333333%;
}
.col-xs-pull-6 {
  right: 50%;
}
.col-xs-pull-5 {
  right: 41.66666667%;
}
.col-xs-pull-4 {
  right: 33.33333333%;
}
.col-xs-pull-3 {
  right: 25%;
}
.col-xs-pull-2 {
  right: 16.66666667%;
}
.col-xs-pull-1 {
  right: 8.33333333%;
}
.col-xs-pull-0 {
  right: auto;
}
.col-xs-push-12 {
  left: 100%;
}
.col-xs-push-11 {
  left: 91.66666667%;
}
.col-xs-push-10 {
  left: 83.33333333%;
}
.col-xs-push-9 {
  left: 75%;
}
.col-xs-push-8 {
  left: 66.66666667%;
}
.col-xs-push-7 {
  left: 58.33333333%;
}
.col-xs-push-6 {
  left: 50%;
}
.col-xs-push-5 {
  left: 41.66666667%;
}
.col-xs-push-4 {
  left: 33.33333333%;
}
.col-xs-push-3 {
  left: 25%;
}
.col-xs-push-2 {
  left: 16.66666667%;
}
.col-xs-push-1 {
  left: 8.33333333%;
}
.col-xs-push-0 {
  left: auto;
}
.col-xs-offset-12 {
  margin-left: 100%;
}
.col-xs-offset-11 {
  margin-left: 91.66666667%;
}
.col-xs-offset-10 {
  margin-left: 83.33333333%;
}
.col-xs-offset-9 {
  margin-left: 75%;
}
.col-xs-offset-8 {
  margin-left: 66.66666667%;
}
.col-xs-offset-7 {
  margin-left: 58.33333333%;
}
.col-xs-offset-6 {
  margin-left: 50%;
}
.col-xs-offset-5 {
  margin-left: 41.66666667%;
}
.col-xs-offset-4 {
  margin-left: 33.33333333%;
}
.col-xs-offset-3 {
  margin-left: 25%;
}
.col-xs-offset-2 {
  margin-left: 16.66666667%;
}
.col-xs-offset-1 {
  margin-left: 8.33333333%;
}
.col-xs-offset-0 {
  margin-left: 0%;
}
@media (min-width: 768px) {
  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
    float: left;
  }
  .col-sm-12 {
    width: 100%;
  }
  .col-sm-11 {
    width: 91.66666667%;
  }
  .col-sm-10 {
    width: 83.33333333%;
  }
  .col-sm-9 {
    width: 75%;
  }
  .col-sm-8 {
    width: 66.66666667%;
  }
  .col-sm-7 {
    width: 58.33333333%;
  }
  .col-sm-6 {
    width: 50%;
  }
  .col-sm-5 {
    width: 41.66666667%;
  }
  .col-sm-4 {
    width: 33.33333333%;
  }
  .col-sm-3 {
    width: 25%;
  }
  .col-sm-2 {
    width: 16.66666667%;
  }
  .col-sm-1 {
    width: 8.33333333%;
  }
  .col-sm-pull-12 {
    right: 100%;
  }
  .col-sm-pull-11 {
    right: 91.66666667%;
  }
  .col-sm-pull-10 {
    right: 83.33333333%;
  }
  .col-sm-pull-9 {
    right: 75%;
  }
  .col-sm-pull-8 {
    right: 66.66666667%;
  }
  .col-sm-pull-7 {
    right: 58.33333333%;
  }
  .col-sm-pull-6 {
    right: 50%;
  }
  .col-sm-pull-5 {
    right: 41.66666667%;
  }
  .col-sm-pull-4 {
    right: 33.33333333%;
  }
  .col-sm-pull-3 {
    right: 25%;
  }
  .col-sm-pull-2 {
    right: 16.66666667%;
  }
  .col-sm-pull-1 {
    right: 8.33333333%;
  }
  .col-sm-pull-0 {
    right: auto;
  }
  .col-sm-push-12 {
    left: 100%;
  }
  .col-sm-push-11 {
    left: 91.66666667%;
  }
  .col-sm-push-10 {
    left: 83.33333333%;
  }
  .col-sm-push-9 {
    left: 75%;
  }
  .col-sm-push-8 {
    left: 66.66666667%;
  }
  .col-sm-push-7 {
    left: 58.33333333%;
  }
  .col-sm-push-6 {
    left: 50%;
  }
  .col-sm-push-5 {
    left: 41.66666667%;
  }
  .col-sm-push-4 {
    left: 33.33333333%;
  }
  .col-sm-push-3 {
    left: 25%;
  }
  .col-sm-push-2 {
    left: 16.66666667%;
  }
  .col-sm-push-1 {
    left: 8.33333333%;
  }
  .col-sm-push-0 {
    left: auto;
  }
  .col-sm-offset-12 {
    margin-left: 100%;
  }
  .col-sm-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-sm-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-sm-offset-9 {
    margin-left: 75%;
  }
  .col-sm-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-sm-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-sm-offset-6 {
    margin-left: 50%;
  }
  .col-sm-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-sm-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-sm-offset-3 {
    margin-left: 25%;
  }
  .col-sm-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-sm-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-sm-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 992px) {
  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
    float: left;
  }
  .col-md-12 {
    width: 100%;
  }
  .col-md-11 {
    width: 91.66666667%;
  }
  .col-md-10 {
    width: 83.33333333%;
  }
  .col-md-9 {
    width: 75%;
  }
  .col-md-8 {
    width: 66.66666667%;
  }
  .col-md-7 {
    width: 58.33333333%;
  }
  .col-md-6 {
    width: 50%;
  }
  .col-md-5 {
    width: 41.66666667%;
  }
  .col-md-4 {
    width: 33.33333333%;
  }
  .col-md-3 {
    width: 25%;
  }
  .col-md-2 {
    width: 16.66666667%;
  }
  .col-md-1 {
    width: 8.33333333%;
  }
  .col-md-pull-12 {
    right: 100%;
  }
  .col-md-pull-11 {
    right: 91.66666667%;
  }
  .col-md-pull-10 {
    right: 83.33333333%;
  }
  .col-md-pull-9 {
    right: 75%;
  }
  .col-md-pull-8 {
    right: 66.66666667%;
  }
  .col-md-pull-7 {
    right: 58.33333333%;
  }
  .col-md-pull-6 {
    right: 50%;
  }
  .col-md-pull-5 {
    right: 41.66666667%;
  }
  .col-md-pull-4 {
    right: 33.33333333%;
  }
  .col-md-pull-3 {
    right: 25%;
  }
  .col-md-pull-2 {
    right: 16.66666667%;
  }
  .col-md-pull-1 {
    right: 8.33333333%;
  }
  .col-md-pull-0 {
    right: auto;
  }
  .col-md-push-12 {
    left: 100%;
  }
  .col-md-push-11 {
    left: 91.66666667%;
  }
  .col-md-push-10 {
    left: 83.33333333%;
  }
  .col-md-push-9 {
    left: 75%;
  }
  .col-md-push-8 {
    left: 66.66666667%;
  }
  .col-md-push-7 {
    left: 58.33333333%;
  }
  .col-md-push-6 {
    left: 50%;
  }
  .col-md-push-5 {
    left: 41.66666667%;
  }
  .col-md-push-4 {
    left: 33.33333333%;
  }
  .col-md-push-3 {
    left: 25%;
  }
  .col-md-push-2 {
    left: 16.66666667%;
  }
  .col-md-push-1 {
    left: 8.33333333%;
  }
  .col-md-push-0 {
    left: auto;
  }
  .col-md-offset-12 {
    margin-left: 100%;
  }
  .col-md-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-md-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-md-offset-9 {
    margin-left: 75%;
  }
  .col-md-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-md-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-md-offset-6 {
    margin-left: 50%;
  }
  .col-md-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-md-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-md-offset-3 {
    margin-left: 25%;
  }
  .col-md-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-md-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-md-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 1200px) {
  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
    float: left;
  }
  .col-lg-12 {
    width: 100%;
  }
  .col-lg-11 {
    width: 91.66666667%;
  }
  .col-lg-10 {
    width: 83.33333333%;
  }
  .col-lg-9 {
    width: 75%;
  }
  .col-lg-8 {
    width: 66.66666667%;
  }
  .col-lg-7 {
    width: 58.33333333%;
  }
  .col-lg-6 {
    width: 50%;
  }
  .col-lg-5 {
    width: 41.66666667%;
  }
  .col-lg-4 {
    width: 33.33333333%;
  }
  .col-lg-3 {
    width: 25%;
  }
  .col-lg-2 {
    width: 16.66666667%;
  }
  .col-lg-1 {
    width: 8.33333333%;
  }
  .col-lg-pull-12 {
    right: 100%;
  }
  .col-lg-pull-11 {
    right: 91.66666667%;
  }
  .col-lg-pull-10 {
    right: 83.33333333%;
  }
  .col-lg-pull-9 {
    right: 75%;
  }
  .col-lg-pull-8 {
    right: 66.66666667%;
  }
  .col-lg-pull-7 {
    right: 58.33333333%;
  }
  .col-lg-pull-6 {
    right: 50%;
  }
  .col-lg-pull-5 {
    right: 41.66666667%;
  }
  .col-lg-pull-4 {
    right: 33.33333333%;
  }
  .col-lg-pull-3 {
    right: 25%;
  }
  .col-lg-pull-2 {
    right: 16.66666667%;
  }
  .col-lg-pull-1 {
    right: 8.33333333%;
  }
  .col-lg-pull-0 {
    right: auto;
  }
  .col-lg-push-12 {
    left: 100%;
  }
  .col-lg-push-11 {
    left: 91.66666667%;
  }
  .col-lg-push-10 {
    left: 83.33333333%;
  }
  .col-lg-push-9 {
    left: 75%;
  }
  .col-lg-push-8 {
    left: 66.66666667%;
  }
  .col-lg-push-7 {
    left: 58.33333333%;
  }
  .col-lg-push-6 {
    left: 50%;
  }
  .col-lg-push-5 {
    left: 41.66666667%;
  }
  .col-lg-push-4 {
    left: 33.33333333%;
  }
  .col-lg-push-3 {
    left: 25%;
  }
  .col-lg-push-2 {
    left: 16.66666667%;
  }
  .col-lg-push-1 {
    left: 8.33333333%;
  }
  .col-lg-push-0 {
    left: auto;
  }
  .col-lg-offset-12 {
    margin-left: 100%;
  }
  .col-lg-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-lg-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-lg-offset-9 {
    margin-left: 75%;
  }
  .col-lg-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-lg-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-lg-offset-6 {
    margin-left: 50%;
  }
  .col-lg-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-lg-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-lg-offset-3 {
    margin-left: 25%;
  }
  .col-lg-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-lg-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-lg-offset-0 {
    margin-left: 0%;
  }
}
table {
  background-color: transparent;
}
caption {
  padding-top: 8px;
  padding-bottom: 8px;
  color: #777777;
  text-align: left;
}
th {
  text-align: left;
}
.table {
  width: 100%;
  max-width: 100%;
  margin-bottom: 18px;
}
.table > thead > tr > th,
.table > tbody > tr > th,
.table > tfoot > tr > th,
.table > thead > tr > td,
.table > tbody > tr > td,
.table > tfoot > tr > td {
  padding: 8px;
  line-height: 1.42857143;
  vertical-align: top;
  border-top: 1px solid #ddd;
}
.table > thead > tr > th {
  vertical-align: bottom;
  border-bottom: 2px solid #ddd;
}
.table > caption + thead > tr:first-child > th,
.table > colgroup + thead > tr:first-child > th,
.table > thead:first-child > tr:first-child > th,
.table > caption + thead > tr:first-child > td,
.table > colgroup + thead > tr:first-child > td,
.table > thead:first-child > tr:first-child > td {
  border-top: 0;
}
.table > tbody + tbody {
  border-top: 2px solid #ddd;
}
.table .table {
  background-color: #fff;
}
.table-condensed > thead > tr > th,
.table-condensed > tbody > tr > th,
.table-condensed > tfoot > tr > th,
.table-condensed > thead > tr > td,
.table-condensed > tbody > tr > td,
.table-condensed > tfoot > tr > td {
  padding: 5px;
}
.table-bordered {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > tbody > tr > th,
.table-bordered > tfoot > tr > th,
.table-bordered > thead > tr > td,
.table-bordered > tbody > tr > td,
.table-bordered > tfoot > tr > td {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > thead > tr > td {
  border-bottom-width: 2px;
}
.table-striped > tbody > tr:nth-of-type(odd) {
  background-color: #f9f9f9;
}
.table-hover > tbody > tr:hover {
  background-color: #f5f5f5;
}
table col[class*="col-"] {
  position: static;
  float: none;
  display: table-column;
}
table td[class*="col-"],
table th[class*="col-"] {
  position: static;
  float: none;
  display: table-cell;
}
.table > thead > tr > td.active,
.table > tbody > tr > td.active,
.table > tfoot > tr > td.active,
.table > thead > tr > th.active,
.table > tbody > tr > th.active,
.table > tfoot > tr > th.active,
.table > thead > tr.active > td,
.table > tbody > tr.active > td,
.table > tfoot > tr.active > td,
.table > thead > tr.active > th,
.table > tbody > tr.active > th,
.table > tfoot > tr.active > th {
  background-color: #f5f5f5;
}
.table-hover > tbody > tr > td.active:hover,
.table-hover > tbody > tr > th.active:hover,
.table-hover > tbody > tr.active:hover > td,
.table-hover > tbody > tr:hover > .active,
.table-hover > tbody > tr.active:hover > th {
  background-color: #e8e8e8;
}
.table > thead > tr > td.success,
.table > tbody > tr > td.success,
.table > tfoot > tr > td.success,
.table > thead > tr > th.success,
.table > tbody > tr > th.success,
.table > tfoot > tr > th.success,
.table > thead > tr.success > td,
.table > tbody > tr.success > td,
.table > tfoot > tr.success > td,
.table > thead > tr.success > th,
.table > tbody > tr.success > th,
.table > tfoot > tr.success > th {
  background-color: #dff0d8;
}
.table-hover > tbody > tr > td.success:hover,
.table-hover > tbody > tr > th.success:hover,
.table-hover > tbody > tr.success:hover > td,
.table-hover > tbody > tr:hover > .success,
.table-hover > tbody > tr.success:hover > th {
  background-color: #d0e9c6;
}
.table > thead > tr > td.info,
.table > tbody > tr > td.info,
.table > tfoot > tr > td.info,
.table > thead > tr > th.info,
.table > tbody > tr > th.info,
.table > tfoot > tr > th.info,
.table > thead > tr.info > td,
.table > tbody > tr.info > td,
.table > tfoot > tr.info > td,
.table > thead > tr.info > th,
.table > tbody > tr.info > th,
.table > tfoot > tr.info > th {
  background-color: #d9edf7;
}
.table-hover > tbody > tr > td.info:hover,
.table-hover > tbody > tr > th.info:hover,
.table-hover > tbody > tr.info:hover > td,
.table-hover > tbody > tr:hover > .info,
.table-hover > tbody > tr.info:hover > th {
  background-color: #c4e3f3;
}
.table > thead > tr > td.warning,
.table > tbody > tr > td.warning,
.table > tfoot > tr > td.warning,
.table > thead > tr > th.warning,
.table > tbody > tr > th.warning,
.table > tfoot > tr > th.warning,
.table > thead > tr.warning > td,
.table > tbody > tr.warning > td,
.table > tfoot > tr.warning > td,
.table > thead > tr.warning > th,
.table > tbody > tr.warning > th,
.table > tfoot > tr.warning > th {
  background-color: #fcf8e3;
}
.table-hover > tbody > tr > td.warning:hover,
.table-hover > tbody > tr > th.warning:hover,
.table-hover > tbody > tr.warning:hover > td,
.table-hover > tbody > tr:hover > .warning,
.table-hover > tbody > tr.warning:hover > th {
  background-color: #faf2cc;
}
.table > thead > tr > td.danger,
.table > tbody > tr > td.danger,
.table > tfoot > tr > td.danger,
.table > thead > tr > th.danger,
.table > tbody > tr > th.danger,
.table > tfoot > tr > th.danger,
.table > thead > tr.danger > td,
.table > tbody > tr.danger > td,
.table > tfoot > tr.danger > td,
.table > thead > tr.danger > th,
.table > tbody > tr.danger > th,
.table > tfoot > tr.danger > th {
  background-color: #f2dede;
}
.table-hover > tbody > tr > td.danger:hover,
.table-hover > tbody > tr > th.danger:hover,
.table-hover > tbody > tr.danger:hover > td,
.table-hover > tbody > tr:hover > .danger,
.table-hover > tbody > tr.danger:hover > th {
  background-color: #ebcccc;
}
.table-responsive {
  overflow-x: auto;
  min-height: 0.01%;
}
@media screen and (max-width: 767px) {
  .table-responsive {
    width: 100%;
    margin-bottom: 13.5px;
    overflow-y: hidden;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    border: 1px solid #ddd;
  }
  .table-responsive > .table {
    margin-bottom: 0;
  }
  .table-responsive > .table > thead > tr > th,
  .table-responsive > .table > tbody > tr > th,
  .table-responsive > .table > tfoot > tr > th,
  .table-responsive > .table > thead > tr > td,
  .table-responsive > .table > tbody > tr > td,
  .table-responsive > .table > tfoot > tr > td {
    white-space: nowrap;
  }
  .table-responsive > .table-bordered {
    border: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:first-child,
  .table-responsive > .table-bordered > tbody > tr > th:first-child,
  .table-responsive > .table-bordered > tfoot > tr > th:first-child,
  .table-responsive > .table-bordered > thead > tr > td:first-child,
  .table-responsive > .table-bordered > tbody > tr > td:first-child,
  .table-responsive > .table-bordered > tfoot > tr > td:first-child {
    border-left: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:last-child,
  .table-responsive > .table-bordered > tbody > tr > th:last-child,
  .table-responsive > .table-bordered > tfoot > tr > th:last-child,
  .table-responsive > .table-bordered > thead > tr > td:last-child,
  .table-responsive > .table-bordered > tbody > tr > td:last-child,
  .table-responsive > .table-bordered > tfoot > tr > td:last-child {
    border-right: 0;
  }
  .table-responsive > .table-bordered > tbody > tr:last-child > th,
  .table-responsive > .table-bordered > tfoot > tr:last-child > th,
  .table-responsive > .table-bordered > tbody > tr:last-child > td,
  .table-responsive > .table-bordered > tfoot > tr:last-child > td {
    border-bottom: 0;
  }
}
fieldset {
  padding: 0;
  margin: 0;
  border: 0;
  min-width: 0;
}
legend {
  display: block;
  width: 100%;
  padding: 0;
  margin-bottom: 18px;
  font-size: 19.5px;
  line-height: inherit;
  color: #333333;
  border: 0;
  border-bottom: 1px solid #e5e5e5;
}
label {
  display: inline-block;
  max-width: 100%;
  margin-bottom: 5px;
  font-weight: bold;
}
input[type="search"] {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
input[type="radio"],
input[type="checkbox"] {
  margin: 4px 0 0;
  margin-top: 1px \9;
  line-height: normal;
}
input[type="file"] {
  display: block;
}
input[type="range"] {
  display: block;
  width: 100%;
}
select[multiple],
select[size] {
  height: auto;
}
input[type="file"]:focus,
input[type="radio"]:focus,
input[type="checkbox"]:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
output {
  display: block;
  padding-top: 7px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
}
.form-control {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}
.form-control:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.form-control::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.form-control:-ms-input-placeholder {
  color: #999;
}
.form-control::-webkit-input-placeholder {
  color: #999;
}
.form-control::-ms-expand {
  border: 0;
  background-color: transparent;
}
.form-control[disabled],
.form-control[readonly],
fieldset[disabled] .form-control {
  background-color: #eeeeee;
  opacity: 1;
}
.form-control[disabled],
fieldset[disabled] .form-control {
  cursor: not-allowed;
}
textarea.form-control {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: none;
}
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  input[type="date"].form-control,
  input[type="time"].form-control,
  input[type="datetime-local"].form-control,
  input[type="month"].form-control {
    line-height: 32px;
  }
  input[type="date"].input-sm,
  input[type="time"].input-sm,
  input[type="datetime-local"].input-sm,
  input[type="month"].input-sm,
  .input-group-sm input[type="date"],
  .input-group-sm input[type="time"],
  .input-group-sm input[type="datetime-local"],
  .input-group-sm input[type="month"] {
    line-height: 30px;
  }
  input[type="date"].input-lg,
  input[type="time"].input-lg,
  input[type="datetime-local"].input-lg,
  input[type="month"].input-lg,
  .input-group-lg input[type="date"],
  .input-group-lg input[type="time"],
  .input-group-lg input[type="datetime-local"],
  .input-group-lg input[type="month"] {
    line-height: 45px;
  }
}
.form-group {
  margin-bottom: 15px;
}
.radio,
.checkbox {
  position: relative;
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
.radio label,
.checkbox label {
  min-height: 18px;
  padding-left: 20px;
  margin-bottom: 0;
  font-weight: normal;
  cursor: pointer;
}
.radio input[type="radio"],
.radio-inline input[type="radio"],
.checkbox input[type="checkbox"],
.checkbox-inline input[type="checkbox"] {
  position: absolute;
  margin-left: -20px;
  margin-top: 4px \9;
}
.radio + .radio,
.checkbox + .checkbox {
  margin-top: -5px;
}
.radio-inline,
.checkbox-inline {
  position: relative;
  display: inline-block;
  padding-left: 20px;
  margin-bottom: 0;
  vertical-align: middle;
  font-weight: normal;
  cursor: pointer;
}
.radio-inline + .radio-inline,
.checkbox-inline + .checkbox-inline {
  margin-top: 0;
  margin-left: 10px;
}
input[type="radio"][disabled],
input[type="checkbox"][disabled],
input[type="radio"].disabled,
input[type="checkbox"].disabled,
fieldset[disabled] input[type="radio"],
fieldset[disabled] input[type="checkbox"] {
  cursor: not-allowed;
}
.radio-inline.disabled,
.checkbox-inline.disabled,
fieldset[disabled] .radio-inline,
fieldset[disabled] .checkbox-inline {
  cursor: not-allowed;
}
.radio.disabled label,
.checkbox.disabled label,
fieldset[disabled] .radio label,
fieldset[disabled] .checkbox label {
  cursor: not-allowed;
}
.form-control-static {
  padding-top: 7px;
  padding-bottom: 7px;
  margin-bottom: 0;
  min-height: 31px;
}
.form-control-static.input-lg,
.form-control-static.input-sm {
  padding-left: 0;
  padding-right: 0;
}
.input-sm {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-sm {
  height: 30px;
  line-height: 30px;
}
textarea.input-sm,
select[multiple].input-sm {
  height: auto;
}
.form-group-sm .form-control {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.form-group-sm select.form-control {
  height: 30px;
  line-height: 30px;
}
.form-group-sm textarea.form-control,
.form-group-sm select[multiple].form-control {
  height: auto;
}
.form-group-sm .form-control-static {
  height: 30px;
  min-height: 30px;
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.input-lg {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-lg {
  height: 45px;
  line-height: 45px;
}
textarea.input-lg,
select[multiple].input-lg {
  height: auto;
}
.form-group-lg .form-control {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.form-group-lg select.form-control {
  height: 45px;
  line-height: 45px;
}
.form-group-lg textarea.form-control,
.form-group-lg select[multiple].form-control {
  height: auto;
}
.form-group-lg .form-control-static {
  height: 45px;
  min-height: 35px;
  padding: 11px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.has-feedback {
  position: relative;
}
.has-feedback .form-control {
  padding-right: 40px;
}
.form-control-feedback {
  position: absolute;
  top: 0;
  right: 0;
  z-index: 2;
  display: block;
  width: 32px;
  height: 32px;
  line-height: 32px;
  text-align: center;
  pointer-events: none;
}
.input-lg + .form-control-feedback,
.input-group-lg + .form-control-feedback,
.form-group-lg .form-control + .form-control-feedback {
  width: 45px;
  height: 45px;
  line-height: 45px;
}
.input-sm + .form-control-feedback,
.input-group-sm + .form-control-feedback,
.form-group-sm .form-control + .form-control-feedback {
  width: 30px;
  height: 30px;
  line-height: 30px;
}
.has-success .help-block,
.has-success .control-label,
.has-success .radio,
.has-success .checkbox,
.has-success .radio-inline,
.has-success .checkbox-inline,
.has-success.radio label,
.has-success.checkbox label,
.has-success.radio-inline label,
.has-success.checkbox-inline label {
  color: #3c763d;
}
.has-success .form-control {
  border-color: #3c763d;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-success .form-control:focus {
  border-color: #2b542c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
}
.has-success .input-group-addon {
  color: #3c763d;
  border-color: #3c763d;
  background-color: #dff0d8;
}
.has-success .form-control-feedback {
  color: #3c763d;
}
.has-warning .help-block,
.has-warning .control-label,
.has-warning .radio,
.has-warning .checkbox,
.has-warning .radio-inline,
.has-warning .checkbox-inline,
.has-warning.radio label,
.has-warning.checkbox label,
.has-warning.radio-inline label,
.has-warning.checkbox-inline label {
  color: #8a6d3b;
}
.has-warning .form-control {
  border-color: #8a6d3b;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-warning .form-control:focus {
  border-color: #66512c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
}
.has-warning .input-group-addon {
  color: #8a6d3b;
  border-color: #8a6d3b;
  background-color: #fcf8e3;
}
.has-warning .form-control-feedback {
  color: #8a6d3b;
}
.has-error .help-block,
.has-error .control-label,
.has-error .radio,
.has-error .checkbox,
.has-error .radio-inline,
.has-error .checkbox-inline,
.has-error.radio label,
.has-error.checkbox label,
.has-error.radio-inline label,
.has-error.checkbox-inline label {
  color: #a94442;
}
.has-error .form-control {
  border-color: #a94442;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-error .form-control:focus {
  border-color: #843534;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
}
.has-error .input-group-addon {
  color: #a94442;
  border-color: #a94442;
  background-color: #f2dede;
}
.has-error .form-control-feedback {
  color: #a94442;
}
.has-feedback label ~ .form-control-feedback {
  top: 23px;
}
.has-feedback label.sr-only ~ .form-control-feedback {
  top: 0;
}
.help-block {
  display: block;
  margin-top: 5px;
  margin-bottom: 10px;
  color: #404040;
}
@media (min-width: 768px) {
  .form-inline .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .form-inline .form-control-static {
    display: inline-block;
  }
  .form-inline .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .form-inline .input-group .input-group-addon,
  .form-inline .input-group .input-group-btn,
  .form-inline .input-group .form-control {
    width: auto;
  }
  .form-inline .input-group > .form-control {
    width: 100%;
  }
  .form-inline .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio,
  .form-inline .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio label,
  .form-inline .checkbox label {
    padding-left: 0;
  }
  .form-inline .radio input[type="radio"],
  .form-inline .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .form-inline .has-feedback .form-control-feedback {
    top: 0;
  }
}
.form-horizontal .radio,
.form-horizontal .checkbox,
.form-horizontal .radio-inline,
.form-horizontal .checkbox-inline {
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 7px;
}
.form-horizontal .radio,
.form-horizontal .checkbox {
  min-height: 25px;
}
.form-horizontal .form-group {
  margin-left: 0px;
  margin-right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .control-label {
    text-align: right;
    margin-bottom: 0;
    padding-top: 7px;
  }
}
.form-horizontal .has-feedback .form-control-feedback {
  right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .form-group-lg .control-label {
    padding-top: 11px;
    font-size: 17px;
  }
}
@media (min-width: 768px) {
  .form-horizontal .form-group-sm .control-label {
    padding-top: 6px;
    font-size: 12px;
  }
}
.btn {
  display: inline-block;
  margin-bottom: 0;
  font-weight: normal;
  text-align: center;
  vertical-align: middle;
  touch-action: manipulation;
  cursor: pointer;
  background-image: none;
  border: 1px solid transparent;
  white-space: nowrap;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  border-radius: 2px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.btn:focus,
.btn:active:focus,
.btn.active:focus,
.btn.focus,
.btn:active.focus,
.btn.active.focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
.btn:hover,
.btn:focus,
.btn.focus {
  color: #333;
  text-decoration: none;
}
.btn:active,
.btn.active {
  outline: 0;
  background-image: none;
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn.disabled,
.btn[disabled],
fieldset[disabled] .btn {
  cursor: not-allowed;
  opacity: 0.65;
  filter: alpha(opacity=65);
  -webkit-box-shadow: none;
  box-shadow: none;
}
a.btn.disabled,
fieldset[disabled] a.btn {
  pointer-events: none;
}
.btn-default {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.btn-default:focus,
.btn-default.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.btn-default:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active:hover,
.btn-default.active:hover,
.open > .dropdown-toggle.btn-default:hover,
.btn-default:active:focus,
.btn-default.active:focus,
.open > .dropdown-toggle.btn-default:focus,
.btn-default:active.focus,
.btn-default.active.focus,
.open > .dropdown-toggle.btn-default.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  background-image: none;
}
.btn-default.disabled:hover,
.btn-default[disabled]:hover,
fieldset[disabled] .btn-default:hover,
.btn-default.disabled:focus,
.btn-default[disabled]:focus,
fieldset[disabled] .btn-default:focus,
.btn-default.disabled.focus,
.btn-default[disabled].focus,
fieldset[disabled] .btn-default.focus {
  background-color: #fff;
  border-color: #ccc;
}
.btn-default .badge {
  color: #fff;
  background-color: #333;
}
.btn-primary {
  color: #fff;
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary:focus,
.btn-primary.focus {
  color: #fff;
  background-color: #286090;
  border-color: #122b40;
}
.btn-primary:hover {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active:hover,
.btn-primary.active:hover,
.open > .dropdown-toggle.btn-primary:hover,
.btn-primary:active:focus,
.btn-primary.active:focus,
.open > .dropdown-toggle.btn-primary:focus,
.btn-primary:active.focus,
.btn-primary.active.focus,
.open > .dropdown-toggle.btn-primary.focus {
  color: #fff;
  background-color: #204d74;
  border-color: #122b40;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  background-image: none;
}
.btn-primary.disabled:hover,
.btn-primary[disabled]:hover,
fieldset[disabled] .btn-primary:hover,
.btn-primary.disabled:focus,
.btn-primary[disabled]:focus,
fieldset[disabled] .btn-primary:focus,
.btn-primary.disabled.focus,
.btn-primary[disabled].focus,
fieldset[disabled] .btn-primary.focus {
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary .badge {
  color: #337ab7;
  background-color: #fff;
}
.btn-success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success:focus,
.btn-success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.btn-success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active:hover,
.btn-success.active:hover,
.open > .dropdown-toggle.btn-success:hover,
.btn-success:active:focus,
.btn-success.active:focus,
.open > .dropdown-toggle.btn-success:focus,
.btn-success:active.focus,
.btn-success.active.focus,
.open > .dropdown-toggle.btn-success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  background-image: none;
}
.btn-success.disabled:hover,
.btn-success[disabled]:hover,
fieldset[disabled] .btn-success:hover,
.btn-success.disabled:focus,
.btn-success[disabled]:focus,
fieldset[disabled] .btn-success:focus,
.btn-success.disabled.focus,
.btn-success[disabled].focus,
fieldset[disabled] .btn-success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.btn-info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info:focus,
.btn-info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.btn-info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active:hover,
.btn-info.active:hover,
.open > .dropdown-toggle.btn-info:hover,
.btn-info:active:focus,
.btn-info.active:focus,
.open > .dropdown-toggle.btn-info:focus,
.btn-info:active.focus,
.btn-info.active.focus,
.open > .dropdown-toggle.btn-info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  background-image: none;
}
.btn-info.disabled:hover,
.btn-info[disabled]:hover,
fieldset[disabled] .btn-info:hover,
.btn-info.disabled:focus,
.btn-info[disabled]:focus,
fieldset[disabled] .btn-info:focus,
.btn-info.disabled.focus,
.btn-info[disabled].focus,
fieldset[disabled] .btn-info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.btn-warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning:focus,
.btn-warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.btn-warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active:hover,
.btn-warning.active:hover,
.open > .dropdown-toggle.btn-warning:hover,
.btn-warning:active:focus,
.btn-warning.active:focus,
.open > .dropdown-toggle.btn-warning:focus,
.btn-warning:active.focus,
.btn-warning.active.focus,
.open > .dropdown-toggle.btn-warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  background-image: none;
}
.btn-warning.disabled:hover,
.btn-warning[disabled]:hover,
fieldset[disabled] .btn-warning:hover,
.btn-warning.disabled:focus,
.btn-warning[disabled]:focus,
fieldset[disabled] .btn-warning:focus,
.btn-warning.disabled.focus,
.btn-warning[disabled].focus,
fieldset[disabled] .btn-warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.btn-danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger:focus,
.btn-danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.btn-danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active:hover,
.btn-danger.active:hover,
.open > .dropdown-toggle.btn-danger:hover,
.btn-danger:active:focus,
.btn-danger.active:focus,
.open > .dropdown-toggle.btn-danger:focus,
.btn-danger:active.focus,
.btn-danger.active.focus,
.open > .dropdown-toggle.btn-danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  background-image: none;
}
.btn-danger.disabled:hover,
.btn-danger[disabled]:hover,
fieldset[disabled] .btn-danger:hover,
.btn-danger.disabled:focus,
.btn-danger[disabled]:focus,
fieldset[disabled] .btn-danger:focus,
.btn-danger.disabled.focus,
.btn-danger[disabled].focus,
fieldset[disabled] .btn-danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger .badge {
  color: #d9534f;
  background-color: #fff;
}
.btn-link {
  color: #337ab7;
  font-weight: normal;
  border-radius: 0;
}
.btn-link,
.btn-link:active,
.btn-link.active,
.btn-link[disabled],
fieldset[disabled] .btn-link {
  background-color: transparent;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn-link,
.btn-link:hover,
.btn-link:focus,
.btn-link:active {
  border-color: transparent;
}
.btn-link:hover,
.btn-link:focus {
  color: #23527c;
  text-decoration: underline;
  background-color: transparent;
}
.btn-link[disabled]:hover,
fieldset[disabled] .btn-link:hover,
.btn-link[disabled]:focus,
fieldset[disabled] .btn-link:focus {
  color: #777777;
  text-decoration: none;
}
.btn-lg,
.btn-group-lg > .btn {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.btn-sm,
.btn-group-sm > .btn {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-xs,
.btn-group-xs > .btn {
  padding: 1px 5px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-block {
  display: block;
  width: 100%;
}
.btn-block + .btn-block {
  margin-top: 5px;
}
input[type="submit"].btn-block,
input[type="reset"].btn-block,
input[type="button"].btn-block {
  width: 100%;
}
.fade {
  opacity: 0;
  -webkit-transition: opacity 0.15s linear;
  -o-transition: opacity 0.15s linear;
  transition: opacity 0.15s linear;
}
.fade.in {
  opacity: 1;
}
.collapse {
  display: none;
}
.collapse.in {
  display: block;
}
tr.collapse.in {
  display: table-row;
}
tbody.collapse.in {
  display: table-row-group;
}
.collapsing {
  position: relative;
  height: 0;
  overflow: hidden;
  -webkit-transition-property: height, visibility;
  transition-property: height, visibility;
  -webkit-transition-duration: 0.35s;
  transition-duration: 0.35s;
  -webkit-transition-timing-function: ease;
  transition-timing-function: ease;
}
.caret {
  display: inline-block;
  width: 0;
  height: 0;
  margin-left: 2px;
  vertical-align: middle;
  border-top: 4px dashed;
  border-top: 4px solid \9;
  border-right: 4px solid transparent;
  border-left: 4px solid transparent;
}
.dropup,
.dropdown {
  position: relative;
}
.dropdown-toggle:focus {
  outline: 0;
}
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1000;
  display: none;
  float: left;
  min-width: 160px;
  padding: 5px 0;
  margin: 2px 0 0;
  list-style: none;
  font-size: 13px;
  text-align: left;
  background-color: #fff;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.15);
  border-radius: 2px;
  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  background-clip: padding-box;
}
.dropdown-menu.pull-right {
  right: 0;
  left: auto;
}
.dropdown-menu .divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.dropdown-menu > li > a {
  display: block;
  padding: 3px 20px;
  clear: both;
  font-weight: normal;
  line-height: 1.42857143;
  color: #333333;
  white-space: nowrap;
}
.dropdown-menu > li > a:hover,
.dropdown-menu > li > a:focus {
  text-decoration: none;
  color: #262626;
  background-color: #f5f5f5;
}
.dropdown-menu > .active > a,
.dropdown-menu > .active > a:hover,
.dropdown-menu > .active > a:focus {
  color: #fff;
  text-decoration: none;
  outline: 0;
  background-color: #337ab7;
}
.dropdown-menu > .disabled > a,
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  color: #777777;
}
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  text-decoration: none;
  background-color: transparent;
  background-image: none;
  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
  cursor: not-allowed;
}
.open > .dropdown-menu {
  display: block;
}
.open > a {
  outline: 0;
}
.dropdown-menu-right {
  left: auto;
  right: 0;
}
.dropdown-menu-left {
  left: 0;
  right: auto;
}
.dropdown-header {
  display: block;
  padding: 3px 20px;
  font-size: 12px;
  line-height: 1.42857143;
  color: #777777;
  white-space: nowrap;
}
.dropdown-backdrop {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  z-index: 990;
}
.pull-right > .dropdown-menu {
  right: 0;
  left: auto;
}
.dropup .caret,
.navbar-fixed-bottom .dropdown .caret {
  border-top: 0;
  border-bottom: 4px dashed;
  border-bottom: 4px solid \9;
  content: "";
}
.dropup .dropdown-menu,
.navbar-fixed-bottom .dropdown .dropdown-menu {
  top: auto;
  bottom: 100%;
  margin-bottom: 2px;
}
@media (min-width: 541px) {
  .navbar-right .dropdown-menu {
    left: auto;
    right: 0;
  }
  .navbar-right .dropdown-menu-left {
    left: 0;
    right: auto;
  }
}
.btn-group,
.btn-group-vertical {
  position: relative;
  display: inline-block;
  vertical-align: middle;
}
.btn-group > .btn,
.btn-group-vertical > .btn {
  position: relative;
  float: left;
}
.btn-group > .btn:hover,
.btn-group-vertical > .btn:hover,
.btn-group > .btn:focus,
.btn-group-vertical > .btn:focus,
.btn-group > .btn:active,
.btn-group-vertical > .btn:active,
.btn-group > .btn.active,
.btn-group-vertical > .btn.active {
  z-index: 2;
}
.btn-group .btn + .btn,
.btn-group .btn + .btn-group,
.btn-group .btn-group + .btn,
.btn-group .btn-group + .btn-group {
  margin-left: -1px;
}
.btn-toolbar {
  margin-left: -5px;
}
.btn-toolbar .btn,
.btn-toolbar .btn-group,
.btn-toolbar .input-group {
  float: left;
}
.btn-toolbar > .btn,
.btn-toolbar > .btn-group,
.btn-toolbar > .input-group {
  margin-left: 5px;
}
.btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {
  border-radius: 0;
}
.btn-group > .btn:first-child {
  margin-left: 0;
}
.btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle) {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn:last-child:not(:first-child),
.btn-group > .dropdown-toggle:not(:first-child) {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group > .btn-group {
  float: left;
}
.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group .dropdown-toggle:active,
.btn-group.open .dropdown-toggle {
  outline: 0;
}
.btn-group > .btn + .dropdown-toggle {
  padding-left: 8px;
  padding-right: 8px;
}
.btn-group > .btn-lg + .dropdown-toggle {
  padding-left: 12px;
  padding-right: 12px;
}
.btn-group.open .dropdown-toggle {
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn-group.open .dropdown-toggle.btn-link {
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn .caret {
  margin-left: 0;
}
.btn-lg .caret {
  border-width: 5px 5px 0;
  border-bottom-width: 0;
}
.dropup .btn-lg .caret {
  border-width: 0 5px 5px;
}
.btn-group-vertical > .btn,
.btn-group-vertical > .btn-group,
.btn-group-vertical > .btn-group > .btn {
  display: block;
  float: none;
  width: 100%;
  max-width: 100%;
}
.btn-group-vertical > .btn-group > .btn {
  float: none;
}
.btn-group-vertical > .btn + .btn,
.btn-group-vertical > .btn + .btn-group,
.btn-group-vertical > .btn-group + .btn,
.btn-group-vertical > .btn-group + .btn-group {
  margin-top: -1px;
  margin-left: 0;
}
.btn-group-vertical > .btn:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.btn-group-vertical > .btn:first-child:not(:last-child) {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn:last-child:not(:first-child) {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
.btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.btn-group-justified {
  display: table;
  width: 100%;
  table-layout: fixed;
  border-collapse: separate;
}
.btn-group-justified > .btn,
.btn-group-justified > .btn-group {
  float: none;
  display: table-cell;
  width: 1%;
}
.btn-group-justified > .btn-group .btn {
  width: 100%;
}
.btn-group-justified > .btn-group .dropdown-menu {
  left: auto;
}
[data-toggle="buttons"] > .btn input[type="radio"],
[data-toggle="buttons"] > .btn-group > .btn input[type="radio"],
[data-toggle="buttons"] > .btn input[type="checkbox"],
[data-toggle="buttons"] > .btn-group > .btn input[type="checkbox"] {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  pointer-events: none;
}
.input-group {
  position: relative;
  display: table;
  border-collapse: separate;
}
.input-group[class*="col-"] {
  float: none;
  padding-left: 0;
  padding-right: 0;
}
.input-group .form-control {
  position: relative;
  z-index: 2;
  float: left;
  width: 100%;
  margin-bottom: 0;
}
.input-group .form-control:focus {
  z-index: 3;
}
.input-group-lg > .form-control,
.input-group-lg > .input-group-addon,
.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-group-lg > .form-control,
select.input-group-lg > .input-group-addon,
select.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  line-height: 45px;
}
textarea.input-group-lg > .form-control,
textarea.input-group-lg > .input-group-addon,
textarea.input-group-lg > .input-group-btn > .btn,
select[multiple].input-group-lg > .form-control,
select[multiple].input-group-lg > .input-group-addon,
select[multiple].input-group-lg > .input-group-btn > .btn {
  height: auto;
}
.input-group-sm > .form-control,
.input-group-sm > .input-group-addon,
.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-group-sm > .form-control,
select.input-group-sm > .input-group-addon,
select.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  line-height: 30px;
}
textarea.input-group-sm > .form-control,
textarea.input-group-sm > .input-group-addon,
textarea.input-group-sm > .input-group-btn > .btn,
select[multiple].input-group-sm > .form-control,
select[multiple].input-group-sm > .input-group-addon,
select[multiple].input-group-sm > .input-group-btn > .btn {
  height: auto;
}
.input-group-addon,
.input-group-btn,
.input-group .form-control {
  display: table-cell;
}
.input-group-addon:not(:first-child):not(:last-child),
.input-group-btn:not(:first-child):not(:last-child),
.input-group .form-control:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.input-group-addon,
.input-group-btn {
  width: 1%;
  white-space: nowrap;
  vertical-align: middle;
}
.input-group-addon {
  padding: 6px 12px;
  font-size: 13px;
  font-weight: normal;
  line-height: 1;
  color: #555555;
  text-align: center;
  background-color: #eeeeee;
  border: 1px solid #ccc;
  border-radius: 2px;
}
.input-group-addon.input-sm {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 1px;
}
.input-group-addon.input-lg {
  padding: 10px 16px;
  font-size: 17px;
  border-radius: 3px;
}
.input-group-addon input[type="radio"],
.input-group-addon input[type="checkbox"] {
  margin-top: 0;
}
.input-group .form-control:first-child,
.input-group-addon:first-child,
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group > .btn,
.input-group-btn:first-child > .dropdown-toggle,
.input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),
.input-group-btn:last-child > .btn-group:not(:last-child) > .btn {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.input-group-addon:first-child {
  border-right: 0;
}
.input-group .form-control:last-child,
.input-group-addon:last-child,
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group > .btn,
.input-group-btn:last-child > .dropdown-toggle,
.input-group-btn:first-child > .btn:not(:first-child),
.input-group-btn:first-child > .btn-group:not(:first-child) > .btn {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.input-group-addon:last-child {
  border-left: 0;
}
.input-group-btn {
  position: relative;
  font-size: 0;
  white-space: nowrap;
}
.input-group-btn > .btn {
  position: relative;
}
.input-group-btn > .btn + .btn {
  margin-left: -1px;
}
.input-group-btn > .btn:hover,
.input-group-btn > .btn:focus,
.input-group-btn > .btn:active {
  z-index: 2;
}
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group {
  margin-right: -1px;
}
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group {
  z-index: 2;
  margin-left: -1px;
}
.nav {
  margin-bottom: 0;
  padding-left: 0;
  list-style: none;
}
.nav > li {
  position: relative;
  display: block;
}
.nav > li > a {
  position: relative;
  display: block;
  padding: 10px 15px;
}
.nav > li > a:hover,
.nav > li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.nav > li.disabled > a {
  color: #777777;
}
.nav > li.disabled > a:hover,
.nav > li.disabled > a:focus {
  color: #777777;
  text-decoration: none;
  background-color: transparent;
  cursor: not-allowed;
}
.nav .open > a,
.nav .open > a:hover,
.nav .open > a:focus {
  background-color: #eeeeee;
  border-color: #337ab7;
}
.nav .nav-divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.nav > li > a > img {
  max-width: none;
}
.nav-tabs {
  border-bottom: 1px solid #ddd;
}
.nav-tabs > li {
  float: left;
  margin-bottom: -1px;
}
.nav-tabs > li > a {
  margin-right: 2px;
  line-height: 1.42857143;
  border: 1px solid transparent;
  border-radius: 2px 2px 0 0;
}
.nav-tabs > li > a:hover {
  border-color: #eeeeee #eeeeee #ddd;
}
.nav-tabs > li.active > a,
.nav-tabs > li.active > a:hover,
.nav-tabs > li.active > a:focus {
  color: #555555;
  background-color: #fff;
  border: 1px solid #ddd;
  border-bottom-color: transparent;
  cursor: default;
}
.nav-tabs.nav-justified {
  width: 100%;
  border-bottom: 0;
}
.nav-tabs.nav-justified > li {
  float: none;
}
.nav-tabs.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-tabs.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-tabs.nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs.nav-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs.nav-justified > .active > a,
.nav-tabs.nav-justified > .active > a:hover,
.nav-tabs.nav-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs.nav-justified > .active > a,
  .nav-tabs.nav-justified > .active > a:hover,
  .nav-tabs.nav-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.nav-pills > li {
  float: left;
}
.nav-pills > li > a {
  border-radius: 2px;
}
.nav-pills > li + li {
  margin-left: 2px;
}
.nav-pills > li.active > a,
.nav-pills > li.active > a:hover,
.nav-pills > li.active > a:focus {
  color: #fff;
  background-color: #337ab7;
}
.nav-stacked > li {
  float: none;
}
.nav-stacked > li + li {
  margin-top: 2px;
  margin-left: 0;
}
.nav-justified {
  width: 100%;
}
.nav-justified > li {
  float: none;
}
.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs-justified {
  border-bottom: 0;
}
.nav-tabs-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs-justified > .active > a,
.nav-tabs-justified > .active > a:hover,
.nav-tabs-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs-justified > .active > a,
  .nav-tabs-justified > .active > a:hover,
  .nav-tabs-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.tab-content > .tab-pane {
  display: none;
}
.tab-content > .active {
  display: block;
}
.nav-tabs .dropdown-menu {
  margin-top: -1px;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar {
  position: relative;
  min-height: 30px;
  margin-bottom: 18px;
  border: 1px solid transparent;
}
@media (min-width: 541px) {
  .navbar {
    border-radius: 2px;
  }
}
@media (min-width: 541px) {
  .navbar-header {
    float: left;
  }
}
.navbar-collapse {
  overflow-x: visible;
  padding-right: 0px;
  padding-left: 0px;
  border-top: 1px solid transparent;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
  -webkit-overflow-scrolling: touch;
}
.navbar-collapse.in {
  overflow-y: auto;
}
@media (min-width: 541px) {
  .navbar-collapse {
    width: auto;
    border-top: 0;
    box-shadow: none;
  }
  .navbar-collapse.collapse {
    display: block !important;
    height: auto !important;
    padding-bottom: 0;
    overflow: visible !important;
  }
  .navbar-collapse.in {
    overflow-y: visible;
  }
  .navbar-fixed-top .navbar-collapse,
  .navbar-static-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    padding-left: 0;
    padding-right: 0;
  }
}
.navbar-fixed-top .navbar-collapse,
.navbar-fixed-bottom .navbar-collapse {
  max-height: 340px;
}
@media (max-device-width: 540px) and (orientation: landscape) {
  .navbar-fixed-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    max-height: 200px;
  }
}
.container > .navbar-header,
.container-fluid > .navbar-header,
.container > .navbar-collapse,
.container-fluid > .navbar-collapse {
  margin-right: 0px;
  margin-left: 0px;
}
@media (min-width: 541px) {
  .container > .navbar-header,
  .container-fluid > .navbar-header,
  .container > .navbar-collapse,
  .container-fluid > .navbar-collapse {
    margin-right: 0;
    margin-left: 0;
  }
}
.navbar-static-top {
  z-index: 1000;
  border-width: 0 0 1px;
}
@media (min-width: 541px) {
  .navbar-static-top {
    border-radius: 0;
  }
}
.navbar-fixed-top,
.navbar-fixed-bottom {
  position: fixed;
  right: 0;
  left: 0;
  z-index: 1030;
}
@media (min-width: 541px) {
  .navbar-fixed-top,
  .navbar-fixed-bottom {
    border-radius: 0;
  }
}
.navbar-fixed-top {
  top: 0;
  border-width: 0 0 1px;
}
.navbar-fixed-bottom {
  bottom: 0;
  margin-bottom: 0;
  border-width: 1px 0 0;
}
.navbar-brand {
  float: left;
  padding: 6px 0px;
  font-size: 17px;
  line-height: 18px;
  height: 30px;
}
.navbar-brand:hover,
.navbar-brand:focus {
  text-decoration: none;
}
.navbar-brand > img {
  display: block;
}
@media (min-width: 541px) {
  .navbar > .container .navbar-brand,
  .navbar > .container-fluid .navbar-brand {
    margin-left: 0px;
  }
}
.navbar-toggle {
  position: relative;
  float: right;
  margin-right: 0px;
  padding: 9px 10px;
  margin-top: -2px;
  margin-bottom: -2px;
  background-color: transparent;
  background-image: none;
  border: 1px solid transparent;
  border-radius: 2px;
}
.navbar-toggle:focus {
  outline: 0;
}
.navbar-toggle .icon-bar {
  display: block;
  width: 22px;
  height: 2px;
  border-radius: 1px;
}
.navbar-toggle .icon-bar + .icon-bar {
  margin-top: 4px;
}
@media (min-width: 541px) {
  .navbar-toggle {
    display: none;
  }
}
.navbar-nav {
  margin: 3px 0px;
}
.navbar-nav > li > a {
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 18px;
}
@media (max-width: 540px) {
  .navbar-nav .open .dropdown-menu {
    position: static;
    float: none;
    width: auto;
    margin-top: 0;
    background-color: transparent;
    border: 0;
    box-shadow: none;
  }
  .navbar-nav .open .dropdown-menu > li > a,
  .navbar-nav .open .dropdown-menu .dropdown-header {
    padding: 5px 15px 5px 25px;
  }
  .navbar-nav .open .dropdown-menu > li > a {
    line-height: 18px;
  }
  .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-nav .open .dropdown-menu > li > a:focus {
    background-image: none;
  }
}
@media (min-width: 541px) {
  .navbar-nav {
    float: left;
    margin: 0;
  }
  .navbar-nav > li {
    float: left;
  }
  .navbar-nav > li > a {
    padding-top: 6px;
    padding-bottom: 6px;
  }
}
.navbar-form {
  margin-left: 0px;
  margin-right: 0px;
  padding: 10px 0px;
  border-top: 1px solid transparent;
  border-bottom: 1px solid transparent;
  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  margin-top: -1px;
  margin-bottom: -1px;
}
@media (min-width: 768px) {
  .navbar-form .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .navbar-form .form-control-static {
    display: inline-block;
  }
  .navbar-form .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .navbar-form .input-group .input-group-addon,
  .navbar-form .input-group .input-group-btn,
  .navbar-form .input-group .form-control {
    width: auto;
  }
  .navbar-form .input-group > .form-control {
    width: 100%;
  }
  .navbar-form .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio,
  .navbar-form .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio label,
  .navbar-form .checkbox label {
    padding-left: 0;
  }
  .navbar-form .radio input[type="radio"],
  .navbar-form .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .navbar-form .has-feedback .form-control-feedback {
    top: 0;
  }
}
@media (max-width: 540px) {
  .navbar-form .form-group {
    margin-bottom: 5px;
  }
  .navbar-form .form-group:last-child {
    margin-bottom: 0;
  }
}
@media (min-width: 541px) {
  .navbar-form {
    width: auto;
    border: 0;
    margin-left: 0;
    margin-right: 0;
    padding-top: 0;
    padding-bottom: 0;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
}
.navbar-nav > li > .dropdown-menu {
  margin-top: 0;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar-fixed-bottom .navbar-nav > li > .dropdown-menu {
  margin-bottom: 0;
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.navbar-btn {
  margin-top: -1px;
  margin-bottom: -1px;
}
.navbar-btn.btn-sm {
  margin-top: 0px;
  margin-bottom: 0px;
}
.navbar-btn.btn-xs {
  margin-top: 4px;
  margin-bottom: 4px;
}
.navbar-text {
  margin-top: 6px;
  margin-bottom: 6px;
}
@media (min-width: 541px) {
  .navbar-text {
    float: left;
    margin-left: 0px;
    margin-right: 0px;
  }
}
@media (min-width: 541px) {
  .navbar-left {
    float: left !important;
    float: left;
  }
  .navbar-right {
    float: right !important;
    float: right;
    margin-right: 0px;
  }
  .navbar-right ~ .navbar-right {
    margin-right: 0;
  }
}
.navbar-default {
  background-color: #f8f8f8;
  border-color: #e7e7e7;
}
.navbar-default .navbar-brand {
  color: #777;
}
.navbar-default .navbar-brand:hover,
.navbar-default .navbar-brand:focus {
  color: #5e5e5e;
  background-color: transparent;
}
.navbar-default .navbar-text {
  color: #777;
}
.navbar-default .navbar-nav > li > a {
  color: #777;
}
.navbar-default .navbar-nav > li > a:hover,
.navbar-default .navbar-nav > li > a:focus {
  color: #333;
  background-color: transparent;
}
.navbar-default .navbar-nav > .active > a,
.navbar-default .navbar-nav > .active > a:hover,
.navbar-default .navbar-nav > .active > a:focus {
  color: #555;
  background-color: #e7e7e7;
}
.navbar-default .navbar-nav > .disabled > a,
.navbar-default .navbar-nav > .disabled > a:hover,
.navbar-default .navbar-nav > .disabled > a:focus {
  color: #ccc;
  background-color: transparent;
}
.navbar-default .navbar-toggle {
  border-color: #ddd;
}
.navbar-default .navbar-toggle:hover,
.navbar-default .navbar-toggle:focus {
  background-color: #ddd;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #888;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #e7e7e7;
}
.navbar-default .navbar-nav > .open > a,
.navbar-default .navbar-nav > .open > a:hover,
.navbar-default .navbar-nav > .open > a:focus {
  background-color: #e7e7e7;
  color: #555;
}
@media (max-width: 540px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #777;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #333;
    background-color: transparent;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #555;
    background-color: #e7e7e7;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #ccc;
    background-color: transparent;
  }
}
.navbar-default .navbar-link {
  color: #777;
}
.navbar-default .navbar-link:hover {
  color: #333;
}
.navbar-default .btn-link {
  color: #777;
}
.navbar-default .btn-link:hover,
.navbar-default .btn-link:focus {
  color: #333;
}
.navbar-default .btn-link[disabled]:hover,
fieldset[disabled] .navbar-default .btn-link:hover,
.navbar-default .btn-link[disabled]:focus,
fieldset[disabled] .navbar-default .btn-link:focus {
  color: #ccc;
}
.navbar-inverse {
  background-color: #222;
  border-color: #080808;
}
.navbar-inverse .navbar-brand {
  color: #9d9d9d;
}
.navbar-inverse .navbar-brand:hover,
.navbar-inverse .navbar-brand:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-text {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a:hover,
.navbar-inverse .navbar-nav > li > a:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-nav > .active > a,
.navbar-inverse .navbar-nav > .active > a:hover,
.navbar-inverse .navbar-nav > .active > a:focus {
  color: #fff;
  background-color: #080808;
}
.navbar-inverse .navbar-nav > .disabled > a,
.navbar-inverse .navbar-nav > .disabled > a:hover,
.navbar-inverse .navbar-nav > .disabled > a:focus {
  color: #444;
  background-color: transparent;
}
.navbar-inverse .navbar-toggle {
  border-color: #333;
}
.navbar-inverse .navbar-toggle:hover,
.navbar-inverse .navbar-toggle:focus {
  background-color: #333;
}
.navbar-inverse .navbar-toggle .icon-bar {
  background-color: #fff;
}
.navbar-inverse .navbar-collapse,
.navbar-inverse .navbar-form {
  border-color: #101010;
}
.navbar-inverse .navbar-nav > .open > a,
.navbar-inverse .navbar-nav > .open > a:hover,
.navbar-inverse .navbar-nav > .open > a:focus {
  background-color: #080808;
  color: #fff;
}
@media (max-width: 540px) {
  .navbar-inverse .navbar-nav .open .dropdown-menu > .dropdown-header {
    border-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu .divider {
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a {
    color: #9d9d9d;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #fff;
    background-color: transparent;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #fff;
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #444;
    background-color: transparent;
  }
}
.navbar-inverse .navbar-link {
  color: #9d9d9d;
}
.navbar-inverse .navbar-link:hover {
  color: #fff;
}
.navbar-inverse .btn-link {
  color: #9d9d9d;
}
.navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link:focus {
  color: #fff;
}
.navbar-inverse .btn-link[disabled]:hover,
fieldset[disabled] .navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link[disabled]:focus,
fieldset[disabled] .navbar-inverse .btn-link:focus {
  color: #444;
}
.breadcrumb {
  padding: 8px 15px;
  margin-bottom: 18px;
  list-style: none;
  background-color: #f5f5f5;
  border-radius: 2px;
}
.breadcrumb > li {
  display: inline-block;
}
.breadcrumb > li + li:before {
  content: "/\00a0";
  padding: 0 5px;
  color: #5e5e5e;
}
.breadcrumb > .active {
  color: #777777;
}
.pagination {
  display: inline-block;
  padding-left: 0;
  margin: 18px 0;
  border-radius: 2px;
}
.pagination > li {
  display: inline;
}
.pagination > li > a,
.pagination > li > span {
  position: relative;
  float: left;
  padding: 6px 12px;
  line-height: 1.42857143;
  text-decoration: none;
  color: #337ab7;
  background-color: #fff;
  border: 1px solid #ddd;
  margin-left: -1px;
}
.pagination > li:first-child > a,
.pagination > li:first-child > span {
  margin-left: 0;
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.pagination > li:last-child > a,
.pagination > li:last-child > span {
  border-bottom-right-radius: 2px;
  border-top-right-radius: 2px;
}
.pagination > li > a:hover,
.pagination > li > span:hover,
.pagination > li > a:focus,
.pagination > li > span:focus {
  z-index: 2;
  color: #23527c;
  background-color: #eeeeee;
  border-color: #ddd;
}
.pagination > .active > a,
.pagination > .active > span,
.pagination > .active > a:hover,
.pagination > .active > span:hover,
.pagination > .active > a:focus,
.pagination > .active > span:focus {
  z-index: 3;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
  cursor: default;
}
.pagination > .disabled > span,
.pagination > .disabled > span:hover,
.pagination > .disabled > span:focus,
.pagination > .disabled > a,
.pagination > .disabled > a:hover,
.pagination > .disabled > a:focus {
  color: #777777;
  background-color: #fff;
  border-color: #ddd;
  cursor: not-allowed;
}
.pagination-lg > li > a,
.pagination-lg > li > span {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.pagination-lg > li:first-child > a,
.pagination-lg > li:first-child > span {
  border-bottom-left-radius: 3px;
  border-top-left-radius: 3px;
}
.pagination-lg > li:last-child > a,
.pagination-lg > li:last-child > span {
  border-bottom-right-radius: 3px;
  border-top-right-radius: 3px;
}
.pagination-sm > li > a,
.pagination-sm > li > span {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.pagination-sm > li:first-child > a,
.pagination-sm > li:first-child > span {
  border-bottom-left-radius: 1px;
  border-top-left-radius: 1px;
}
.pagination-sm > li:last-child > a,
.pagination-sm > li:last-child > span {
  border-bottom-right-radius: 1px;
  border-top-right-radius: 1px;
}
.pager {
  padding-left: 0;
  margin: 18px 0;
  list-style: none;
  text-align: center;
}
.pager li {
  display: inline;
}
.pager li > a,
.pager li > span {
  display: inline-block;
  padding: 5px 14px;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 15px;
}
.pager li > a:hover,
.pager li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.pager .next > a,
.pager .next > span {
  float: right;
}
.pager .previous > a,
.pager .previous > span {
  float: left;
}
.pager .disabled > a,
.pager .disabled > a:hover,
.pager .disabled > a:focus,
.pager .disabled > span {
  color: #777777;
  background-color: #fff;
  cursor: not-allowed;
}
.label {
  display: inline;
  padding: .2em .6em .3em;
  font-size: 75%;
  font-weight: bold;
  line-height: 1;
  color: #fff;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: .25em;
}
a.label:hover,
a.label:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.label:empty {
  display: none;
}
.btn .label {
  position: relative;
  top: -1px;
}
.label-default {
  background-color: #777777;
}
.label-default[href]:hover,
.label-default[href]:focus {
  background-color: #5e5e5e;
}
.label-primary {
  background-color: #337ab7;
}
.label-primary[href]:hover,
.label-primary[href]:focus {
  background-color: #286090;
}
.label-success {
  background-color: #5cb85c;
}
.label-success[href]:hover,
.label-success[href]:focus {
  background-color: #449d44;
}
.label-info {
  background-color: #5bc0de;
}
.label-info[href]:hover,
.label-info[href]:focus {
  background-color: #31b0d5;
}
.label-warning {
  background-color: #f0ad4e;
}
.label-warning[href]:hover,
.label-warning[href]:focus {
  background-color: #ec971f;
}
.label-danger {
  background-color: #d9534f;
}
.label-danger[href]:hover,
.label-danger[href]:focus {
  background-color: #c9302c;
}
.badge {
  display: inline-block;
  min-width: 10px;
  padding: 3px 7px;
  font-size: 12px;
  font-weight: bold;
  color: #fff;
  line-height: 1;
  vertical-align: middle;
  white-space: nowrap;
  text-align: center;
  background-color: #777777;
  border-radius: 10px;
}
.badge:empty {
  display: none;
}
.btn .badge {
  position: relative;
  top: -1px;
}
.btn-xs .badge,
.btn-group-xs > .btn .badge {
  top: 0;
  padding: 1px 5px;
}
a.badge:hover,
a.badge:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.list-group-item.active > .badge,
.nav-pills > .active > a > .badge {
  color: #337ab7;
  background-color: #fff;
}
.list-group-item > .badge {
  float: right;
}
.list-group-item > .badge + .badge {
  margin-right: 5px;
}
.nav-pills > li > a > .badge {
  margin-left: 3px;
}
.jumbotron {
  padding-top: 30px;
  padding-bottom: 30px;
  margin-bottom: 30px;
  color: inherit;
  background-color: #eeeeee;
}
.jumbotron h1,
.jumbotron .h1 {
  color: inherit;
}
.jumbotron p {
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 200;
}
.jumbotron > hr {
  border-top-color: #d5d5d5;
}
.container .jumbotron,
.container-fluid .jumbotron {
  border-radius: 3px;
  padding-left: 0px;
  padding-right: 0px;
}
.jumbotron .container {
  max-width: 100%;
}
@media screen and (min-width: 768px) {
  .jumbotron {
    padding-top: 48px;
    padding-bottom: 48px;
  }
  .container .jumbotron,
  .container-fluid .jumbotron {
    padding-left: 60px;
    padding-right: 60px;
  }
  .jumbotron h1,
  .jumbotron .h1 {
    font-size: 59px;
  }
}
.thumbnail {
  display: block;
  padding: 4px;
  margin-bottom: 18px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: border 0.2s ease-in-out;
  -o-transition: border 0.2s ease-in-out;
  transition: border 0.2s ease-in-out;
}
.thumbnail > img,
.thumbnail a > img {
  margin-left: auto;
  margin-right: auto;
}
a.thumbnail:hover,
a.thumbnail:focus,
a.thumbnail.active {
  border-color: #337ab7;
}
.thumbnail .caption {
  padding: 9px;
  color: #000;
}
.alert {
  padding: 15px;
  margin-bottom: 18px;
  border: 1px solid transparent;
  border-radius: 2px;
}
.alert h4 {
  margin-top: 0;
  color: inherit;
}
.alert .alert-link {
  font-weight: bold;
}
.alert > p,
.alert > ul {
  margin-bottom: 0;
}
.alert > p + p {
  margin-top: 5px;
}
.alert-dismissable,
.alert-dismissible {
  padding-right: 35px;
}
.alert-dismissable .close,
.alert-dismissible .close {
  position: relative;
  top: -2px;
  right: -21px;
  color: inherit;
}
.alert-success {
  background-color: #dff0d8;
  border-color: #d6e9c6;
  color: #3c763d;
}
.alert-success hr {
  border-top-color: #c9e2b3;
}
.alert-success .alert-link {
  color: #2b542c;
}
.alert-info {
  background-color: #d9edf7;
  border-color: #bce8f1;
  color: #31708f;
}
.alert-info hr {
  border-top-color: #a6e1ec;
}
.alert-info .alert-link {
  color: #245269;
}
.alert-warning {
  background-color: #fcf8e3;
  border-color: #faebcc;
  color: #8a6d3b;
}
.alert-warning hr {
  border-top-color: #f7e1b5;
}
.alert-warning .alert-link {
  color: #66512c;
}
.alert-danger {
  background-color: #f2dede;
  border-color: #ebccd1;
  color: #a94442;
}
.alert-danger hr {
  border-top-color: #e4b9c0;
}
.alert-danger .alert-link {
  color: #843534;
}
@-webkit-keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
@keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
.progress {
  overflow: hidden;
  height: 18px;
  margin-bottom: 18px;
  background-color: #f5f5f5;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}
.progress-bar {
  float: left;
  width: 0%;
  height: 100%;
  font-size: 12px;
  line-height: 18px;
  color: #fff;
  text-align: center;
  background-color: #337ab7;
  -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  -webkit-transition: width 0.6s ease;
  -o-transition: width 0.6s ease;
  transition: width 0.6s ease;
}
.progress-striped .progress-bar,
.progress-bar-striped {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-size: 40px 40px;
}
.progress.active .progress-bar,
.progress-bar.active {
  -webkit-animation: progress-bar-stripes 2s linear infinite;
  -o-animation: progress-bar-stripes 2s linear infinite;
  animation: progress-bar-stripes 2s linear infinite;
}
.progress-bar-success {
  background-color: #5cb85c;
}
.progress-striped .progress-bar-success {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-info {
  background-color: #5bc0de;
}
.progress-striped .progress-bar-info {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-warning {
  background-color: #f0ad4e;
}
.progress-striped .progress-bar-warning {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-danger {
  background-color: #d9534f;
}
.progress-striped .progress-bar-danger {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.media {
  margin-top: 15px;
}
.media:first-child {
  margin-top: 0;
}
.media,
.media-body {
  zoom: 1;
  overflow: hidden;
}
.media-body {
  width: 10000px;
}
.media-object {
  display: block;
}
.media-object.img-thumbnail {
  max-width: none;
}
.media-right,
.media > .pull-right {
  padding-left: 10px;
}
.media-left,
.media > .pull-left {
  padding-right: 10px;
}
.media-left,
.media-right,
.media-body {
  display: table-cell;
  vertical-align: top;
}
.media-middle {
  vertical-align: middle;
}
.media-bottom {
  vertical-align: bottom;
}
.media-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.media-list {
  padding-left: 0;
  list-style: none;
}
.list-group {
  margin-bottom: 20px;
  padding-left: 0;
}
.list-group-item {
  position: relative;
  display: block;
  padding: 10px 15px;
  margin-bottom: -1px;
  background-color: #fff;
  border: 1px solid #ddd;
}
.list-group-item:first-child {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
}
.list-group-item:last-child {
  margin-bottom: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
a.list-group-item,
button.list-group-item {
  color: #555;
}
a.list-group-item .list-group-item-heading,
button.list-group-item .list-group-item-heading {
  color: #333;
}
a.list-group-item:hover,
button.list-group-item:hover,
a.list-group-item:focus,
button.list-group-item:focus {
  text-decoration: none;
  color: #555;
  background-color: #f5f5f5;
}
button.list-group-item {
  width: 100%;
  text-align: left;
}
.list-group-item.disabled,
.list-group-item.disabled:hover,
.list-group-item.disabled:focus {
  background-color: #eeeeee;
  color: #777777;
  cursor: not-allowed;
}
.list-group-item.disabled .list-group-item-heading,
.list-group-item.disabled:hover .list-group-item-heading,
.list-group-item.disabled:focus .list-group-item-heading {
  color: inherit;
}
.list-group-item.disabled .list-group-item-text,
.list-group-item.disabled:hover .list-group-item-text,
.list-group-item.disabled:focus .list-group-item-text {
  color: #777777;
}
.list-group-item.active,
.list-group-item.active:hover,
.list-group-item.active:focus {
  z-index: 2;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.list-group-item.active .list-group-item-heading,
.list-group-item.active:hover .list-group-item-heading,
.list-group-item.active:focus .list-group-item-heading,
.list-group-item.active .list-group-item-heading > small,
.list-group-item.active:hover .list-group-item-heading > small,
.list-group-item.active:focus .list-group-item-heading > small,
.list-group-item.active .list-group-item-heading > .small,
.list-group-item.active:hover .list-group-item-heading > .small,
.list-group-item.active:focus .list-group-item-heading > .small {
  color: inherit;
}
.list-group-item.active .list-group-item-text,
.list-group-item.active:hover .list-group-item-text,
.list-group-item.active:focus .list-group-item-text {
  color: #c7ddef;
}
.list-group-item-success {
  color: #3c763d;
  background-color: #dff0d8;
}
a.list-group-item-success,
button.list-group-item-success {
  color: #3c763d;
}
a.list-group-item-success .list-group-item-heading,
button.list-group-item-success .list-group-item-heading {
  color: inherit;
}
a.list-group-item-success:hover,
button.list-group-item-success:hover,
a.list-group-item-success:focus,
button.list-group-item-success:focus {
  color: #3c763d;
  background-color: #d0e9c6;
}
a.list-group-item-success.active,
button.list-group-item-success.active,
a.list-group-item-success.active:hover,
button.list-group-item-success.active:hover,
a.list-group-item-success.active:focus,
button.list-group-item-success.active:focus {
  color: #fff;
  background-color: #3c763d;
  border-color: #3c763d;
}
.list-group-item-info {
  color: #31708f;
  background-color: #d9edf7;
}
a.list-group-item-info,
button.list-group-item-info {
  color: #31708f;
}
a.list-group-item-info .list-group-item-heading,
button.list-group-item-info .list-group-item-heading {
  color: inherit;
}
a.list-group-item-info:hover,
button.list-group-item-info:hover,
a.list-group-item-info:focus,
button.list-group-item-info:focus {
  color: #31708f;
  background-color: #c4e3f3;
}
a.list-group-item-info.active,
button.list-group-item-info.active,
a.list-group-item-info.active:hover,
button.list-group-item-info.active:hover,
a.list-group-item-info.active:focus,
button.list-group-item-info.active:focus {
  color: #fff;
  background-color: #31708f;
  border-color: #31708f;
}
.list-group-item-warning {
  color: #8a6d3b;
  background-color: #fcf8e3;
}
a.list-group-item-warning,
button.list-group-item-warning {
  color: #8a6d3b;
}
a.list-group-item-warning .list-group-item-heading,
button.list-group-item-warning .list-group-item-heading {
  color: inherit;
}
a.list-group-item-warning:hover,
button.list-group-item-warning:hover,
a.list-group-item-warning:focus,
button.list-group-item-warning:focus {
  color: #8a6d3b;
  background-color: #faf2cc;
}
a.list-group-item-warning.active,
button.list-group-item-warning.active,
a.list-group-item-warning.active:hover,
button.list-group-item-warning.active:hover,
a.list-group-item-warning.active:focus,
button.list-group-item-warning.active:focus {
  color: #fff;
  background-color: #8a6d3b;
  border-color: #8a6d3b;
}
.list-group-item-danger {
  color: #a94442;
  background-color: #f2dede;
}
a.list-group-item-danger,
button.list-group-item-danger {
  color: #a94442;
}
a.list-group-item-danger .list-group-item-heading,
button.list-group-item-danger .list-group-item-heading {
  color: inherit;
}
a.list-group-item-danger:hover,
button.list-group-item-danger:hover,
a.list-group-item-danger:focus,
button.list-group-item-danger:focus {
  color: #a94442;
  background-color: #ebcccc;
}
a.list-group-item-danger.active,
button.list-group-item-danger.active,
a.list-group-item-danger.active:hover,
button.list-group-item-danger.active:hover,
a.list-group-item-danger.active:focus,
button.list-group-item-danger.active:focus {
  color: #fff;
  background-color: #a94442;
  border-color: #a94442;
}
.list-group-item-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.list-group-item-text {
  margin-bottom: 0;
  line-height: 1.3;
}
.panel {
  margin-bottom: 18px;
  background-color: #fff;
  border: 1px solid transparent;
  border-radius: 2px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}
.panel-body {
  padding: 15px;
}
.panel-heading {
  padding: 10px 15px;
  border-bottom: 1px solid transparent;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel-heading > .dropdown .dropdown-toggle {
  color: inherit;
}
.panel-title {
  margin-top: 0;
  margin-bottom: 0;
  font-size: 15px;
  color: inherit;
}
.panel-title > a,
.panel-title > small,
.panel-title > .small,
.panel-title > small > a,
.panel-title > .small > a {
  color: inherit;
}
.panel-footer {
  padding: 10px 15px;
  background-color: #f5f5f5;
  border-top: 1px solid #ddd;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .list-group,
.panel > .panel-collapse > .list-group {
  margin-bottom: 0;
}
.panel > .list-group .list-group-item,
.panel > .panel-collapse > .list-group .list-group-item {
  border-width: 1px 0;
  border-radius: 0;
}
.panel > .list-group:first-child .list-group-item:first-child,
.panel > .panel-collapse > .list-group:first-child .list-group-item:first-child {
  border-top: 0;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .list-group:last-child .list-group-item:last-child,
.panel > .panel-collapse > .list-group:last-child .list-group-item:last-child {
  border-bottom: 0;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .panel-heading + .panel-collapse > .list-group .list-group-item:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.panel-heading + .list-group .list-group-item:first-child {
  border-top-width: 0;
}
.list-group + .panel-footer {
  border-top-width: 0;
}
.panel > .table,
.panel > .table-responsive > .table,
.panel > .panel-collapse > .table {
  margin-bottom: 0;
}
.panel > .table caption,
.panel > .table-responsive > .table caption,
.panel > .panel-collapse > .table caption {
  padding-left: 15px;
  padding-right: 15px;
}
.panel > .table:first-child,
.panel > .table-responsive:first-child > .table:first-child {
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child {
  border-top-left-radius: 1px;
  border-top-right-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:first-child {
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:last-child {
  border-top-right-radius: 1px;
}
.panel > .table:last-child,
.panel > .table-responsive:last-child > .table:last-child {
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child {
  border-bottom-left-radius: 1px;
  border-bottom-right-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:first-child {
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:last-child {
  border-bottom-right-radius: 1px;
}
.panel > .panel-body + .table,
.panel > .panel-body + .table-responsive,
.panel > .table + .panel-body,
.panel > .table-responsive + .panel-body {
  border-top: 1px solid #ddd;
}
.panel > .table > tbody:first-child > tr:first-child th,
.panel > .table > tbody:first-child > tr:first-child td {
  border-top: 0;
}
.panel > .table-bordered,
.panel > .table-responsive > .table-bordered {
  border: 0;
}
.panel > .table-bordered > thead > tr > th:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:first-child,
.panel > .table-bordered > tbody > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:first-child,
.panel > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-bordered > thead > tr > td:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:first-child,
.panel > .table-bordered > tbody > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:first-child,
.panel > .table-bordered > tfoot > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:first-child {
  border-left: 0;
}
.panel > .table-bordered > thead > tr > th:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:last-child,
.panel > .table-bordered > tbody > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:last-child,
.panel > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-bordered > thead > tr > td:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:last-child,
.panel > .table-bordered > tbody > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:last-child,
.panel > .table-bordered > tfoot > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:last-child {
  border-right: 0;
}
.panel > .table-bordered > thead > tr:first-child > td,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > td,
.panel > .table-bordered > tbody > tr:first-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > td,
.panel > .table-bordered > thead > tr:first-child > th,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > th,
.panel > .table-bordered > tbody > tr:first-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > th {
  border-bottom: 0;
}
.panel > .table-bordered > tbody > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > td,
.panel > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-bordered > tbody > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > th,
.panel > .table-bordered > tfoot > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > th {
  border-bottom: 0;
}
.panel > .table-responsive {
  border: 0;
  margin-bottom: 0;
}
.panel-group {
  margin-bottom: 18px;
}
.panel-group .panel {
  margin-bottom: 0;
  border-radius: 2px;
}
.panel-group .panel + .panel {
  margin-top: 5px;
}
.panel-group .panel-heading {
  border-bottom: 0;
}
.panel-group .panel-heading + .panel-collapse > .panel-body,
.panel-group .panel-heading + .panel-collapse > .list-group {
  border-top: 1px solid #ddd;
}
.panel-group .panel-footer {
  border-top: 0;
}
.panel-group .panel-footer + .panel-collapse .panel-body {
  border-bottom: 1px solid #ddd;
}
.panel-default {
  border-color: #ddd;
}
.panel-default > .panel-heading {
  color: #333333;
  background-color: #f5f5f5;
  border-color: #ddd;
}
.panel-default > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ddd;
}
.panel-default > .panel-heading .badge {
  color: #f5f5f5;
  background-color: #333333;
}
.panel-default > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ddd;
}
.panel-primary {
  border-color: #337ab7;
}
.panel-primary > .panel-heading {
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.panel-primary > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #337ab7;
}
.panel-primary > .panel-heading .badge {
  color: #337ab7;
  background-color: #fff;
}
.panel-primary > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #337ab7;
}
.panel-success {
  border-color: #d6e9c6;
}
.panel-success > .panel-heading {
  color: #3c763d;
  background-color: #dff0d8;
  border-color: #d6e9c6;
}
.panel-success > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #d6e9c6;
}
.panel-success > .panel-heading .badge {
  color: #dff0d8;
  background-color: #3c763d;
}
.panel-success > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #d6e9c6;
}
.panel-info {
  border-color: #bce8f1;
}
.panel-info > .panel-heading {
  color: #31708f;
  background-color: #d9edf7;
  border-color: #bce8f1;
}
.panel-info > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #bce8f1;
}
.panel-info > .panel-heading .badge {
  color: #d9edf7;
  background-color: #31708f;
}
.panel-info > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #bce8f1;
}
.panel-warning {
  border-color: #faebcc;
}
.panel-warning > .panel-heading {
  color: #8a6d3b;
  background-color: #fcf8e3;
  border-color: #faebcc;
}
.panel-warning > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #faebcc;
}
.panel-warning > .panel-heading .badge {
  color: #fcf8e3;
  background-color: #8a6d3b;
}
.panel-warning > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #faebcc;
}
.panel-danger {
  border-color: #ebccd1;
}
.panel-danger > .panel-heading {
  color: #a94442;
  background-color: #f2dede;
  border-color: #ebccd1;
}
.panel-danger > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ebccd1;
}
.panel-danger > .panel-heading .badge {
  color: #f2dede;
  background-color: #a94442;
}
.panel-danger > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ebccd1;
}
.embed-responsive {
  position: relative;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;
}
.embed-responsive .embed-responsive-item,
.embed-responsive iframe,
.embed-responsive embed,
.embed-responsive object,
.embed-responsive video {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  border: 0;
}
.embed-responsive-16by9 {
  padding-bottom: 56.25%;
}
.embed-responsive-4by3 {
  padding-bottom: 75%;
}
.well {
  min-height: 20px;
  padding: 19px;
  margin-bottom: 20px;
  background-color: #f5f5f5;
  border: 1px solid #e3e3e3;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
}
.well blockquote {
  border-color: #ddd;
  border-color: rgba(0, 0, 0, 0.15);
}
.well-lg {
  padding: 24px;
  border-radius: 3px;
}
.well-sm {
  padding: 9px;
  border-radius: 1px;
}
.close {
  float: right;
  font-size: 19.5px;
  font-weight: bold;
  line-height: 1;
  color: #000;
  text-shadow: 0 1px 0 #fff;
  opacity: 0.2;
  filter: alpha(opacity=20);
}
.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
  opacity: 0.5;
  filter: alpha(opacity=50);
}
button.close {
  padding: 0;
  cursor: pointer;
  background: transparent;
  border: 0;
  -webkit-appearance: none;
}
.modal-open {
  overflow: hidden;
}
.modal {
  display: none;
  overflow: hidden;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1050;
  -webkit-overflow-scrolling: touch;
  outline: 0;
}
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, -25%);
  -ms-transform: translate(0, -25%);
  -o-transform: translate(0, -25%);
  transform: translate(0, -25%);
  -webkit-transition: -webkit-transform 0.3s ease-out;
  -moz-transition: -moz-transform 0.3s ease-out;
  -o-transition: -o-transform 0.3s ease-out;
  transition: transform 0.3s ease-out;
}
.modal.in .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
.modal-open .modal {
  overflow-x: hidden;
  overflow-y: auto;
}
.modal-dialog {
  position: relative;
  width: auto;
  margin: 10px;
}
.modal-content {
  position: relative;
  background-color: #fff;
  border: 1px solid #999;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  background-clip: padding-box;
  outline: 0;
}
.modal-backdrop {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1040;
  background-color: #000;
}
.modal-backdrop.fade {
  opacity: 0;
  filter: alpha(opacity=0);
}
.modal-backdrop.in {
  opacity: 0.5;
  filter: alpha(opacity=50);
}
.modal-header {
  padding: 15px;
  border-bottom: 1px solid #e5e5e5;
}
.modal-header .close {
  margin-top: -2px;
}
.modal-title {
  margin: 0;
  line-height: 1.42857143;
}
.modal-body {
  position: relative;
  padding: 15px;
}
.modal-footer {
  padding: 15px;
  text-align: right;
  border-top: 1px solid #e5e5e5;
}
.modal-footer .btn + .btn {
  margin-left: 5px;
  margin-bottom: 0;
}
.modal-footer .btn-group .btn + .btn {
  margin-left: -1px;
}
.modal-footer .btn-block + .btn-block {
  margin-left: 0;
}
.modal-scrollbar-measure {
  position: absolute;
  top: -9999px;
  width: 50px;
  height: 50px;
  overflow: scroll;
}
@media (min-width: 768px) {
  .modal-dialog {
    width: 600px;
    margin: 30px auto;
  }
  .modal-content {
    -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  }
  .modal-sm {
    width: 300px;
  }
}
@media (min-width: 992px) {
  .modal-lg {
    width: 900px;
  }
}
.tooltip {
  position: absolute;
  z-index: 1070;
  display: block;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 12px;
  opacity: 0;
  filter: alpha(opacity=0);
}
.tooltip.in {
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.tooltip.top {
  margin-top: -3px;
  padding: 5px 0;
}
.tooltip.right {
  margin-left: 3px;
  padding: 0 5px;
}
.tooltip.bottom {
  margin-top: 3px;
  padding: 5px 0;
}
.tooltip.left {
  margin-left: -3px;
  padding: 0 5px;
}
.tooltip-inner {
  max-width: 200px;
  padding: 3px 8px;
  color: #fff;
  text-align: center;
  background-color: #000;
  border-radius: 2px;
}
.tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.tooltip.top .tooltip-arrow {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-left .tooltip-arrow {
  bottom: 0;
  right: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-right .tooltip-arrow {
  bottom: 0;
  left: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.right .tooltip-arrow {
  top: 50%;
  left: 0;
  margin-top: -5px;
  border-width: 5px 5px 5px 0;
  border-right-color: #000;
}
.tooltip.left .tooltip-arrow {
  top: 50%;
  right: 0;
  margin-top: -5px;
  border-width: 5px 0 5px 5px;
  border-left-color: #000;
}
.tooltip.bottom .tooltip-arrow {
  top: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-left .tooltip-arrow {
  top: 0;
  right: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-right .tooltip-arrow {
  top: 0;
  left: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.popover {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1060;
  display: none;
  max-width: 276px;
  padding: 1px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 13px;
  background-color: #fff;
  background-clip: padding-box;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}
.popover.top {
  margin-top: -10px;
}
.popover.right {
  margin-left: 10px;
}
.popover.bottom {
  margin-top: 10px;
}
.popover.left {
  margin-left: -10px;
}
.popover-title {
  margin: 0;
  padding: 8px 14px;
  font-size: 13px;
  background-color: #f7f7f7;
  border-bottom: 1px solid #ebebeb;
  border-radius: 2px 2px 0 0;
}
.popover-content {
  padding: 9px 14px;
}
.popover > .arrow,
.popover > .arrow:after {
  position: absolute;
  display: block;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.popover > .arrow {
  border-width: 11px;
}
.popover > .arrow:after {
  border-width: 10px;
  content: "";
}
.popover.top > .arrow {
  left: 50%;
  margin-left: -11px;
  border-bottom-width: 0;
  border-top-color: #999999;
  border-top-color: rgba(0, 0, 0, 0.25);
  bottom: -11px;
}
.popover.top > .arrow:after {
  content: " ";
  bottom: 1px;
  margin-left: -10px;
  border-bottom-width: 0;
  border-top-color: #fff;
}
.popover.right > .arrow {
  top: 50%;
  left: -11px;
  margin-top: -11px;
  border-left-width: 0;
  border-right-color: #999999;
  border-right-color: rgba(0, 0, 0, 0.25);
}
.popover.right > .arrow:after {
  content: " ";
  left: 1px;
  bottom: -10px;
  border-left-width: 0;
  border-right-color: #fff;
}
.popover.bottom > .arrow {
  left: 50%;
  margin-left: -11px;
  border-top-width: 0;
  border-bottom-color: #999999;
  border-bottom-color: rgba(0, 0, 0, 0.25);
  top: -11px;
}
.popover.bottom > .arrow:after {
  content: " ";
  top: 1px;
  margin-left: -10px;
  border-top-width: 0;
  border-bottom-color: #fff;
}
.popover.left > .arrow {
  top: 50%;
  right: -11px;
  margin-top: -11px;
  border-right-width: 0;
  border-left-color: #999999;
  border-left-color: rgba(0, 0, 0, 0.25);
}
.popover.left > .arrow:after {
  content: " ";
  right: 1px;
  border-right-width: 0;
  border-left-color: #fff;
  bottom: -10px;
}
.carousel {
  position: relative;
}
.carousel-inner {
  position: relative;
  overflow: hidden;
  width: 100%;
}
.carousel-inner > .item {
  display: none;
  position: relative;
  -webkit-transition: 0.6s ease-in-out left;
  -o-transition: 0.6s ease-in-out left;
  transition: 0.6s ease-in-out left;
}
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  line-height: 1;
}
@media all and (transform-3d), (-webkit-transform-3d) {
  .carousel-inner > .item {
    -webkit-transition: -webkit-transform 0.6s ease-in-out;
    -moz-transition: -moz-transform 0.6s ease-in-out;
    -o-transition: -o-transform 0.6s ease-in-out;
    transition: transform 0.6s ease-in-out;
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000px;
    -moz-perspective: 1000px;
    perspective: 1000px;
  }
  .carousel-inner > .item.next,
  .carousel-inner > .item.active.right {
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.prev,
  .carousel-inner > .item.active.left {
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.next.left,
  .carousel-inner > .item.prev.right,
  .carousel-inner > .item.active {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    left: 0;
  }
}
.carousel-inner > .active,
.carousel-inner > .next,
.carousel-inner > .prev {
  display: block;
}
.carousel-inner > .active {
  left: 0;
}
.carousel-inner > .next,
.carousel-inner > .prev {
  position: absolute;
  top: 0;
  width: 100%;
}
.carousel-inner > .next {
  left: 100%;
}
.carousel-inner > .prev {
  left: -100%;
}
.carousel-inner > .next.left,
.carousel-inner > .prev.right {
  left: 0;
}
.carousel-inner > .active.left {
  left: -100%;
}
.carousel-inner > .active.right {
  left: 100%;
}
.carousel-control {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 15%;
  opacity: 0.5;
  filter: alpha(opacity=50);
  font-size: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
  background-color: rgba(0, 0, 0, 0);
}
.carousel-control.left {
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1);
}
.carousel-control.right {
  left: auto;
  right: 0;
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1);
}
.carousel-control:hover,
.carousel-control:focus {
  outline: 0;
  color: #fff;
  text-decoration: none;
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.carousel-control .icon-prev,
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-left,
.carousel-control .glyphicon-chevron-right {
  position: absolute;
  top: 50%;
  margin-top: -10px;
  z-index: 5;
  display: inline-block;
}
.carousel-control .icon-prev,
.carousel-control .glyphicon-chevron-left {
  left: 50%;
  margin-left: -10px;
}
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-right {
  right: 50%;
  margin-right: -10px;
}
.carousel-control .icon-prev,
.carousel-control .icon-next {
  width: 20px;
  height: 20px;
  line-height: 1;
  font-family: serif;
}
.carousel-control .icon-prev:before {
  content: '\2039';
}
.carousel-control .icon-next:before {
  content: '\203a';
}
.carousel-indicators {
  position: absolute;
  bottom: 10px;
  left: 50%;
  z-index: 15;
  width: 60%;
  margin-left: -30%;
  padding-left: 0;
  list-style: none;
  text-align: center;
}
.carousel-indicators li {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin: 1px;
  text-indent: -999px;
  border: 1px solid #fff;
  border-radius: 10px;
  cursor: pointer;
  background-color: #000 \9;
  background-color: rgba(0, 0, 0, 0);
}
.carousel-indicators .active {
  margin: 0;
  width: 12px;
  height: 12px;
  background-color: #fff;
}
.carousel-caption {
  position: absolute;
  left: 15%;
  right: 15%;
  bottom: 20px;
  z-index: 10;
  padding-top: 20px;
  padding-bottom: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}
.carousel-caption .btn {
  text-shadow: none;
}
@media screen and (min-width: 768px) {
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-prev,
  .carousel-control .icon-next {
    width: 30px;
    height: 30px;
    margin-top: -10px;
    font-size: 30px;
  }
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .icon-prev {
    margin-left: -10px;
  }
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-next {
    margin-right: -10px;
  }
  .carousel-caption {
    left: 20%;
    right: 20%;
    padding-bottom: 30px;
  }
  .carousel-indicators {
    bottom: 20px;
  }
}
.clearfix:before,
.clearfix:after,
.dl-horizontal dd:before,
.dl-horizontal dd:after,
.container:before,
.container:after,
.container-fluid:before,
.container-fluid:after,
.row:before,
.row:after,
.form-horizontal .form-group:before,
.form-horizontal .form-group:after,
.btn-toolbar:before,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:before,
.btn-group-vertical > .btn-group:after,
.nav:before,
.nav:after,
.navbar:before,
.navbar:after,
.navbar-header:before,
.navbar-header:after,
.navbar-collapse:before,
.navbar-collapse:after,
.pager:before,
.pager:after,
.panel-body:before,
.panel-body:after,
.modal-header:before,
.modal-header:after,
.modal-footer:before,
.modal-footer:after,
.item_buttons:before,
.item_buttons:after {
  content: " ";
  display: table;
}
.clearfix:after,
.dl-horizontal dd:after,
.container:after,
.container-fluid:after,
.row:after,
.form-horizontal .form-group:after,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:after,
.nav:after,
.navbar:after,
.navbar-header:after,
.navbar-collapse:after,
.pager:after,
.panel-body:after,
.modal-header:after,
.modal-footer:after,
.item_buttons:after {
  clear: both;
}
.center-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.pull-right {
  float: right !important;
}
.pull-left {
  float: left !important;
}
.hide {
  display: none !important;
}
.show {
  display: block !important;
}
.invisible {
  visibility: hidden;
}
.text-hide {
  font: 0/0 a;
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
}
.hidden {
  display: none !important;
}
.affix {
  position: fixed;
}
@-ms-viewport {
  width: device-width;
}
.visible-xs,
.visible-sm,
.visible-md,
.visible-lg {
  display: none !important;
}
.visible-xs-block,
.visible-xs-inline,
.visible-xs-inline-block,
.visible-sm-block,
.visible-sm-inline,
.visible-sm-inline-block,
.visible-md-block,
.visible-md-inline,
.visible-md-inline-block,
.visible-lg-block,
.visible-lg-inline,
.visible-lg-inline-block {
  display: none !important;
}
@media (max-width: 767px) {
  .visible-xs {
    display: block !important;
  }
  table.visible-xs {
    display: table !important;
  }
  tr.visible-xs {
    display: table-row !important;
  }
  th.visible-xs,
  td.visible-xs {
    display: table-cell !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-block {
    display: block !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline {
    display: inline !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm {
    display: block !important;
  }
  table.visible-sm {
    display: table !important;
  }
  tr.visible-sm {
    display: table-row !important;
  }
  th.visible-sm,
  td.visible-sm {
    display: table-cell !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-block {
    display: block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline {
    display: inline !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md {
    display: block !important;
  }
  table.visible-md {
    display: table !important;
  }
  tr.visible-md {
    display: table-row !important;
  }
  th.visible-md,
  td.visible-md {
    display: table-cell !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-block {
    display: block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline {
    display: inline !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg {
    display: block !important;
  }
  table.visible-lg {
    display: table !important;
  }
  tr.visible-lg {
    display: table-row !important;
  }
  th.visible-lg,
  td.visible-lg {
    display: table-cell !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-block {
    display: block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline {
    display: inline !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline-block {
    display: inline-block !important;
  }
}
@media (max-width: 767px) {
  .hidden-xs {
    display: none !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .hidden-sm {
    display: none !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .hidden-md {
    display: none !important;
  }
}
@media (min-width: 1200px) {
  .hidden-lg {
    display: none !important;
  }
}
.visible-print {
  display: none !important;
}
@media print {
  .visible-print {
    display: block !important;
  }
  table.visible-print {
    display: table !important;
  }
  tr.visible-print {
    display: table-row !important;
  }
  th.visible-print,
  td.visible-print {
    display: table-cell !important;
  }
}
.visible-print-block {
  display: none !important;
}
@media print {
  .visible-print-block {
    display: block !important;
  }
}
.visible-print-inline {
  display: none !important;
}
@media print {
  .visible-print-inline {
    display: inline !important;
  }
}
.visible-print-inline-block {
  display: none !important;
}
@media print {
  .visible-print-inline-block {
    display: inline-block !important;
  }
}
@media print {
  .hidden-print {
    display: none !important;
  }
}
/*!
*
* Font Awesome
*
*/
/*!
 *  Font Awesome 4.2.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */
/* FONT PATH
 * -------------------------- */
@font-face {
  font-family: 'FontAwesome';
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.2.0');
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.2.0') format('embedded-opentype'), url('../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.2.0') format('woff'), url('../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.2.0') format('truetype'), url('../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.2.0#fontawesomeregular') format('svg');
  font-weight: normal;
  font-style: normal;
}
.fa {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
/* makes the font 33% larger relative to the icon container */
.fa-lg {
  font-size: 1.33333333em;
  line-height: 0.75em;
  vertical-align: -15%;
}
.fa-2x {
  font-size: 2em;
}
.fa-3x {
  font-size: 3em;
}
.fa-4x {
  font-size: 4em;
}
.fa-5x {
  font-size: 5em;
}
.fa-fw {
  width: 1.28571429em;
  text-align: center;
}
.fa-ul {
  padding-left: 0;
  margin-left: 2.14285714em;
  list-style-type: none;
}
.fa-ul > li {
  position: relative;
}
.fa-li {
  position: absolute;
  left: -2.14285714em;
  width: 2.14285714em;
  top: 0.14285714em;
  text-align: center;
}
.fa-li.fa-lg {
  left: -1.85714286em;
}
.fa-border {
  padding: .2em .25em .15em;
  border: solid 0.08em #eee;
  border-radius: .1em;
}
.pull-right {
  float: right;
}
.pull-left {
  float: left;
}
.fa.pull-left {
  margin-right: .3em;
}
.fa.pull-right {
  margin-left: .3em;
}
.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
  animation: fa-spin 2s infinite linear;
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
.fa-rotate-90 {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=1);
  -webkit-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}
.fa-rotate-180 {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);
  -webkit-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}
.fa-rotate-270 {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
  -webkit-transform: rotate(270deg);
  -ms-transform: rotate(270deg);
  transform: rotate(270deg);
}
.fa-flip-horizontal {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);
  -webkit-transform: scale(-1, 1);
  -ms-transform: scale(-1, 1);
  transform: scale(-1, 1);
}
.fa-flip-vertical {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);
  -webkit-transform: scale(1, -1);
  -ms-transform: scale(1, -1);
  transform: scale(1, -1);
}
:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical {
  filter: none;
}
.fa-stack {
  position: relative;
  display: inline-block;
  width: 2em;
  height: 2em;
  line-height: 2em;
  vertical-align: middle;
}
.fa-stack-1x,
.fa-stack-2x {
  position: absolute;
  left: 0;
  width: 100%;
  text-align: center;
}
.fa-stack-1x {
  line-height: inherit;
}
.fa-stack-2x {
  font-size: 2em;
}
.fa-inverse {
  color: #fff;
}
/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen
   readers do not read off random characters that represent icons */
.fa-glass:before {
  content: "\f000";
}
.fa-music:before {
  content: "\f001";
}
.fa-search:before {
  content: "\f002";
}
.fa-envelope-o:before {
  content: "\f003";
}
.fa-heart:before {
  content: "\f004";
}
.fa-star:before {
  content: "\f005";
}
.fa-star-o:before {
  content: "\f006";
}
.fa-user:before {
  content: "\f007";
}
.fa-film:before {
  content: "\f008";
}
.fa-th-large:before {
  content: "\f009";
}
.fa-th:before {
  content: "\f00a";
}
.fa-th-list:before {
  content: "\f00b";
}
.fa-check:before {
  content: "\f00c";
}
.fa-remove:before,
.fa-close:before,
.fa-times:before {
  content: "\f00d";
}
.fa-search-plus:before {
  content: "\f00e";
}
.fa-search-minus:before {
  content: "\f010";
}
.fa-power-off:before {
  content: "\f011";
}
.fa-signal:before {
  content: "\f012";
}
.fa-gear:before,
.fa-cog:before {
  content: "\f013";
}
.fa-trash-o:before {
  content: "\f014";
}
.fa-home:before {
  content: "\f015";
}
.fa-file-o:before {
  content: "\f016";
}
.fa-clock-o:before {
  content: "\f017";
}
.fa-road:before {
  content: "\f018";
}
.fa-download:before {
  content: "\f019";
}
.fa-arrow-circle-o-down:before {
  content: "\f01a";
}
.fa-arrow-circle-o-up:before {
  content: "\f01b";
}
.fa-inbox:before {
  content: "\f01c";
}
.fa-play-circle-o:before {
  content: "\f01d";
}
.fa-rotate-right:before,
.fa-repeat:before {
  content: "\f01e";
}
.fa-refresh:before {
  content: "\f021";
}
.fa-list-alt:before {
  content: "\f022";
}
.fa-lock:before {
  content: "\f023";
}
.fa-flag:before {
  content: "\f024";
}
.fa-headphones:before {
  content: "\f025";
}
.fa-volume-off:before {
  content: "\f026";
}
.fa-volume-down:before {
  content: "\f027";
}
.fa-volume-up:before {
  content: "\f028";
}
.fa-qrcode:before {
  content: "\f029";
}
.fa-barcode:before {
  content: "\f02a";
}
.fa-tag:before {
  content: "\f02b";
}
.fa-tags:before {
  content: "\f02c";
}
.fa-book:before {
  content: "\f02d";
}
.fa-bookmark:before {
  content: "\f02e";
}
.fa-print:before {
  content: "\f02f";
}
.fa-camera:before {
  content: "\f030";
}
.fa-font:before {
  content: "\f031";
}
.fa-bold:before {
  content: "\f032";
}
.fa-italic:before {
  content: "\f033";
}
.fa-text-height:before {
  content: "\f034";
}
.fa-text-width:before {
  content: "\f035";
}
.fa-align-left:before {
  content: "\f036";
}
.fa-align-center:before {
  content: "\f037";
}
.fa-align-right:before {
  content: "\f038";
}
.fa-align-justify:before {
  content: "\f039";
}
.fa-list:before {
  content: "\f03a";
}
.fa-dedent:before,
.fa-outdent:before {
  content: "\f03b";
}
.fa-indent:before {
  content: "\f03c";
}
.fa-video-camera:before {
  content: "\f03d";
}
.fa-photo:before,
.fa-image:before,
.fa-picture-o:before {
  content: "\f03e";
}
.fa-pencil:before {
  content: "\f040";
}
.fa-map-marker:before {
  content: "\f041";
}
.fa-adjust:before {
  content: "\f042";
}
.fa-tint:before {
  content: "\f043";
}
.fa-edit:before,
.fa-pencil-square-o:before {
  content: "\f044";
}
.fa-share-square-o:before {
  content: "\f045";
}
.fa-check-square-o:before {
  content: "\f046";
}
.fa-arrows:before {
  content: "\f047";
}
.fa-step-backward:before {
  content: "\f048";
}
.fa-fast-backward:before {
  content: "\f049";
}
.fa-backward:before {
  content: "\f04a";
}
.fa-play:before {
  content: "\f04b";
}
.fa-pause:before {
  content: "\f04c";
}
.fa-stop:before {
  content: "\f04d";
}
.fa-forward:before {
  content: "\f04e";
}
.fa-fast-forward:before {
  content: "\f050";
}
.fa-step-forward:before {
  content: "\f051";
}
.fa-eject:before {
  content: "\f052";
}
.fa-chevron-left:before {
  content: "\f053";
}
.fa-chevron-right:before {
  content: "\f054";
}
.fa-plus-circle:before {
  content: "\f055";
}
.fa-minus-circle:before {
  content: "\f056";
}
.fa-times-circle:before {
  content: "\f057";
}
.fa-check-circle:before {
  content: "\f058";
}
.fa-question-circle:before {
  content: "\f059";
}
.fa-info-circle:before {
  content: "\f05a";
}
.fa-crosshairs:before {
  content: "\f05b";
}
.fa-times-circle-o:before {
  content: "\f05c";
}
.fa-check-circle-o:before {
  content: "\f05d";
}
.fa-ban:before {
  content: "\f05e";
}
.fa-arrow-left:before {
  content: "\f060";
}
.fa-arrow-right:before {
  content: "\f061";
}
.fa-arrow-up:before {
  content: "\f062";
}
.fa-arrow-down:before {
  content: "\f063";
}
.fa-mail-forward:before,
.fa-share:before {
  content: "\f064";
}
.fa-expand:before {
  content: "\f065";
}
.fa-compress:before {
  content: "\f066";
}
.fa-plus:before {
  content: "\f067";
}
.fa-minus:before {
  content: "\f068";
}
.fa-asterisk:before {
  content: "\f069";
}
.fa-exclamation-circle:before {
  content: "\f06a";
}
.fa-gift:before {
  content: "\f06b";
}
.fa-leaf:before {
  content: "\f06c";
}
.fa-fire:before {
  content: "\f06d";
}
.fa-eye:before {
  content: "\f06e";
}
.fa-eye-slash:before {
  content: "\f070";
}
.fa-warning:before,
.fa-exclamation-triangle:before {
  content: "\f071";
}
.fa-plane:before {
  content: "\f072";
}
.fa-calendar:before {
  content: "\f073";
}
.fa-random:before {
  content: "\f074";
}
.fa-comment:before {
  content: "\f075";
}
.fa-magnet:before {
  content: "\f076";
}
.fa-chevron-up:before {
  content: "\f077";
}
.fa-chevron-down:before {
  content: "\f078";
}
.fa-retweet:before {
  content: "\f079";
}
.fa-shopping-cart:before {
  content: "\f07a";
}
.fa-folder:before {
  content: "\f07b";
}
.fa-folder-open:before {
  content: "\f07c";
}
.fa-arrows-v:before {
  content: "\f07d";
}
.fa-arrows-h:before {
  content: "\f07e";
}
.fa-bar-chart-o:before,
.fa-bar-chart:before {
  content: "\f080";
}
.fa-twitter-square:before {
  content: "\f081";
}
.fa-facebook-square:before {
  content: "\f082";
}
.fa-camera-retro:before {
  content: "\f083";
}
.fa-key:before {
  content: "\f084";
}
.fa-gears:before,
.fa-cogs:before {
  content: "\f085";
}
.fa-comments:before {
  content: "\f086";
}
.fa-thumbs-o-up:before {
  content: "\f087";
}
.fa-thumbs-o-down:before {
  content: "\f088";
}
.fa-star-half:before {
  content: "\f089";
}
.fa-heart-o:before {
  content: "\f08a";
}
.fa-sign-out:before {
  content: "\f08b";
}
.fa-linkedin-square:before {
  content: "\f08c";
}
.fa-thumb-tack:before {
  content: "\f08d";
}
.fa-external-link:before {
  content: "\f08e";
}
.fa-sign-in:before {
  content: "\f090";
}
.fa-trophy:before {
  content: "\f091";
}
.fa-github-square:before {
  content: "\f092";
}
.fa-upload:before {
  content: "\f093";
}
.fa-lemon-o:before {
  content: "\f094";
}
.fa-phone:before {
  content: "\f095";
}
.fa-square-o:before {
  content: "\f096";
}
.fa-bookmark-o:before {
  content: "\f097";
}
.fa-phone-square:before {
  content: "\f098";
}
.fa-twitter:before {
  content: "\f099";
}
.fa-facebook:before {
  content: "\f09a";
}
.fa-github:before {
  content: "\f09b";
}
.fa-unlock:before {
  content: "\f09c";
}
.fa-credit-card:before {
  content: "\f09d";
}
.fa-rss:before {
  content: "\f09e";
}
.fa-hdd-o:before {
  content: "\f0a0";
}
.fa-bullhorn:before {
  content: "\f0a1";
}
.fa-bell:before {
  content: "\f0f3";
}
.fa-certificate:before {
  content: "\f0a3";
}
.fa-hand-o-right:before {
  content: "\f0a4";
}
.fa-hand-o-left:before {
  content: "\f0a5";
}
.fa-hand-o-up:before {
  content: "\f0a6";
}
.fa-hand-o-down:before {
  content: "\f0a7";
}
.fa-arrow-circle-left:before {
  content: "\f0a8";
}
.fa-arrow-circle-right:before {
  content: "\f0a9";
}
.fa-arrow-circle-up:before {
  content: "\f0aa";
}
.fa-arrow-circle-down:before {
  content: "\f0ab";
}
.fa-globe:before {
  content: "\f0ac";
}
.fa-wrench:before {
  content: "\f0ad";
}
.fa-tasks:before {
  content: "\f0ae";
}
.fa-filter:before {
  content: "\f0b0";
}
.fa-briefcase:before {
  content: "\f0b1";
}
.fa-arrows-alt:before {
  content: "\f0b2";
}
.fa-group:before,
.fa-users:before {
  content: "\f0c0";
}
.fa-chain:before,
.fa-link:before {
  content: "\f0c1";
}
.fa-cloud:before {
  content: "\f0c2";
}
.fa-flask:before {
  content: "\f0c3";
}
.fa-cut:before,
.fa-scissors:before {
  content: "\f0c4";
}
.fa-copy:before,
.fa-files-o:before {
  content: "\f0c5";
}
.fa-paperclip:before {
  content: "\f0c6";
}
.fa-save:before,
.fa-floppy-o:before {
  content: "\f0c7";
}
.fa-square:before {
  content: "\f0c8";
}
.fa-navicon:before,
.fa-reorder:before,
.fa-bars:before {
  content: "\f0c9";
}
.fa-list-ul:before {
  content: "\f0ca";
}
.fa-list-ol:before {
  content: "\f0cb";
}
.fa-strikethrough:before {
  content: "\f0cc";
}
.fa-underline:before {
  content: "\f0cd";
}
.fa-table:before {
  content: "\f0ce";
}
.fa-magic:before {
  content: "\f0d0";
}
.fa-truck:before {
  content: "\f0d1";
}
.fa-pinterest:before {
  content: "\f0d2";
}
.fa-pinterest-square:before {
  content: "\f0d3";
}
.fa-google-plus-square:before {
  content: "\f0d4";
}
.fa-google-plus:before {
  content: "\f0d5";
}
.fa-money:before {
  content: "\f0d6";
}
.fa-caret-down:before {
  content: "\f0d7";
}
.fa-caret-up:before {
  content: "\f0d8";
}
.fa-caret-left:before {
  content: "\f0d9";
}
.fa-caret-right:before {
  content: "\f0da";
}
.fa-columns:before {
  content: "\f0db";
}
.fa-unsorted:before,
.fa-sort:before {
  content: "\f0dc";
}
.fa-sort-down:before,
.fa-sort-desc:before {
  content: "\f0dd";
}
.fa-sort-up:before,
.fa-sort-asc:before {
  content: "\f0de";
}
.fa-envelope:before {
  content: "\f0e0";
}
.fa-linkedin:before {
  content: "\f0e1";
}
.fa-rotate-left:before,
.fa-undo:before {
  content: "\f0e2";
}
.fa-legal:before,
.fa-gavel:before {
  content: "\f0e3";
}
.fa-dashboard:before,
.fa-tachometer:before {
  content: "\f0e4";
}
.fa-comment-o:before {
  content: "\f0e5";
}
.fa-comments-o:before {
  content: "\f0e6";
}
.fa-flash:before,
.fa-bolt:before {
  content: "\f0e7";
}
.fa-sitemap:before {
  content: "\f0e8";
}
.fa-umbrella:before {
  content: "\f0e9";
}
.fa-paste:before,
.fa-clipboard:before {
  content: "\f0ea";
}
.fa-lightbulb-o:before {
  content: "\f0eb";
}
.fa-exchange:before {
  content: "\f0ec";
}
.fa-cloud-download:before {
  content: "\f0ed";
}
.fa-cloud-upload:before {
  content: "\f0ee";
}
.fa-user-md:before {
  content: "\f0f0";
}
.fa-stethoscope:before {
  content: "\f0f1";
}
.fa-suitcase:before {
  content: "\f0f2";
}
.fa-bell-o:before {
  content: "\f0a2";
}
.fa-coffee:before {
  content: "\f0f4";
}
.fa-cutlery:before {
  content: "\f0f5";
}
.fa-file-text-o:before {
  content: "\f0f6";
}
.fa-building-o:before {
  content: "\f0f7";
}
.fa-hospital-o:before {
  content: "\f0f8";
}
.fa-ambulance:before {
  content: "\f0f9";
}
.fa-medkit:before {
  content: "\f0fa";
}
.fa-fighter-jet:before {
  content: "\f0fb";
}
.fa-beer:before {
  content: "\f0fc";
}
.fa-h-square:before {
  content: "\f0fd";
}
.fa-plus-square:before {
  content: "\f0fe";
}
.fa-angle-double-left:before {
  content: "\f100";
}
.fa-angle-double-right:before {
  content: "\f101";
}
.fa-angle-double-up:before {
  content: "\f102";
}
.fa-angle-double-down:before {
  content: "\f103";
}
.fa-angle-left:before {
  content: "\f104";
}
.fa-angle-right:before {
  content: "\f105";
}
.fa-angle-up:before {
  content: "\f106";
}
.fa-angle-down:before {
  content: "\f107";
}
.fa-desktop:before {
  content: "\f108";
}
.fa-laptop:before {
  content: "\f109";
}
.fa-tablet:before {
  content: "\f10a";
}
.fa-mobile-phone:before,
.fa-mobile:before {
  content: "\f10b";
}
.fa-circle-o:before {
  content: "\f10c";
}
.fa-quote-left:before {
  content: "\f10d";
}
.fa-quote-right:before {
  content: "\f10e";
}
.fa-spinner:before {
  content: "\f110";
}
.fa-circle:before {
  content: "\f111";
}
.fa-mail-reply:before,
.fa-reply:before {
  content: "\f112";
}
.fa-github-alt:before {
  content: "\f113";
}
.fa-folder-o:before {
  content: "\f114";
}
.fa-folder-open-o:before {
  content: "\f115";
}
.fa-smile-o:before {
  content: "\f118";
}
.fa-frown-o:before {
  content: "\f119";
}
.fa-meh-o:before {
  content: "\f11a";
}
.fa-gamepad:before {
  content: "\f11b";
}
.fa-keyboard-o:before {
  content: "\f11c";
}
.fa-flag-o:before {
  content: "\f11d";
}
.fa-flag-checkered:before {
  content: "\f11e";
}
.fa-terminal:before {
  content: "\f120";
}
.fa-code:before {
  content: "\f121";
}
.fa-mail-reply-all:before,
.fa-reply-all:before {
  content: "\f122";
}
.fa-star-half-empty:before,
.fa-star-half-full:before,
.fa-star-half-o:before {
  content: "\f123";
}
.fa-location-arrow:before {
  content: "\f124";
}
.fa-crop:before {
  content: "\f125";
}
.fa-code-fork:before {
  content: "\f126";
}
.fa-unlink:before,
.fa-chain-broken:before {
  content: "\f127";
}
.fa-question:before {
  content: "\f128";
}
.fa-info:before {
  content: "\f129";
}
.fa-exclamation:before {
  content: "\f12a";
}
.fa-superscript:before {
  content: "\f12b";
}
.fa-subscript:before {
  content: "\f12c";
}
.fa-eraser:before {
  content: "\f12d";
}
.fa-puzzle-piece:before {
  content: "\f12e";
}
.fa-microphone:before {
  content: "\f130";
}
.fa-microphone-slash:before {
  content: "\f131";
}
.fa-shield:before {
  content: "\f132";
}
.fa-calendar-o:before {
  content: "\f133";
}
.fa-fire-extinguisher:before {
  content: "\f134";
}
.fa-rocket:before {
  content: "\f135";
}
.fa-maxcdn:before {
  content: "\f136";
}
.fa-chevron-circle-left:before {
  content: "\f137";
}
.fa-chevron-circle-right:before {
  content: "\f138";
}
.fa-chevron-circle-up:before {
  content: "\f139";
}
.fa-chevron-circle-down:before {
  content: "\f13a";
}
.fa-html5:before {
  content: "\f13b";
}
.fa-css3:before {
  content: "\f13c";
}
.fa-anchor:before {
  content: "\f13d";
}
.fa-unlock-alt:before {
  content: "\f13e";
}
.fa-bullseye:before {
  content: "\f140";
}
.fa-ellipsis-h:before {
  content: "\f141";
}
.fa-ellipsis-v:before {
  content: "\f142";
}
.fa-rss-square:before {
  content: "\f143";
}
.fa-play-circle:before {
  content: "\f144";
}
.fa-ticket:before {
  content: "\f145";
}
.fa-minus-square:before {
  content: "\f146";
}
.fa-minus-square-o:before {
  content: "\f147";
}
.fa-level-up:before {
  content: "\f148";
}
.fa-level-down:before {
  content: "\f149";
}
.fa-check-square:before {
  content: "\f14a";
}
.fa-pencil-square:before {
  content: "\f14b";
}
.fa-external-link-square:before {
  content: "\f14c";
}
.fa-share-square:before {
  content: "\f14d";
}
.fa-compass:before {
  content: "\f14e";
}
.fa-toggle-down:before,
.fa-caret-square-o-down:before {
  content: "\f150";
}
.fa-toggle-up:before,
.fa-caret-square-o-up:before {
  content: "\f151";
}
.fa-toggle-right:before,
.fa-caret-square-o-right:before {
  content: "\f152";
}
.fa-euro:before,
.fa-eur:before {
  content: "\f153";
}
.fa-gbp:before {
  content: "\f154";
}
.fa-dollar:before,
.fa-usd:before {
  content: "\f155";
}
.fa-rupee:before,
.fa-inr:before {
  content: "\f156";
}
.fa-cny:before,
.fa-rmb:before,
.fa-yen:before,
.fa-jpy:before {
  content: "\f157";
}
.fa-ruble:before,
.fa-rouble:before,
.fa-rub:before {
  content: "\f158";
}
.fa-won:before,
.fa-krw:before {
  content: "\f159";
}
.fa-bitcoin:before,
.fa-btc:before {
  content: "\f15a";
}
.fa-file:before {
  content: "\f15b";
}
.fa-file-text:before {
  content: "\f15c";
}
.fa-sort-alpha-asc:before {
  content: "\f15d";
}
.fa-sort-alpha-desc:before {
  content: "\f15e";
}
.fa-sort-amount-asc:before {
  content: "\f160";
}
.fa-sort-amount-desc:before {
  content: "\f161";
}
.fa-sort-numeric-asc:before {
  content: "\f162";
}
.fa-sort-numeric-desc:before {
  content: "\f163";
}
.fa-thumbs-up:before {
  content: "\f164";
}
.fa-thumbs-down:before {
  content: "\f165";
}
.fa-youtube-square:before {
  content: "\f166";
}
.fa-youtube:before {
  content: "\f167";
}
.fa-xing:before {
  content: "\f168";
}
.fa-xing-square:before {
  content: "\f169";
}
.fa-youtube-play:before {
  content: "\f16a";
}
.fa-dropbox:before {
  content: "\f16b";
}
.fa-stack-overflow:before {
  content: "\f16c";
}
.fa-instagram:before {
  content: "\f16d";
}
.fa-flickr:before {
  content: "\f16e";
}
.fa-adn:before {
  content: "\f170";
}
.fa-bitbucket:before {
  content: "\f171";
}
.fa-bitbucket-square:before {
  content: "\f172";
}
.fa-tumblr:before {
  content: "\f173";
}
.fa-tumblr-square:before {
  content: "\f174";
}
.fa-long-arrow-down:before {
  content: "\f175";
}
.fa-long-arrow-up:before {
  content: "\f176";
}
.fa-long-arrow-left:before {
  content: "\f177";
}
.fa-long-arrow-right:before {
  content: "\f178";
}
.fa-apple:before {
  content: "\f179";
}
.fa-windows:before {
  content: "\f17a";
}
.fa-android:before {
  content: "\f17b";
}
.fa-linux:before {
  content: "\f17c";
}
.fa-dribbble:before {
  content: "\f17d";
}
.fa-skype:before {
  content: "\f17e";
}
.fa-foursquare:before {
  content: "\f180";
}
.fa-trello:before {
  content: "\f181";
}
.fa-female:before {
  content: "\f182";
}
.fa-male:before {
  content: "\f183";
}
.fa-gittip:before {
  content: "\f184";
}
.fa-sun-o:before {
  content: "\f185";
}
.fa-moon-o:before {
  content: "\f186";
}
.fa-archive:before {
  content: "\f187";
}
.fa-bug:before {
  content: "\f188";
}
.fa-vk:before {
  content: "\f189";
}
.fa-weibo:before {
  content: "\f18a";
}
.fa-renren:before {
  content: "\f18b";
}
.fa-pagelines:before {
  content: "\f18c";
}
.fa-stack-exchange:before {
  content: "\f18d";
}
.fa-arrow-circle-o-right:before {
  content: "\f18e";
}
.fa-arrow-circle-o-left:before {
  content: "\f190";
}
.fa-toggle-left:before,
.fa-caret-square-o-left:before {
  content: "\f191";
}
.fa-dot-circle-o:before {
  content: "\f192";
}
.fa-wheelchair:before {
  content: "\f193";
}
.fa-vimeo-square:before {
  content: "\f194";
}
.fa-turkish-lira:before,
.fa-try:before {
  content: "\f195";
}
.fa-plus-square-o:before {
  content: "\f196";
}
.fa-space-shuttle:before {
  content: "\f197";
}
.fa-slack:before {
  content: "\f198";
}
.fa-envelope-square:before {
  content: "\f199";
}
.fa-wordpress:before {
  content: "\f19a";
}
.fa-openid:before {
  content: "\f19b";
}
.fa-institution:before,
.fa-bank:before,
.fa-university:before {
  content: "\f19c";
}
.fa-mortar-board:before,
.fa-graduation-cap:before {
  content: "\f19d";
}
.fa-yahoo:before {
  content: "\f19e";
}
.fa-google:before {
  content: "\f1a0";
}
.fa-reddit:before {
  content: "\f1a1";
}
.fa-reddit-square:before {
  content: "\f1a2";
}
.fa-stumbleupon-circle:before {
  content: "\f1a3";
}
.fa-stumbleupon:before {
  content: "\f1a4";
}
.fa-delicious:before {
  content: "\f1a5";
}
.fa-digg:before {
  content: "\f1a6";
}
.fa-pied-piper:before {
  content: "\f1a7";
}
.fa-pied-piper-alt:before {
  content: "\f1a8";
}
.fa-drupal:before {
  content: "\f1a9";
}
.fa-joomla:before {
  content: "\f1aa";
}
.fa-language:before {
  content: "\f1ab";
}
.fa-fax:before {
  content: "\f1ac";
}
.fa-building:before {
  content: "\f1ad";
}
.fa-child:before {
  content: "\f1ae";
}
.fa-paw:before {
  content: "\f1b0";
}
.fa-spoon:before {
  content: "\f1b1";
}
.fa-cube:before {
  content: "\f1b2";
}
.fa-cubes:before {
  content: "\f1b3";
}
.fa-behance:before {
  content: "\f1b4";
}
.fa-behance-square:before {
  content: "\f1b5";
}
.fa-steam:before {
  content: "\f1b6";
}
.fa-steam-square:before {
  content: "\f1b7";
}
.fa-recycle:before {
  content: "\f1b8";
}
.fa-automobile:before,
.fa-car:before {
  content: "\f1b9";
}
.fa-cab:before,
.fa-taxi:before {
  content: "\f1ba";
}
.fa-tree:before {
  content: "\f1bb";
}
.fa-spotify:before {
  content: "\f1bc";
}
.fa-deviantart:before {
  content: "\f1bd";
}
.fa-soundcloud:before {
  content: "\f1be";
}
.fa-database:before {
  content: "\f1c0";
}
.fa-file-pdf-o:before {
  content: "\f1c1";
}
.fa-file-word-o:before {
  content: "\f1c2";
}
.fa-file-excel-o:before {
  content: "\f1c3";
}
.fa-file-powerpoint-o:before {
  content: "\f1c4";
}
.fa-file-photo-o:before,
.fa-file-picture-o:before,
.fa-file-image-o:before {
  content: "\f1c5";
}
.fa-file-zip-o:before,
.fa-file-archive-o:before {
  content: "\f1c6";
}
.fa-file-sound-o:before,
.fa-file-audio-o:before {
  content: "\f1c7";
}
.fa-file-movie-o:before,
.fa-file-video-o:before {
  content: "\f1c8";
}
.fa-file-code-o:before {
  content: "\f1c9";
}
.fa-vine:before {
  content: "\f1ca";
}
.fa-codepen:before {
  content: "\f1cb";
}
.fa-jsfiddle:before {
  content: "\f1cc";
}
.fa-life-bouy:before,
.fa-life-buoy:before,
.fa-life-saver:before,
.fa-support:before,
.fa-life-ring:before {
  content: "\f1cd";
}
.fa-circle-o-notch:before {
  content: "\f1ce";
}
.fa-ra:before,
.fa-rebel:before {
  content: "\f1d0";
}
.fa-ge:before,
.fa-empire:before {
  content: "\f1d1";
}
.fa-git-square:before {
  content: "\f1d2";
}
.fa-git:before {
  content: "\f1d3";
}
.fa-hacker-news:before {
  content: "\f1d4";
}
.fa-tencent-weibo:before {
  content: "\f1d5";
}
.fa-qq:before {
  content: "\f1d6";
}
.fa-wechat:before,
.fa-weixin:before {
  content: "\f1d7";
}
.fa-send:before,
.fa-paper-plane:before {
  content: "\f1d8";
}
.fa-send-o:before,
.fa-paper-plane-o:before {
  content: "\f1d9";
}
.fa-history:before {
  content: "\f1da";
}
.fa-circle-thin:before {
  content: "\f1db";
}
.fa-header:before {
  content: "\f1dc";
}
.fa-paragraph:before {
  content: "\f1dd";
}
.fa-sliders:before {
  content: "\f1de";
}
.fa-share-alt:before {
  content: "\f1e0";
}
.fa-share-alt-square:before {
  content: "\f1e1";
}
.fa-bomb:before {
  content: "\f1e2";
}
.fa-soccer-ball-o:before,
.fa-futbol-o:before {
  content: "\f1e3";
}
.fa-tty:before {
  content: "\f1e4";
}
.fa-binoculars:before {
  content: "\f1e5";
}
.fa-plug:before {
  content: "\f1e6";
}
.fa-slideshare:before {
  content: "\f1e7";
}
.fa-twitch:before {
  content: "\f1e8";
}
.fa-yelp:before {
  content: "\f1e9";
}
.fa-newspaper-o:before {
  content: "\f1ea";
}
.fa-wifi:before {
  content: "\f1eb";
}
.fa-calculator:before {
  content: "\f1ec";
}
.fa-paypal:before {
  content: "\f1ed";
}
.fa-google-wallet:before {
  content: "\f1ee";
}
.fa-cc-visa:before {
  content: "\f1f0";
}
.fa-cc-mastercard:before {
  content: "\f1f1";
}
.fa-cc-discover:before {
  content: "\f1f2";
}
.fa-cc-amex:before {
  content: "\f1f3";
}
.fa-cc-paypal:before {
  content: "\f1f4";
}
.fa-cc-stripe:before {
  content: "\f1f5";
}
.fa-bell-slash:before {
  content: "\f1f6";
}
.fa-bell-slash-o:before {
  content: "\f1f7";
}
.fa-trash:before {
  content: "\f1f8";
}
.fa-copyright:before {
  content: "\f1f9";
}
.fa-at:before {
  content: "\f1fa";
}
.fa-eyedropper:before {
  content: "\f1fb";
}
.fa-paint-brush:before {
  content: "\f1fc";
}
.fa-birthday-cake:before {
  content: "\f1fd";
}
.fa-area-chart:before {
  content: "\f1fe";
}
.fa-pie-chart:before {
  content: "\f200";
}
.fa-line-chart:before {
  content: "\f201";
}
.fa-lastfm:before {
  content: "\f202";
}
.fa-lastfm-square:before {
  content: "\f203";
}
.fa-toggle-off:before {
  content: "\f204";
}
.fa-toggle-on:before {
  content: "\f205";
}
.fa-bicycle:before {
  content: "\f206";
}
.fa-bus:before {
  content: "\f207";
}
.fa-ioxhost:before {
  content: "\f208";
}
.fa-angellist:before {
  content: "\f209";
}
.fa-cc:before {
  content: "\f20a";
}
.fa-shekel:before,
.fa-sheqel:before,
.fa-ils:before {
  content: "\f20b";
}
.fa-meanpath:before {
  content: "\f20c";
}
/*!
*
* IPython base
*
*/
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
code {
  color: #000;
}
pre {
  font-size: inherit;
  line-height: inherit;
}
label {
  font-weight: normal;
}
/* Make the page background atleast 100% the height of the view port */
/* Make the page itself atleast 70% the height of the view port */
.border-box-sizing {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.corner-all {
  border-radius: 2px;
}
.no-padding {
  padding: 0px;
}
/* Flexible box model classes */
/* Taken from Alex Russell http://infrequently.org/2009/08/css-3-progress/ */
/* This file is a compatability layer.  It allows the usage of flexible box 
model layouts accross multiple browsers, including older browsers.  The newest,
universal implementation of the flexible box model is used when available (see
`Modern browsers` comments below).  Browsers that are known to implement this 
new spec completely include:

    Firefox 28.0+
    Chrome 29.0+
    Internet Explorer 11+ 
    Opera 17.0+

Browsers not listed, including Safari, are supported via the styling under the
`Old browsers` comments below.
*/
.hbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
.hbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.vbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
.vbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.hbox.reverse,
.vbox.reverse,
.reverse {
  /* Old browsers */
  -webkit-box-direction: reverse;
  -moz-box-direction: reverse;
  box-direction: reverse;
  /* Modern browsers */
  flex-direction: row-reverse;
}
.hbox.box-flex0,
.vbox.box-flex0,
.box-flex0 {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
  width: auto;
}
.hbox.box-flex1,
.vbox.box-flex1,
.box-flex1 {
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex,
.vbox.box-flex,
.box-flex {
  /* Old browsers */
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex2,
.vbox.box-flex2,
.box-flex2 {
  /* Old browsers */
  -webkit-box-flex: 2;
  -moz-box-flex: 2;
  box-flex: 2;
  /* Modern browsers */
  flex: 2;
}
.box-group1 {
  /*  Deprecated */
  -webkit-box-flex-group: 1;
  -moz-box-flex-group: 1;
  box-flex-group: 1;
}
.box-group2 {
  /* Deprecated */
  -webkit-box-flex-group: 2;
  -moz-box-flex-group: 2;
  box-flex-group: 2;
}
.hbox.start,
.vbox.start,
.start {
  /* Old browsers */
  -webkit-box-pack: start;
  -moz-box-pack: start;
  box-pack: start;
  /* Modern browsers */
  justify-content: flex-start;
}
.hbox.end,
.vbox.end,
.end {
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
}
.hbox.center,
.vbox.center,
.center {
  /* Old browsers */
  -webkit-box-pack: center;
  -moz-box-pack: center;
  box-pack: center;
  /* Modern browsers */
  justify-content: center;
}
.hbox.baseline,
.vbox.baseline,
.baseline {
  /* Old browsers */
  -webkit-box-pack: baseline;
  -moz-box-pack: baseline;
  box-pack: baseline;
  /* Modern browsers */
  justify-content: baseline;
}
.hbox.stretch,
.vbox.stretch,
.stretch {
  /* Old browsers */
  -webkit-box-pack: stretch;
  -moz-box-pack: stretch;
  box-pack: stretch;
  /* Modern browsers */
  justify-content: stretch;
}
.hbox.align-start,
.vbox.align-start,
.align-start {
  /* Old browsers */
  -webkit-box-align: start;
  -moz-box-align: start;
  box-align: start;
  /* Modern browsers */
  align-items: flex-start;
}
.hbox.align-end,
.vbox.align-end,
.align-end {
  /* Old browsers */
  -webkit-box-align: end;
  -moz-box-align: end;
  box-align: end;
  /* Modern browsers */
  align-items: flex-end;
}
.hbox.align-center,
.vbox.align-center,
.align-center {
  /* Old browsers */
  -webkit-box-align: center;
  -moz-box-align: center;
  box-align: center;
  /* Modern browsers */
  align-items: center;
}
.hbox.align-baseline,
.vbox.align-baseline,
.align-baseline {
  /* Old browsers */
  -webkit-box-align: baseline;
  -moz-box-align: baseline;
  box-align: baseline;
  /* Modern browsers */
  align-items: baseline;
}
.hbox.align-stretch,
.vbox.align-stretch,
.align-stretch {
  /* Old browsers */
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  box-align: stretch;
  /* Modern browsers */
  align-items: stretch;
}
div.error {
  margin: 2em;
  text-align: center;
}
div.error > h1 {
  font-size: 500%;
  line-height: normal;
}
div.error > p {
  font-size: 200%;
  line-height: normal;
}
div.traceback-wrapper {
  text-align: left;
  max-width: 800px;
  margin: auto;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
body {
  background-color: #fff;
  /* This makes sure that the body covers the entire window and needs to
       be in a different element than the display: box in wrapper below */
  position: absolute;
  left: 0px;
  right: 0px;
  top: 0px;
  bottom: 0px;
  overflow: visible;
}
body > #header {
  /* Initially hidden to prevent FLOUC */
  display: none;
  background-color: #fff;
  /* Display over codemirror */
  position: relative;
  z-index: 100;
}
body > #header #header-container {
  padding-bottom: 5px;
  padding-top: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
body > #header .header-bar {
  width: 100%;
  height: 1px;
  background: #e7e7e7;
  margin-bottom: -1px;
}
@media print {
  body > #header {
    display: none !important;
  }
}
#header-spacer {
  width: 100%;
  visibility: hidden;
}
@media print {
  #header-spacer {
    display: none;
  }
}
#ipython_notebook {
  padding-left: 0px;
  padding-top: 1px;
  padding-bottom: 1px;
}
@media (max-width: 991px) {
  #ipython_notebook {
    margin-left: 10px;
  }
}
[dir="rtl"] #ipython_notebook {
  float: right !important;
}
#noscript {
  width: auto;
  padding-top: 16px;
  padding-bottom: 16px;
  text-align: center;
  font-size: 22px;
  color: red;
  font-weight: bold;
}
#ipython_notebook img {
  height: 28px;
}
#site {
  width: 100%;
  display: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  overflow: auto;
}
@media print {
  #site {
    height: auto !important;
  }
}
/* Smaller buttons */
.ui-button .ui-button-text {
  padding: 0.2em 0.8em;
  font-size: 77%;
}
input.ui-button {
  padding: 0.3em 0.9em;
}
span#login_widget {
  float: right;
}
span#login_widget > .button,
#logout {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button:focus,
#logout:focus,
span#login_widget > .button.focus,
#logout.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
span#login_widget > .button:hover,
#logout:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active:hover,
#logout:active:hover,
span#login_widget > .button.active:hover,
#logout.active:hover,
.open > .dropdown-togglespan#login_widget > .button:hover,
.open > .dropdown-toggle#logout:hover,
span#login_widget > .button:active:focus,
#logout:active:focus,
span#login_widget > .button.active:focus,
#logout.active:focus,
.open > .dropdown-togglespan#login_widget > .button:focus,
.open > .dropdown-toggle#logout:focus,
span#login_widget > .button:active.focus,
#logout:active.focus,
span#login_widget > .button.active.focus,
#logout.active.focus,
.open > .dropdown-togglespan#login_widget > .button.focus,
.open > .dropdown-toggle#logout.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  background-image: none;
}
span#login_widget > .button.disabled:hover,
#logout.disabled:hover,
span#login_widget > .button[disabled]:hover,
#logout[disabled]:hover,
fieldset[disabled] span#login_widget > .button:hover,
fieldset[disabled] #logout:hover,
span#login_widget > .button.disabled:focus,
#logout.disabled:focus,
span#login_widget > .button[disabled]:focus,
#logout[disabled]:focus,
fieldset[disabled] span#login_widget > .button:focus,
fieldset[disabled] #logout:focus,
span#login_widget > .button.disabled.focus,
#logout.disabled.focus,
span#login_widget > .button[disabled].focus,
#logout[disabled].focus,
fieldset[disabled] span#login_widget > .button.focus,
fieldset[disabled] #logout.focus {
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button .badge,
#logout .badge {
  color: #fff;
  background-color: #333;
}
.nav-header {
  text-transform: none;
}
#header > span {
  margin-top: 10px;
}
.modal_stretch .modal-dialog {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  min-height: 80vh;
}
.modal_stretch .modal-dialog .modal-body {
  max-height: calc(100vh - 200px);
  overflow: auto;
  flex: 1;
}
@media (min-width: 768px) {
  .modal .modal-dialog {
    width: 700px;
  }
}
@media (min-width: 768px) {
  select.form-control {
    margin-left: 12px;
    margin-right: 12px;
  }
}
/*!
*
* IPython auth
*
*/
.center-nav {
  display: inline-block;
  margin-bottom: -4px;
}
/*!
*
* IPython tree view
*
*/
/* We need an invisible input field on top of the sentense*/
/* "Drag file onto the list ..." */
.alternate_upload {
  background-color: none;
  display: inline;
}
.alternate_upload.form {
  padding: 0;
  margin: 0;
}
.alternate_upload input.fileinput {
  text-align: center;
  vertical-align: middle;
  display: inline;
  opacity: 0;
  z-index: 2;
  width: 12ex;
  margin-right: -12ex;
}
.alternate_upload .btn-upload {
  height: 22px;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
[dir="rtl"] #tabs li {
  float: right;
}
ul#tabs {
  margin-bottom: 4px;
}
[dir="rtl"] ul#tabs {
  margin-right: 0px;
}
ul#tabs a {
  padding-top: 6px;
  padding-bottom: 4px;
}
ul.breadcrumb a:focus,
ul.breadcrumb a:hover {
  text-decoration: none;
}
ul.breadcrumb i.icon-home {
  font-size: 16px;
  margin-right: 4px;
}
ul.breadcrumb span {
  color: #5e5e5e;
}
.list_toolbar {
  padding: 4px 0 4px 0;
  vertical-align: middle;
}
.list_toolbar .tree-buttons {
  padding-top: 1px;
}
[dir="rtl"] .list_toolbar .tree-buttons {
  float: left !important;
}
[dir="rtl"] .list_toolbar .pull-right {
  padding-top: 1px;
  float: left !important;
}
[dir="rtl"] .list_toolbar .pull-left {
  float: right !important;
}
.dynamic-buttons {
  padding-top: 3px;
  display: inline-block;
}
.list_toolbar [class*="span"] {
  min-height: 24px;
}
.list_header {
  font-weight: bold;
  background-color: #EEE;
}
.list_placeholder {
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
}
.list_container {
  margin-top: 4px;
  margin-bottom: 20px;
  border: 1px solid #ddd;
  border-radius: 2px;
}
.list_container > div {
  border-bottom: 1px solid #ddd;
}
.list_container > div:hover .list-item {
  background-color: red;
}
.list_container > div:last-child {
  border: none;
}
.list_item:hover .list_item {
  background-color: #ddd;
}
.list_item a {
  text-decoration: none;
}
.list_item:hover {
  background-color: #fafafa;
}
.list_header > div,
.list_item > div {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
.list_header > div input,
.list_item > div input {
  margin-right: 7px;
  margin-left: 14px;
  vertical-align: baseline;
  line-height: 22px;
  position: relative;
  top: -1px;
}
.list_header > div .item_link,
.list_item > div .item_link {
  margin-left: -1px;
  vertical-align: baseline;
  line-height: 22px;
}
.new-file input[type=checkbox] {
  visibility: hidden;
}
.item_name {
  line-height: 22px;
  height: 24px;
}
.item_icon {
  font-size: 14px;
  color: #5e5e5e;
  margin-right: 7px;
  margin-left: 7px;
  line-height: 22px;
  vertical-align: baseline;
}
.item_buttons {
  line-height: 1em;
  margin-left: -5px;
}
.item_buttons .btn,
.item_buttons .btn-group,
.item_buttons .input-group {
  float: left;
}
.item_buttons > .btn,
.item_buttons > .btn-group,
.item_buttons > .input-group {
  margin-left: 5px;
}
.item_buttons .btn {
  min-width: 13ex;
}
.item_buttons .running-indicator {
  padding-top: 4px;
  color: #5cb85c;
}
.item_buttons .kernel-name {
  padding-top: 4px;
  color: #5bc0de;
  margin-right: 7px;
  float: left;
}
.toolbar_info {
  height: 24px;
  line-height: 24px;
}
.list_item input:not([type=checkbox]) {
  padding-top: 3px;
  padding-bottom: 3px;
  height: 22px;
  line-height: 14px;
  margin: 0px;
}
.highlight_text {
  color: blue;
}
#project_name {
  display: inline-block;
  padding-left: 7px;
  margin-left: -2px;
}
#project_name > .breadcrumb {
  padding: 0px;
  margin-bottom: 0px;
  background-color: transparent;
  font-weight: bold;
}
#tree-selector {
  padding-right: 0px;
}
[dir="rtl"] #tree-selector a {
  float: right;
}
#button-select-all {
  min-width: 50px;
}
#select-all {
  margin-left: 7px;
  margin-right: 2px;
}
.menu_icon {
  margin-right: 2px;
}
.tab-content .row {
  margin-left: 0px;
  margin-right: 0px;
}
.folder_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f114";
}
.folder_icon:before.pull-left {
  margin-right: .3em;
}
.folder_icon:before.pull-right {
  margin-left: .3em;
}
.notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
}
.notebook_icon:before.pull-left {
  margin-right: .3em;
}
.notebook_icon:before.pull-right {
  margin-left: .3em;
}
.running_notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
  color: #5cb85c;
}
.running_notebook_icon:before.pull-left {
  margin-right: .3em;
}
.running_notebook_icon:before.pull-right {
  margin-left: .3em;
}
.file_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f016";
  position: relative;
  top: -2px;
}
.file_icon:before.pull-left {
  margin-right: .3em;
}
.file_icon:before.pull-right {
  margin-left: .3em;
}
#notebook_toolbar .pull-right {
  padding-top: 0px;
  margin-right: -1px;
}
ul#new-menu {
  left: auto;
  right: 0;
}
[dir="rtl"] #new-menu {
  text-align: right;
}
.kernel-menu-icon {
  padding-right: 12px;
  width: 24px;
  content: "\f096";
}
.kernel-menu-icon:before {
  content: "\f096";
}
.kernel-menu-icon-current:before {
  content: "\f00c";
}
#tab_content {
  padding-top: 20px;
}
#running .panel-group .panel {
  margin-top: 3px;
  margin-bottom: 1em;
}
#running .panel-group .panel .panel-heading {
  background-color: #EEE;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
#running .panel-group .panel .panel-heading a:focus,
#running .panel-group .panel .panel-heading a:hover {
  text-decoration: none;
}
#running .panel-group .panel .panel-body {
  padding: 0px;
}
#running .panel-group .panel .panel-body .list_container {
  margin-top: 0px;
  margin-bottom: 0px;
  border: 0px;
  border-radius: 0px;
}
#running .panel-group .panel .panel-body .list_container .list_item {
  border-bottom: 1px solid #ddd;
}
#running .panel-group .panel .panel-body .list_container .list_item:last-child {
  border-bottom: 0px;
}
[dir="rtl"] #running .col-sm-8 {
  float: right !important;
}
.delete-button {
  display: none;
}
.duplicate-button {
  display: none;
}
.rename-button {
  display: none;
}
.shutdown-button {
  display: none;
}
.dynamic-instructions {
  display: inline-block;
  padding-top: 4px;
}
/*!
*
* IPython text editor webapp
*
*/
.selected-keymap i.fa {
  padding: 0px 5px;
}
.selected-keymap i.fa:before {
  content: "\f00c";
}
#mode-menu {
  overflow: auto;
  max-height: 20em;
}
.edit_app #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.edit_app #menubar .navbar {
  /* Use a negative 1 bottom margin, so the border overlaps the border of the
    header */
  margin-bottom: -1px;
}
.dirty-indicator {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator.pull-left {
  margin-right: .3em;
}
.dirty-indicator.pull-right {
  margin-left: .3em;
}
.dirty-indicator-dirty {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-dirty.pull-left {
  margin-right: .3em;
}
.dirty-indicator-dirty.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-clean.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f00c";
}
.dirty-indicator-clean:before.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean:before.pull-right {
  margin-left: .3em;
}
#filename {
  font-size: 16pt;
  display: table;
  padding: 0px 5px;
}
#current-mode {
  padding-left: 5px;
  padding-right: 5px;
}
#texteditor-backdrop {
  padding-top: 20px;
  padding-bottom: 20px;
}
@media not print {
  #texteditor-backdrop {
    background-color: #EEE;
  }
}
@media print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container {
    padding: 0px;
    background-color: #fff;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area .rendered_html table {
  margin-left: 0;
  margin-right: 0;
}
div.output_area .rendered_html img {
  margin-left: 0;
  margin-right: 0;
}
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}
.rendered_html em {
  font-style: italic;
}
.rendered_html strong {
  font-weight: bold;
}
.rendered_html u {
  text-decoration: underline;
}
.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}
.rendered_html h1 {
  font-size: 185.7%;
  margin: 1.08em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h2 {
  font-size: 157.1%;
  margin: 1.27em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h3 {
  font-size: 128.6%;
  margin: 1.55em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h4 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h5 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h6 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul {
  list-style: disc;
  margin: 0em 2em;
  padding-left: 0px;
}
.rendered_html ul ul {
  list-style: square;
  margin: 0em 2em;
}
.rendered_html ul ul ul {
  list-style: circle;
  margin: 0em 2em;
}
.rendered_html ol {
  list-style: decimal;
  margin: 0em 2em;
  padding-left: 0px;
}
.rendered_html ol ol {
  list-style: upper-alpha;
  margin: 0em 2em;
}
.rendered_html ol ol ol {
  list-style: lower-alpha;
  margin: 0em 2em;
}
.rendered_html ol ol ol ol {
  list-style: lower-roman;
  margin: 0em 2em;
}
.rendered_html ol ol ol ol ol {
  list-style: decimal;
  margin: 0em 2em;
}
.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}
.rendered_html hr {
  color: black;
  background-color: black;
}
.rendered_html pre {
  margin: 1em 2em;
}
.rendered_html pre,
.rendered_html code {
  border: 0;
  background-color: #fff;
  color: #000;
  font-size: 100%;
  padding: 0px;
}
.rendered_html blockquote {
  margin: 1em 2em;
}
.rendered_html table {
  margin-left: auto;
  margin-right: auto;
  border: 1px solid black;
  border-collapse: collapse;
}
.rendered_html tr,
.rendered_html th,
.rendered_html td {
  border: 1px solid black;
  border-collapse: collapse;
  margin: 1em 2em;
}
.rendered_html td,
.rendered_html th {
  text-align: left;
  vertical-align: middle;
  padding: 4px;
}
.rendered_html th {
  font-weight: bold;
}
.rendered_html * + table {
  margin-top: 1em;
}
.rendered_html p {
  text-align: left;
}
.rendered_html * + p {
  margin-top: 1em;
}
.rendered_html img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,
.rendered_html svg {
  max-width: 100%;
  height: auto;
}
.rendered_html img.unconfined,
.rendered_html svg.unconfined {
  max-width: none;
}
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered .rendered_html {
  overflow-x: auto;
  overflow-y: hidden;
}
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
/*!
*
* IPython notebook webapp
*
*/
@media (max-width: 767px) {
  .notebook_app {
    padding-left: 0px;
    padding-right: 0px;
  }
}
#ipython-main-app {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook_panel {
  margin: 0px;
  padding: 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook {
  font-size: 14px;
  line-height: 20px;
  overflow-y: hidden;
  overflow-x: auto;
  width: 100%;
  /* This spaces the page away from the edge of the notebook area */
  padding-top: 20px;
  margin: 0px;
  outline: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  min-height: 100%;
}
@media not print {
  #notebook-container {
    padding: 15px;
    background-color: #fff;
    min-height: 0;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
@media print {
  #notebook-container {
    width: 100%;
  }
}
div.ui-widget-content {
  border: 1px solid #ababab;
  outline: none;
}
pre.dialog {
  background-color: #f7f7f7;
  border: 1px solid #ddd;
  border-radius: 2px;
  padding: 0.4em;
  padding-left: 2em;
}
p.dialog {
  padding: 0.2em;
}
/* Word-wrap output correctly.  This is the CSS3 spelling, though Firefox seems
   to not honor it correctly.  Webkit browsers (Chrome, rekonq, Safari) do.
 */
pre,
code,
kbd,
samp {
  white-space: pre-wrap;
}
#fonttest {
  font-family: monospace;
}
p {
  margin-bottom: 0;
}
.end_space {
  min-height: 100px;
  transition: height .2s ease;
}
.notebook_app > #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
@media not print {
  .notebook_app {
    background-color: #EEE;
  }
}
kbd {
  border-style: solid;
  border-width: 1px;
  box-shadow: none;
  margin: 2px;
  padding-left: 2px;
  padding-right: 2px;
  padding-top: 1px;
  padding-bottom: 1px;
}
/* CSS for the cell toolbar */
.celltoolbar {
  border: thin solid #CFCFCF;
  border-bottom: none;
  background: #EEE;
  border-radius: 2px 2px 0px 0px;
  width: 100%;
  height: 29px;
  padding-right: 4px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
  display: -webkit-flex;
}
@media print {
  .celltoolbar {
    display: none;
  }
}
.ctb_hideshow {
  display: none;
  vertical-align: bottom;
}
/* ctb_show is added to the ctb_hideshow div to show the cell toolbar.
   Cell toolbars are only shown when the ctb_global_show class is also set.
*/
.ctb_global_show .ctb_show.ctb_hideshow {
  display: block;
}
.ctb_global_show .ctb_show + .input_area,
.ctb_global_show .ctb_show + div.text_cell_input,
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border-top-right-radius: 0px;
  border-top-left-radius: 0px;
}
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border: 1px solid #cfcfcf;
}
.celltoolbar {
  font-size: 87%;
  padding-top: 3px;
}
.celltoolbar select {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
  width: inherit;
  font-size: inherit;
  height: 22px;
  padding: 0px;
  display: inline-block;
}
.celltoolbar select:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.celltoolbar select::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.celltoolbar select:-ms-input-placeholder {
  color: #999;
}
.celltoolbar select::-webkit-input-placeholder {
  color: #999;
}
.celltoolbar select::-ms-expand {
  border: 0;
  background-color: transparent;
}
.celltoolbar select[disabled],
.celltoolbar select[readonly],
fieldset[disabled] .celltoolbar select {
  background-color: #eeeeee;
  opacity: 1;
}
.celltoolbar select[disabled],
fieldset[disabled] .celltoolbar select {
  cursor: not-allowed;
}
textarea.celltoolbar select {
  height: auto;
}
select.celltoolbar select {
  height: 30px;
  line-height: 30px;
}
textarea.celltoolbar select,
select[multiple].celltoolbar select {
  height: auto;
}
.celltoolbar label {
  margin-left: 5px;
  margin-right: 5px;
}
.completions {
  position: absolute;
  z-index: 110;
  overflow: hidden;
  border: 1px solid #ababab;
  border-radius: 2px;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  line-height: 1;
}
.completions select {
  background: white;
  outline: none;
  border: none;
  padding: 0px;
  margin: 0px;
  overflow: auto;
  font-family: monospace;
  font-size: 110%;
  color: #000;
  width: auto;
}
.completions select option.context {
  color: #286090;
}
#kernel_logo_widget {
  float: right !important;
  float: right;
}
#kernel_logo_widget .current_kernel_logo {
  display: none;
  margin-top: -1px;
  margin-bottom: -1px;
  width: 32px;
  height: 32px;
}
#menubar {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  margin-top: 1px;
}
#menubar .navbar {
  border-top: 1px;
  border-radius: 0px 0px 2px 2px;
  margin-bottom: 0px;
}
#menubar .navbar-toggle {
  float: left;
  padding-top: 7px;
  padding-bottom: 7px;
  border: none;
}
#menubar .navbar-collapse {
  clear: left;
}
.nav-wrapper {
  border-bottom: 1px solid #e7e7e7;
}
i.menu-icon {
  padding-top: 4px;
}
ul#help_menu li a {
  overflow: hidden;
  padding-right: 2.2em;
}
ul#help_menu li a i {
  margin-right: -1.2em;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu > .dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
}
.dropdown-submenu:hover > .dropdown-menu {
  display: block;
}
.dropdown-submenu > a:after {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: block;
  content: "\f0da";
  float: right;
  color: #333333;
  margin-top: 2px;
  margin-right: -10px;
}
.dropdown-submenu > a:after.pull-left {
  margin-right: .3em;
}
.dropdown-submenu > a:after.pull-right {
  margin-left: .3em;
}
.dropdown-submenu:hover > a:after {
  color: #262626;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left > .dropdown-menu {
  left: -100%;
  margin-left: 10px;
}
#notification_area {
  float: right !important;
  float: right;
  z-index: 10;
}
.indicator_area {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
#kernel_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  border-left: 1px solid;
}
#kernel_indicator .kernel_indicator_name {
  padding-left: 5px;
  padding-right: 5px;
}
#modal_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
#readonly-indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  margin-top: 2px;
  margin-bottom: 0px;
  margin-left: 0px;
  margin-right: 0px;
  display: none;
}
.modal_indicator:before {
  width: 1.28571429em;
  text-align: center;
}
.edit_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f040";
}
.edit_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.edit_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.command_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: ' ';
}
.command_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.command_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.kernel_idle_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f10c";
}
.kernel_idle_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_idle_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_busy_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f111";
}
.kernel_busy_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_busy_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_dead_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f1e2";
}
.kernel_dead_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_dead_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_disconnected_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f127";
}
.kernel_disconnected_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_disconnected_icon:before.pull-right {
  margin-left: .3em;
}
.notification_widget {
  color: #777;
  z-index: 10;
  background: rgba(240, 240, 240, 0.5);
  margin-right: 4px;
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget:focus,
.notification_widget.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.notification_widget:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active:hover,
.notification_widget.active:hover,
.open > .dropdown-toggle.notification_widget:hover,
.notification_widget:active:focus,
.notification_widget.active:focus,
.open > .dropdown-toggle.notification_widget:focus,
.notification_widget:active.focus,
.notification_widget.active.focus,
.open > .dropdown-toggle.notification_widget.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  background-image: none;
}
.notification_widget.disabled:hover,
.notification_widget[disabled]:hover,
fieldset[disabled] .notification_widget:hover,
.notification_widget.disabled:focus,
.notification_widget[disabled]:focus,
fieldset[disabled] .notification_widget:focus,
.notification_widget.disabled.focus,
.notification_widget[disabled].focus,
fieldset[disabled] .notification_widget.focus {
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget .badge {
  color: #fff;
  background-color: #333;
}
.notification_widget.warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning:focus,
.notification_widget.warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.notification_widget.warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active:hover,
.notification_widget.warning.active:hover,
.open > .dropdown-toggle.notification_widget.warning:hover,
.notification_widget.warning:active:focus,
.notification_widget.warning.active:focus,
.open > .dropdown-toggle.notification_widget.warning:focus,
.notification_widget.warning:active.focus,
.notification_widget.warning.active.focus,
.open > .dropdown-toggle.notification_widget.warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  background-image: none;
}
.notification_widget.warning.disabled:hover,
.notification_widget.warning[disabled]:hover,
fieldset[disabled] .notification_widget.warning:hover,
.notification_widget.warning.disabled:focus,
.notification_widget.warning[disabled]:focus,
fieldset[disabled] .notification_widget.warning:focus,
.notification_widget.warning.disabled.focus,
.notification_widget.warning[disabled].focus,
fieldset[disabled] .notification_widget.warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.notification_widget.success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success:focus,
.notification_widget.success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.notification_widget.success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active:hover,
.notification_widget.success.active:hover,
.open > .dropdown-toggle.notification_widget.success:hover,
.notification_widget.success:active:focus,
.notification_widget.success.active:focus,
.open > .dropdown-toggle.notification_widget.success:focus,
.notification_widget.success:active.focus,
.notification_widget.success.active.focus,
.open > .dropdown-toggle.notification_widget.success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  background-image: none;
}
.notification_widget.success.disabled:hover,
.notification_widget.success[disabled]:hover,
fieldset[disabled] .notification_widget.success:hover,
.notification_widget.success.disabled:focus,
.notification_widget.success[disabled]:focus,
fieldset[disabled] .notification_widget.success:focus,
.notification_widget.success.disabled.focus,
.notification_widget.success[disabled].focus,
fieldset[disabled] .notification_widget.success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.notification_widget.info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info:focus,
.notification_widget.info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.notification_widget.info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active:hover,
.notification_widget.info.active:hover,
.open > .dropdown-toggle.notification_widget.info:hover,
.notification_widget.info:active:focus,
.notification_widget.info.active:focus,
.open > .dropdown-toggle.notification_widget.info:focus,
.notification_widget.info:active.focus,
.notification_widget.info.active.focus,
.open > .dropdown-toggle.notification_widget.info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  background-image: none;
}
.notification_widget.info.disabled:hover,
.notification_widget.info[disabled]:hover,
fieldset[disabled] .notification_widget.info:hover,
.notification_widget.info.disabled:focus,
.notification_widget.info[disabled]:focus,
fieldset[disabled] .notification_widget.info:focus,
.notification_widget.info.disabled.focus,
.notification_widget.info[disabled].focus,
fieldset[disabled] .notification_widget.info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.notification_widget.danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger:focus,
.notification_widget.danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.notification_widget.danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active:hover,
.notification_widget.danger.active:hover,
.open > .dropdown-toggle.notification_widget.danger:hover,
.notification_widget.danger:active:focus,
.notification_widget.danger.active:focus,
.open > .dropdown-toggle.notification_widget.danger:focus,
.notification_widget.danger:active.focus,
.notification_widget.danger.active.focus,
.open > .dropdown-toggle.notification_widget.danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  background-image: none;
}
.notification_widget.danger.disabled:hover,
.notification_widget.danger[disabled]:hover,
fieldset[disabled] .notification_widget.danger:hover,
.notification_widget.danger.disabled:focus,
.notification_widget.danger[disabled]:focus,
fieldset[disabled] .notification_widget.danger:focus,
.notification_widget.danger.disabled.focus,
.notification_widget.danger[disabled].focus,
fieldset[disabled] .notification_widget.danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger .badge {
  color: #d9534f;
  background-color: #fff;
}
div#pager {
  background-color: #fff;
  font-size: 14px;
  line-height: 20px;
  overflow: hidden;
  display: none;
  position: fixed;
  bottom: 0px;
  width: 100%;
  max-height: 50%;
  padding-top: 8px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  /* Display over codemirror */
  z-index: 100;
  /* Hack which prevents jquery ui resizable from changing top. */
  top: auto !important;
}
div#pager pre {
  line-height: 1.21429em;
  color: #000;
  background-color: #f7f7f7;
  padding: 0.4em;
}
div#pager #pager-button-area {
  position: absolute;
  top: 8px;
  right: 20px;
}
div#pager #pager-contents {
  position: relative;
  overflow: auto;
  width: 100%;
  height: 100%;
}
div#pager #pager-contents #pager-container {
  position: relative;
  padding: 15px 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
div#pager .ui-resizable-handle {
  top: 0px;
  height: 8px;
  background: #f7f7f7;
  border-top: 1px solid #cfcfcf;
  border-bottom: 1px solid #cfcfcf;
  /* This injects handle bars (a short, wide = symbol) for 
        the resize handle. */
}
div#pager .ui-resizable-handle::after {
  content: '';
  top: 2px;
  left: 50%;
  height: 3px;
  width: 30px;
  margin-left: -15px;
  position: absolute;
  border-top: 1px solid #cfcfcf;
}
.quickhelp {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  line-height: 1.8em;
}
.shortcut_key {
  display: inline-block;
  width: 21ex;
  text-align: right;
  font-family: monospace;
}
.shortcut_descr {
  display: inline-block;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
span.save_widget {
  margin-top: 6px;
}
span.save_widget span.filename {
  height: 1em;
  line-height: 1em;
  padding: 3px;
  margin-left: 16px;
  border: none;
  font-size: 146.5%;
  border-radius: 2px;
}
span.save_widget span.filename:hover {
  background-color: #e6e6e6;
}
span.checkpoint_status,
span.autosave_status {
  font-size: small;
}
@media (max-width: 767px) {
  span.save_widget {
    font-size: small;
  }
  span.checkpoint_status,
  span.autosave_status {
    display: none;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  span.checkpoint_status {
    display: none;
  }
  span.autosave_status {
    font-size: x-small;
  }
}
.toolbar {
  padding: 0px;
  margin-left: -5px;
  margin-top: 2px;
  margin-bottom: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.toolbar select,
.toolbar label {
  width: auto;
  vertical-align: middle;
  margin-right: 2px;
  margin-bottom: 0px;
  display: inline;
  font-size: 92%;
  margin-left: 0.3em;
  margin-right: 0.3em;
  padding: 0px;
  padding-top: 3px;
}
.toolbar .btn {
  padding: 2px 8px;
}
.toolbar .btn-group {
  margin-top: 0px;
  margin-left: 5px;
}
#maintoolbar {
  margin-bottom: -3px;
  margin-top: -8px;
  border: 0px;
  min-height: 27px;
  margin-left: 0px;
  padding-top: 11px;
  padding-bottom: 3px;
}
#maintoolbar .navbar-text {
  float: none;
  vertical-align: middle;
  text-align: right;
  margin-left: 5px;
  margin-right: 0px;
  margin-top: 0px;
}
.select-xs {
  height: 24px;
}
.pulse,
.dropdown-menu > li > a.pulse,
li.pulse > a.dropdown-toggle,
li.pulse.open > a.dropdown-toggle {
  background-color: #F37626;
  color: white;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
/** WARNING IF YOU ARE EDITTING THIS FILE, if this is a .css file, It has a lot
 * of chance of beeing generated from the ../less/[samename].less file, you can
 * try to get back the less file by reverting somme commit in history
 **/
/*
 * We'll try to get something pretty, so we
 * have some strange css to have the scroll bar on
 * the left with fix button on the top right of the tooltip
 */
@-moz-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-webkit-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-moz-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/*properties of tooltip after "expand"*/
.bigtooltip {
  overflow: auto;
  height: 200px;
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
}
/*properties of tooltip before "expand"*/
.smalltooltip {
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
  text-overflow: ellipsis;
  overflow: hidden;
  height: 80px;
}
.tooltipbuttons {
  position: absolute;
  padding-right: 15px;
  top: 0px;
  right: 0px;
}
.tooltiptext {
  /*avoid the button to overlap on some docstring*/
  padding-right: 30px;
}
.ipython_tooltip {
  max-width: 700px;
  /*fade-in animation when inserted*/
  -webkit-animation: fadeOut 400ms;
  -moz-animation: fadeOut 400ms;
  animation: fadeOut 400ms;
  -webkit-animation: fadeIn 400ms;
  -moz-animation: fadeIn 400ms;
  animation: fadeIn 400ms;
  vertical-align: middle;
  background-color: #f7f7f7;
  overflow: visible;
  border: #ababab 1px solid;
  outline: none;
  padding: 3px;
  margin: 0px;
  padding-left: 7px;
  font-family: monospace;
  min-height: 50px;
  -moz-box-shadow: 0px 6px 10px -1px #adadad;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  border-radius: 2px;
  position: absolute;
  z-index: 1000;
}
.ipython_tooltip a {
  float: right;
}
.ipython_tooltip .tooltiptext pre {
  border: 0;
  border-radius: 0;
  font-size: 100%;
  background-color: #f7f7f7;
}
.pretooltiparrow {
  left: 0px;
  margin: 0px;
  top: -16px;
  width: 40px;
  height: 16px;
  overflow: hidden;
  position: absolute;
}
.pretooltiparrow:before {
  background-color: #f7f7f7;
  border: 1px #ababab solid;
  z-index: 11;
  content: "";
  position: absolute;
  left: 15px;
  top: 10px;
  width: 25px;
  height: 25px;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  -o-transform: rotate(45deg);
}
ul.typeahead-list i {
  margin-left: -10px;
  width: 18px;
}
ul.typeahead-list {
  max-height: 80vh;
  overflow: auto;
}
ul.typeahead-list > li > a {
  /** Firefox bug **/
  /* see https://github.com/jupyter/notebook/issues/559 */
  white-space: normal;
}
.cmd-palette .modal-body {
  padding: 7px;
}
.cmd-palette form {
  background: white;
}
.cmd-palette input {
  outline: none;
}
.no-shortcut {
  display: none;
}
.command-shortcut:before {
  content: "(command)";
  padding-right: 3px;
  color: #777777;
}
.edit-shortcut:before {
  content: "(edit)";
  padding-right: 3px;
  color: #777777;
}
#find-and-replace #replace-preview .match,
#find-and-replace #replace-preview .insert {
  background-color: #BBDEFB;
  border-color: #90CAF9;
  border-style: solid;
  border-width: 1px;
  border-radius: 0px;
}
#find-and-replace #replace-preview .replace .match {
  background-color: #FFCDD2;
  border-color: #EF9A9A;
  border-radius: 0px;
}
#find-and-replace #replace-preview .replace .insert {
  background-color: #C8E6C9;
  border-color: #A5D6A7;
  border-radius: 0px;
}
#find-and-replace #replace-preview {
  max-height: 60vh;
  overflow: auto;
}
#find-and-replace #replace-preview pre {
  padding: 5px 10px;
}
.terminal-app {
  background: #EEE;
}
.terminal-app #header {
  background: #fff;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.terminal-app .terminal {
  width: 100%;
  float: left;
  font-family: monospace;
  color: white;
  background: black;
  padding: 0.4em;
  border-radius: 2px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
}
.terminal-app .terminal,
.terminal-app .terminal dummy-screen {
  line-height: 1em;
  font-size: 14px;
}
.terminal-app .terminal .xterm-rows {
  padding: 10px;
}
.terminal-app .terminal-cursor {
  color: black;
  background: white;
}
.terminal-app #terminado-container {
  margin-top: 20px;
}
/*# sourceMappingURL=style.min.css.map */
    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>
<style type="text/css">

/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

    </style>

<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  }
  div.output_wrapper {
    display: block;
    page-break-inside: avoid;
  }
  div.output {
    display: block;
    page-break-inside: avoid;
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Load mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true }
    }
});
</script>
<!-- End of mathjax configuration --><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<!--[if IE lte 8]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<style type="text/css">
.ipyfigure { display: -ms-flex; display: -webkit-flex; display: flex;}
.ipyfigure>div { flex:1; }
.ipytable { display: -ms-flex; display: -webkit-flex; display: flex;}
.ipytable>div { flex:1; }

</style>

<link href='https://fonts.googleapis.com/css?family=Patua+One|Source+Code+Pro|Open+Sans' rel='stylesheet' type='text/css'>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<meta property="og:url" content="https://www.fuzzingbook.org/beta/html/Parser.html" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Parsing and Recombining Inputs - Generating Software Tests" />
<meta property="og:description" content="In the chapter on Grammars, we discussed how grammars can beused to represent various languages. We also saw how grammars can be used togenerate strings of the corresponding language. Grammars can also perform thereverse. That is, given a string, one can decompose the string into itsconstituent parts that correspond to the parts of grammar used to generate it– the derivation tree of that string. These parts (and parts from other similarstrings) can later be recombined using the same grammar to produce new strings.In this chapter, we use grammars to parse and decompose a given set of valid seed inputs into their corresponding derivation trees. This structural representation allows us to mutate, crossover, and recombine their parts in order to generate new valid, slightly changed inputs (i.e., fuzz)Prerequisites You should have read the chapter on grammars. An understanding of derivation trees from the chapter on grammar fuzzer  is also required." />
<meta property="og:image" content="https://www.fuzzingbook.org/beta/html/PICS/wordcloud.png" />

<link rel="shortcut icon" href="favicon/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="152x152" href="favicon/apple-touch-icon.png">

<meta name="msapplication-TileColor" content="#B03A2E">
<meta name="msapplication-config" content="favicon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
<link rel="manifest" href="favicon/site.webmanifest">

<meta name="viewport" content="width=device-width, initial-scale=1"></head>
 <body>

    <script>
    var close_menus = function() {
        /* doesn't work yet - AZ
        console.log("Closing menus")
        var cssmenu = document.getElementById("cssmenu")
        var all_items = cssmenu.getElementsByTagName("li");
        var i;
        for (i = 0; i < all_items.length; i++) {
            item = all_items[i];
            // console.log("<li>: ")
            // console.log(item.innerHTML);
            var j;
            var all_ul = item.getElementsByTagName("ul");
            for (j = 0; j < all_ul.length; j++) {
                console.log("<ul>: ")
                console.log(all_ul[j].innerHTML);
                all_ul[j].style.display = "none";
            }
            var all_ol = item.getElementsByTagName("ol");
            for (j = 0; j < all_ol.length; j++) {
                console.log("<ol>: ")
                console.log(all_ol[j].innerHTML);
                all_ol[j].style.display = "none";
            }
        }
        */
    };

    $( document ).ready( close_menus );

    // Let navbar fade away when scrolling down
    var prevScrollpos = window.pageYOffset;
    window.onscroll = function() {
        var currentScrollPos = window.pageYOffset;
        if (currentScrollPos > 10 && currentScrollPos > prevScrollpos) {
            // Hide navbar
            var cssmenu = document.getElementById("cssmenu")
            cssmenu.style.opacity = 0;

            // When scrolling, also close all sub-menus
            close_menus();
        }
        else {
            // Make navbar visible
            document.getElementById("cssmenu").style.opacity = 1;
        }
        prevScrollpos = currentScrollPos;
    };
    </script>
    
<nav>
<div id="cssmenu">
  <ul>
     <li class="has-sub"><a href="#"><span title="Generating Software Tests"><i class="fa fa-fw fa-bars"></i> </span><span class="menu_1">Generating Software Tests&nbsp;<i class="fa fa-fw fa-wrench"></i></span></a>
        <ol>
           <li><a href="https://www.fuzzingbook.org/beta/"><i class="fa fa-fw fa-home"></i> About this book</a></li>
<li class="has-sub"><a href="Intro_Testing.html" class="chapters">Chapters 1&ndash;5 <i class="fa fa-fw fa-caret-right"></i></a><ul><li><a href="Intro_Testing.html"><span class="chnum">1</span> Introduction to Software Testing</a></li>
<li><a href="Fuzzer.html"><span class="chnum">2</span> Fuzzing: Breaking Things with Random Inputs</a></li>
<li><a href="Coverage.html"><span class="chnum">3</span> Getting Coverage</a></li>
<li><a href="MutationFuzzer.html"><span class="chnum">4</span> Mutation-Based Fuzzing</a></li>
<li><a href="Grammars.html"><span class="chnum">5</span> Fuzzing with Grammars</a></li>
</ul><li><a href="GrammarFuzzer.html"><span class="chnum">6</span> Efficient Grammar Fuzzing</a></li>
<li><a href="GrammarCoverageFuzzer.html"><span class="chnum">7</span> Grammar Coverage</a></li>
<li><a href="ConfigurationFuzzer.html"><span class="chnum">8</span> Testing Configurations</a></li>
<li><a href="Parser.html" class="this_page"><span class="chnum">9</span> Parsing and Recombining Inputs</a></li>
<li><a href="ProbabilisticGrammarFuzzer.html"><span class="chnum">10</span> Probabilistic Grammar Fuzzing&nbsp;<i class="fa fa-fw fa-warning"></i></a></li>
<li class="has-sub"><a href="GeneratorGrammarFuzzer.html" class="chapters">Chapters 11&ndash;15&nbsp;<i class="fa fa-fw fa-warning"></i> <i class="fa fa-fw fa-caret-right"></i></a><ul><li><a href="GeneratorGrammarFuzzer.html"><span class="chnum">11</span> Fuzzing with Generators&nbsp;<i class="fa fa-fw fa-warning"></i></a></li>
<li><a href="APIFuzzer.html"><span class="chnum">12</span> Fuzzing APIs&nbsp;<i class="fa fa-fw fa-warning"></i></a></li>
<li><a href="Carver.html"><span class="chnum">13</span> Carving Unit Tests&nbsp;<i class="fa fa-fw fa-wrench"></i></a></li>
<li><a href="Reducer.html"><span class="chnum">14</span> Reducing Failure-Inducing Inputs&nbsp;<i class="fa fa-fw fa-wrench"></i></a></li>
<li><a href="WebFuzzer.html"><span class="chnum">15</span> Web GUI Fuzzing&nbsp;<i class="fa fa-fw fa-wrench"></i></a></li>
</ul><li class="has-sub"><a href="InformationFlow.html" class="chapters">Chapters 16&ndash;17&nbsp;<i class="fa fa-fw fa-wrench"></i> <i class="fa fa-fw fa-caret-right"></i></a><ul><li><a href="InformationFlow.html"><span class="chnum">16</span> Information Flow&nbsp;<i class="fa fa-fw fa-wrench"></i></a></li>
<li><a href="GrammarMiner.html"><span class="chnum">17</span> Mining Input Grammars&nbsp;<i class="fa fa-fw fa-wrench"></i></a></li>
</ul>
           <li><a href="https://www.fuzzingbook.org/beta/#News" class="more_coming">More Chapters Coming!</a></li>
        </ol>
     </li>
     <li class="has-sub"><a href="#"><span title="Parsing and Recombining Inputs"><i class="fa fa-fw fa-list-ul"></i></span> <span class="menu_2">Parsing and Recombining Inputs</span></a>
           <ul><li class="has-sub"><a href="#Fuzzing-a-Simple-Program">Fuzzing a Simple Program</a>
</li><li class="has-sub"><a href="#An-Ad-Hoc-Parser">An Ad Hoc Parser</a>
</li><li class="has-sub"><a href="#Grammars">Grammars</a>
</li><li class="has-sub"><a href="#Parsing-Expression-Grammars">Parsing Expression Grammars</a>
<ul><li class="has-sub"><a href="#The-Packrat-Parser-for-Predicate-Expression-Grammars">The Packrat Parser for Predicate Expression Grammars</a>
</li><li class="has-sub"><a href="#The-Parser">The Parser</a>
</ul></li><li class="has-sub"><a href="#Recombining-Parsed-Inputs">Recombining Parsed Inputs</a>
<ul><li class="has-sub"><a href="#A-Grammar-based-Mutational-Fuzzer">A Grammar-based Mutational Fuzzer</a>
</ul></li><li class="has-sub"><a href="#Parsing-Context-Free-Grammars">Parsing Context-Free Grammars</a>
<ul><li class="has-sub"><a href="#Problems-with-PEG">Problems with PEG</a>
</li><li class="has-sub"><a href="#The-Earley-Parser">The Earley Parser</a>
</li><li class="has-sub"><a href="#Columns">Columns</a>
</li><li class="has-sub"><a href="#Items">Items</a>
</li><li class="has-sub"><a href="#States">States</a>
</li><li class="has-sub"><a href="#The-Parsing-Algorithm">The Parsing Algorithm</a>
</li><li class="has-sub"><a href="#Predicting-States">Predicting States</a>
</li><li class="has-sub"><a href="#Scanning-Tokens">Scanning Tokens</a>
</li><li class="has-sub"><a href="#Completing-Processing">Completing Processing</a>
</li><li class="has-sub"><a href="#Filling-the-Chart">Filling the Chart</a>
</li><li class="has-sub"><a href="#The-Parse-Method">The Parse Method</a>
</li><li class="has-sub"><a href="#Parsing-Paths">Parsing Paths</a>
</li><li class="has-sub"><a href="#Parsing-Forests">Parsing Forests</a>
</li><li class="has-sub"><a href="#Extracting-Trees">Extracting Trees</a>
</li><li class="has-sub"><a href="#Ambiguous-Parsing">Ambiguous Parsing</a>
</li><li class="has-sub"><a href="#The-Aycock-Epsilon-Fix">The Aycock Epsilon Fix</a>
</li><li class="has-sub"><a href="#More-Earley-Parsing">More Earley Parsing</a>
</ul></li><li class="has-sub"><a href="#Testing-the-Parsers">Testing the Parsers</a>
</li><li class="has-sub"><a href="#Background">Background</a>
</li><li class="has-sub"><a href="#Lessons-Learned">Lessons Learned</a>
</li><li class="has-sub"><a href="#Next-Steps">Next Steps</a>
</li><li class="has-sub"><a href="#Exercises">Exercises</a>
<ul><li class="has-sub"><a href="#Exercise-1:-An-Alternative-Packrat">Exercise 1: An Alternative Packrat</a>
</li><li class="has-sub"><a href="#Exercise-2:-More-PEG-Syntax">Exercise 2: More PEG Syntax</a>
</li><li class="has-sub"><a href="#Exercise-3:-PEG-Predicates">Exercise 3: PEG Predicates</a>
</li><li class="has-sub"><a href="#Exercise-4:-Earley-Fill-Chart">Exercise 4: Earley Fill Chart</a>
</li><li class="has-sub"><a href="#Exercise-5:-Leo-Parser">Exercise 5: Leo Parser</a>
</li><li class="has-sub"><a href="#Exercise-6:-First-Set-of-a-Nonterminal">Exercise 6: First Set of a Nonterminal</a>
</li><li class="has-sub"><a href="#Exercise-7:-Follow-Set-of-a-Nonterminal">Exercise 7: Follow Set of a Nonterminal</a>
</li><li class="has-sub"><a href="#Exercise-8:-A-LL(1)-Parser">Exercise 8: A LL(1) Parser</a>
</li><li class="has-sub"><a href="#Exercise-9:-A-Different-LangFuzzer">Exercise 9: A Different LangFuzzer</a>
</ul></li></ul></li>
     </li>
     
     <li class="has-sub"><a href="#"><span title="Resources"><i class="fa fa-fw fa-cube"></i> </span><span class="menu_3">Resources</span></a>
     <ul>
     <li><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb" target="_blank" class="edit_as_notebook"><i class="fa fa-fw fa-edit"></i> Edit as Notebook (beta)</a></li>
     <li><a href="https://www.fuzzingbook.org/beta/slides/Parser.slides.html" target="_blank"><i class="fa fa-fw fa-video-camera"></i> View Slides</a></li>
     <li><a href="https://www.fuzzingbook.org/beta/code/Parser.py"><i class="fa fa-fw fa-download"></i> Download Code (.py)</a></li>
     <li><a href="https://www.fuzzingbook.org/beta/notebooks/Parser.ipynb"><i class="fa fa-fw fa-download"></i> Download Notebook (.ipynb)</a></li>
     <li><a href="https://www.fuzzingbook.org/beta/dist/fuzzingbook-code.zip"><i class="fa fa-fw fa-cube"></i> All Code (.zip)</a></li>
     <li><a href="https://www.fuzzingbook.org/beta/dist/fuzzingbook-notebooks.zip"><i class="fa fa-fw fa-cube"></i> All Notebooks (.zip)</a></li>
     <li><a href="https://github.com/uds-se/fuzzingbook/" target="_blank"><i class="fa fa-fw fa-github"></i> Project Page</a></li>
     </ul>
     </li>
     
     <li class="has-sub"><a href="#"><span title="Share"><i class="fa fa-fw fa-comments"></i> </span> <span class="menu_4">Share</span></a>
        <ul>
            <li><a href="https://twitter.com/intent/tweet?text=I%20just%20read%20%22Parsing%20and%20Recombining%20Inputs%22%20(part%20of%20@FuzzingBook)%20at%20https%3a%2f%2fwww.fuzzingbook.org%2fbeta%2fhtml%2fParser.html" target="popup" 
onclick="window.open('https://twitter.com/intent/tweet?text=I%20just%20read%20%22Parsing%20and%20Recombining%20Inputs%22%20(part%20of%20@FuzzingBook)%20at%20https%3a%2f%2fwww.fuzzingbook.org%2fbeta%2fhtml%2fParser.html','popup','width=600,height=600'); return false;"
><i class="fa fa-fw fa-twitter"></i> Share on Twitter</a>
            <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.fuzzingbook.org%2fbeta%2fhtml%2fParser.html" target="popup" 
onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.fuzzingbook.org%2fbeta%2fhtml%2fParser.html','popup','width=600,height=600'); return false;"
><i class="fa fa-fw fa-facebook"></i> Share on Facebook</a>
            <li><a href="mailto:?subject=Parsing%20and%20Recombining%20Inputs&body=I%20just%20read%20%22Parsing%20and%20Recombining%20Inputs%22%20(part%20of%20@FuzzingBook)%20at%20https%3a%2f%2fwww.fuzzingbook.org%2fbeta%2fhtml%2fParser.html"><i class="fa fa-fw fa-envelope"></i> Share by Email</a>
            <li><a href="#citation" id="cite" onclick="revealCitation()"><i class="fa fa-fw fa-mortar-board"></i> Cite</a>
        </ul>
     </li>
     <li class="has-sub"><a href="#"><span title="Help"><i class="fa fa-fw fa-question-circle"></i></span> <span class="menu_5">Help</span></a>
        <ul>
          <li><a href="https://www.fuzzingbook.org/beta/#Troubleshooting"><i class="fa fa-fw fa-wrench"></i> Troubleshooting</a></li>
          <li><a href="https://docs.python.org/3/tutorial/" target=_blank><i class="fa fa-fw fa-question-circle"></i> Python Tutorial</a>
          <li><a href="https://www.dataquest.io/blog/jupyter-notebook-tutorial/" target=_blank><i class="fa fa-fw fa-question-circle"></i> Jupyter Notebook Tutorial</a>
          <li><a href="https://github.com/uds-se/fuzzingbook/issues/" target="_blank"><i class="fa fa-fw fa-commenting"></i> Report an Issue</a></li>
        </ul>
     </li>
  </ul>
</div>
</nav>

    <article>
   <div tabindex="-1" id="notebook" class="border-box-sizing">
     <div class="container" id="notebook-container">

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Parsing-and-Recombining-Inputs">Parsing and Recombining Inputs<a class="anchor-link" href="#Parsing-and-Recombining-Inputs">&#182;</a></h1><p>In the chapter on <a href="Grammars.html">Grammars</a>, we discussed how grammars can be
used to represent various languages. We also saw how grammars can be used to
generate strings of the corresponding language. Grammars can also perform the
reverse. That is, given a string, one can decompose the string into its
constituent parts that correspond to the parts of grammar used to generate it
– the <em>derivation tree</em> of that string. These parts (and parts from other similar
strings) can later be recombined using the same grammar to produce new strings.</p>
<p>In this chapter, we use grammars to parse and decompose a given set of valid seed inputs into their corresponding derivation trees. This structural representation allows us to mutate, crossover, and recombine their parts in order to generate new valid, slightly changed inputs (i.e., fuzz)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>You should have read the <a href="Grammars.html">chapter on grammars</a>.</li>
<li>An understanding of derivation trees from the <a href="GrammarFuzzer.html">chapter on grammar fuzzer</a>
is also required.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Fuzzing-a-Simple-Program">Fuzzing a Simple Program<a class="anchor-link" href="#Fuzzing-a-Simple-Program">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is a simple program that accepts a CSV file of vehicle details and processes this information.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">process_vehicle</span><span class="p">(</span><span class="n">vehicle</span><span class="p">):</span>
    <span class="n">year</span><span class="p">,</span> <span class="n">kind</span><span class="p">,</span> <span class="n">company</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="n">vehicle</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">kind</span> <span class="o">==</span> <span class="s1">&#39;van&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;We have a </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> van from </span><span class="si">%s</span><span class="s2"> vintage.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">company</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">year</span><span class="p">))</span>
        <span class="n">iyear</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">iyear</span> <span class="o">&gt;</span> <span class="mi">2010</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It is a recent model!&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It is an old but reliable model!&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">kind</span> <span class="o">==</span> <span class="s1">&#39;car&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;We have a </span><span class="si">%s</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> car from </span><span class="si">%s</span><span class="s2"> vintage.&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">company</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">year</span><span class="p">))</span>
        <span class="n">iyear</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">iyear</span> <span class="o">&gt;</span> <span class="mi">2016</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It is a recent model!&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;It is an old but reliable model!&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Invalid entry&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is a sample of inputs that the <code>process_vehicle()</code> accepts.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">1997,van,Ford,E350</span>
<span class="s2">2000,car,Mercury,Cougar</span><span class="se">\</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1997,van,Ford,E350
2000,car,Mercury,Cougar
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us try to fuzz this program. Given that it takes a CSV file, we can write a simple grammar for generating comma separated values, and generate the required inputs.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/string.html" class="import" target="_blank">string</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">CSV_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;csvline&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;csvline&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;items&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;items&gt;&#39;</span> <span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;&lt;item&gt;,&lt;items&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;item&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;item&gt;&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;letters&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;letters&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;letter&gt;&lt;letters&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;letter&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;letter&gt;&#39;</span> <span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">digits</span> <span class="o">+</span> <span class="n">string</span><span class="o">.</span><span class="n">punctuation</span> <span class="o">+</span> <span class="s1">&#39; </span><span class="se">\t\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We need some infrastructure first for viewing the grammar.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn"><a href="Grammars.html" class="import" target="_blank">Grammars</a></span> <span class="k">import</span> <span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">START_SYMBOL</span><span class="p">,</span> <span class="n">RE_NONTERMINAL</span><span class="p">,</span> <span class="n">is_valid_grammar</span><span class="p">,</span> <span class="n">syntax_diagram</span>
<span class="kn">from</span> <span class="nn"><a href="Fuzzer.html" class="import" target="_blank">Fuzzer</a></span> <span class="k">import</span> <span class="n">Fuzzer</span>
<span class="kn">from</span> <span class="nn"><a href="GrammarFuzzer.html" class="import" target="_blank">GrammarFuzzer</a></span> <span class="k">import</span> <span class="n">GrammarFuzzer</span><span class="p">,</span> <span class="n">FasterGrammarFuzzer</span><span class="p">,</span> <span class="n">display_tree</span><span class="p">,</span> <span class="n">tree_to_string</span><span class="p">,</span> <span class="n">dot_escape</span>

<span class="kn">from</span> <span class="nn"><a href="ExpectError.html" class="import" target="_blank">ExpectError</a></span> <span class="k">import</span> <span class="n">ExpectError</span>
<span class="kn">from</span> <span class="nn"><a href="Coverage.html" class="import" target="_blank">Coverage</a></span> <span class="k">import</span> <span class="n">Coverage</span>
<span class="kn">from</span> <span class="nn"><a href="Timer.html" class="import" target="_blank">Timer</a></span> <span class="k">import</span> <span class="n">Timer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">CSV_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 199.5 62" width="199.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M159.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><rect height="22" width="79.5" x="60.0" y="20"/><text x="99.75" y="35">csvline</text></g></g><path d="M139.5 31h20"/></g><path d="M 159.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>csvline
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 182.5 62" width="182.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M142.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M122.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M122.5 31h0.0"/><rect height="22" width="62.5" x="60.0" y="20"/><text x="91.25" y="35">items</text></g></g><path d="M122.5 31h20"/></g><path d="M 142.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>items
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 305.0 92" width="305.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M265.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M245.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><rect height="22" width="54.0" x="60.0" y="20"/><text x="87.0" y="35">item</text></g><path d="M114.0 31h10"/><path d="M124.0 31h10"/><g class="terminal">
<path d="M134.0 31h0.0"/><path d="M162.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="134.0" y="20"/><text x="148.25" y="35">,</text></g><path d="M162.5 31h10"/><path d="M172.5 31h10"/><g class="non-terminal">
<path d="M182.5 31h0.0"/><path d="M245.0 31h0.0"/><rect height="22" width="62.5" x="182.5" y="20"/><text x="213.75" y="35">items</text></g></g><path d="M245.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h65.5"/><path d="M179.5 61h65.5"/><g class="non-terminal">
<path d="M125.5 61h0.0"/><path d="M179.5 61h0.0"/><rect height="22" width="54.0" x="125.5" y="50"/><text x="152.5" y="65">item</text></g></g><path d="M245.0 61h20"/></g><path d="M 265.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>item
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 199.5 62" width="199.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M159.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><rect height="22" width="79.5" x="60.0" y="20"/><text x="99.75" y="35">letters</text></g></g><path d="M139.5 31h20"/></g><path d="M 159.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>letters
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 290.5 92" width="290.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M250.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M230.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M131.0 31h0.0"/><rect height="22" width="71.0" x="60.0" y="20"/><text x="95.5" y="35">letter</text></g><path d="M131.0 31h10"/><path d="M141.0 31h10"/><g class="non-terminal">
<path d="M151.0 31h0.0"/><path d="M230.5 31h0.0"/><rect height="22" width="79.5" x="151.0" y="20"/><text x="190.75" y="35">letters</text></g></g><path d="M230.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h49.75"/><path d="M180.75 61h49.75"/><g class="non-terminal">
<path d="M109.75 61h0.0"/><path d="M180.75 61h0.0"/><rect height="22" width="71.0" x="109.75" y="50"/><text x="145.25" y="65">letter</text></g></g><path d="M230.5 61h20"/></g><path d="M 250.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>letter
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="618" viewBox="0 0 611.0 618" width="611.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 299v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 309h0.0"/><path d="M571.0 309h0.0"/><path d="M40.0 309a10 10 0 0 0 10 -10v-269a10 10 0 0 1 10 -10h412.5"/><path d="M138.5 598h412.5a10 10 0 0 0 10 -10v-269a10 10 0 0 1 10 -10"/><path d="M40.0 309h10"/><g>
<path d="M50.0 309h0.0"/><path d="M118.5 309h0.0"/><path d="M50.0 309a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 279h0.0"/><path d="M98.5 279h0.0"/><g class="terminal">
<path d="M70.0 279h0.0"/><path d="M98.5 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="268"/><text x="84.25" y="283">i</text></g></g><path d="M98.5 279a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M50.0 309a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 249h0.0"/><path d="M98.5 249h0.0"/><g class="terminal">
<path d="M70.0 249h0.0"/><path d="M98.5 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="238"/><text x="84.25" y="253">h</text></g></g><path d="M98.5 249a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M50.0 309a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 219h0.0"/><path d="M98.5 219h0.0"/><g class="terminal">
<path d="M70.0 219h0.0"/><path d="M98.5 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="208"/><text x="84.25" y="223">g</text></g></g><path d="M98.5 219a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M50.0 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 189h0.0"/><path d="M98.5 189h0.0"/><g class="terminal">
<path d="M70.0 189h0.0"/><path d="M98.5 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="178"/><text x="84.25" y="193">f</text></g></g><path d="M98.5 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M50.0 309a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 159h0.0"/><path d="M98.5 159h0.0"/><g class="terminal">
<path d="M70.0 159h0.0"/><path d="M98.5 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="148"/><text x="84.25" y="163">e</text></g></g><path d="M98.5 159a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M50.0 309a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 129h0.0"/><path d="M98.5 129h0.0"/><g class="terminal">
<path d="M70.0 129h0.0"/><path d="M98.5 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="118"/><text x="84.25" y="133">d</text></g></g><path d="M98.5 129a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><path d="M50.0 309a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 99h0.0"/><path d="M98.5 99h0.0"/><g class="terminal">
<path d="M70.0 99h0.0"/><path d="M98.5 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="88"/><text x="84.25" y="103">c</text></g></g><path d="M98.5 99a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><path d="M50.0 309a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><g class="terminal">
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="58"/><text x="84.25" y="73">b</text></g></g><path d="M98.5 69a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><path d="M50.0 309a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><g class="terminal">
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="28"/><text x="84.25" y="43">a</text></g></g><path d="M98.5 39a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><path d="M50.0 309h20"/><g>
<path d="M70.0 309h0.0"/><path d="M98.5 309h0.0"/><g class="terminal">
<path d="M70.0 309h0.0"/><path d="M98.5 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="298"/><text x="84.25" y="313">j</text></g></g><path d="M98.5 309h20"/><path d="M50.0 309a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M70.0 339h0.0"/><path d="M98.5 339h0.0"/><g class="terminal">
<path d="M70.0 339h0.0"/><path d="M98.5 339h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="328"/><text x="84.25" y="343">k</text></g></g><path d="M98.5 339a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M50.0 309a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M70.0 369h0.0"/><path d="M98.5 369h0.0"/><g class="terminal">
<path d="M70.0 369h0.0"/><path d="M98.5 369h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="358"/><text x="84.25" y="373">l</text></g></g><path d="M98.5 369a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M50.0 309a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M70.0 399h0.0"/><path d="M98.5 399h0.0"/><g class="terminal">
<path d="M70.0 399h0.0"/><path d="M98.5 399h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="388"/><text x="84.25" y="403">m</text></g></g><path d="M98.5 399a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M50.0 309a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M70.0 429h0.0"/><path d="M98.5 429h0.0"/><g class="terminal">
<path d="M70.0 429h0.0"/><path d="M98.5 429h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="418"/><text x="84.25" y="433">n</text></g></g><path d="M98.5 429a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><path d="M50.0 309a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><g>
<path d="M70.0 459h0.0"/><path d="M98.5 459h0.0"/><g class="terminal">
<path d="M70.0 459h0.0"/><path d="M98.5 459h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="448"/><text x="84.25" y="463">o</text></g></g><path d="M98.5 459a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><path d="M50.0 309a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><g>
<path d="M70.0 489h0.0"/><path d="M98.5 489h0.0"/><g class="terminal">
<path d="M70.0 489h0.0"/><path d="M98.5 489h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="478"/><text x="84.25" y="493">p</text></g></g><path d="M98.5 489a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><path d="M50.0 309a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><g>
<path d="M70.0 519h0.0"/><path d="M98.5 519h0.0"/><g class="terminal">
<path d="M70.0 519h0.0"/><path d="M98.5 519h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="508"/><text x="84.25" y="523">q</text></g></g><path d="M98.5 519a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><path d="M50.0 309a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><g>
<path d="M70.0 549h0.0"/><path d="M98.5 549h0.0"/><g class="terminal">
<path d="M70.0 549h0.0"/><path d="M98.5 549h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="538"/><text x="84.25" y="553">r</text></g></g><path d="M98.5 549a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><path d="M50.0 309a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><g>
<path d="M70.0 579h0.0"/><path d="M98.5 579h0.0"/><g class="terminal">
<path d="M70.0 579h0.0"/><path d="M98.5 579h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="568"/><text x="84.25" y="583">s</text></g></g><path d="M98.5 579a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/></g><path d="M118.5 309a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><path d="M118.5 20a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><g>
<path d="M138.5 309h0.0"/><path d="M207.0 309h0.0"/><path d="M138.5 309a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 279h0.0"/><path d="M187.0 279h0.0"/><g class="terminal">
<path d="M158.5 279h0.0"/><path d="M187.0 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="268"/><text x="172.75" y="283">B</text></g></g><path d="M187.0 279a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M138.5 309a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 249h0.0"/><path d="M187.0 249h0.0"/><g class="terminal">
<path d="M158.5 249h0.0"/><path d="M187.0 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="238"/><text x="172.75" y="253">A</text></g></g><path d="M187.0 249a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M138.5 309a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 219h0.0"/><path d="M187.0 219h0.0"/><g class="terminal">
<path d="M158.5 219h0.0"/><path d="M187.0 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="208"/><text x="172.75" y="223">z</text></g></g><path d="M187.0 219a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M138.5 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 189h0.0"/><path d="M187.0 189h0.0"/><g class="terminal">
<path d="M158.5 189h0.0"/><path d="M187.0 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="178"/><text x="172.75" y="193">y</text></g></g><path d="M187.0 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M138.5 309a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 159h0.0"/><path d="M187.0 159h0.0"/><g class="terminal">
<path d="M158.5 159h0.0"/><path d="M187.0 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="148"/><text x="172.75" y="163">x</text></g></g><path d="M187.0 159a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M138.5 309a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 129h0.0"/><path d="M187.0 129h0.0"/><g class="terminal">
<path d="M158.5 129h0.0"/><path d="M187.0 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="118"/><text x="172.75" y="133">w</text></g></g><path d="M187.0 129a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><path d="M138.5 309a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 99h0.0"/><path d="M187.0 99h0.0"/><g class="terminal">
<path d="M158.5 99h0.0"/><path d="M187.0 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="88"/><text x="172.75" y="103">v</text></g></g><path d="M187.0 99a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><path d="M138.5 309a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><g class="terminal">
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="58"/><text x="172.75" y="73">u</text></g></g><path d="M187.0 69a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><path d="M138.5 309a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><g class="terminal">
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="28"/><text x="172.75" y="43">t</text></g></g><path d="M187.0 39a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><path d="M138.5 309h20"/><g>
<path d="M158.5 309h0.0"/><path d="M187.0 309h0.0"/><g class="terminal">
<path d="M158.5 309h0.0"/><path d="M187.0 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="298"/><text x="172.75" y="313">C</text></g></g><path d="M187.0 309h20"/><path d="M138.5 309a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M158.5 339h0.0"/><path d="M187.0 339h0.0"/><g class="terminal">
<path d="M158.5 339h0.0"/><path d="M187.0 339h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="328"/><text x="172.75" y="343">D</text></g></g><path d="M187.0 339a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M138.5 309a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M158.5 369h0.0"/><path d="M187.0 369h0.0"/><g class="terminal">
<path d="M158.5 369h0.0"/><path d="M187.0 369h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="358"/><text x="172.75" y="373">E</text></g></g><path d="M187.0 369a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M138.5 309a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M158.5 399h0.0"/><path d="M187.0 399h0.0"/><g class="terminal">
<path d="M158.5 399h0.0"/><path d="M187.0 399h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="388"/><text x="172.75" y="403">F</text></g></g><path d="M187.0 399a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M138.5 309a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M158.5 429h0.0"/><path d="M187.0 429h0.0"/><g class="terminal">
<path d="M158.5 429h0.0"/><path d="M187.0 429h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="418"/><text x="172.75" y="433">G</text></g></g><path d="M187.0 429a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><path d="M138.5 309a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><g>
<path d="M158.5 459h0.0"/><path d="M187.0 459h0.0"/><g class="terminal">
<path d="M158.5 459h0.0"/><path d="M187.0 459h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="448"/><text x="172.75" y="463">H</text></g></g><path d="M187.0 459a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><path d="M138.5 309a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><g>
<path d="M158.5 489h0.0"/><path d="M187.0 489h0.0"/><g class="terminal">
<path d="M158.5 489h0.0"/><path d="M187.0 489h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="478"/><text x="172.75" y="493">I</text></g></g><path d="M187.0 489a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><path d="M138.5 309a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><g>
<path d="M158.5 519h0.0"/><path d="M187.0 519h0.0"/><g class="terminal">
<path d="M158.5 519h0.0"/><path d="M187.0 519h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="508"/><text x="172.75" y="523">J</text></g></g><path d="M187.0 519a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><path d="M138.5 309a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><g>
<path d="M158.5 549h0.0"/><path d="M187.0 549h0.0"/><g class="terminal">
<path d="M158.5 549h0.0"/><path d="M187.0 549h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="538"/><text x="172.75" y="553">K</text></g></g><path d="M187.0 549a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><path d="M138.5 309a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><g>
<path d="M158.5 579h0.0"/><path d="M187.0 579h0.0"/><g class="terminal">
<path d="M158.5 579h0.0"/><path d="M187.0 579h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="568"/><text x="172.75" y="583">L</text></g></g><path d="M187.0 579a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/></g><path d="M207.0 309a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><path d="M207.0 20a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><g>
<path d="M227.0 309h0.0"/><path d="M295.5 309h0.0"/><path d="M227.0 309a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 279h0.0"/><path d="M275.5 279h0.0"/><g class="terminal">
<path d="M247.0 279h0.0"/><path d="M275.5 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="268"/><text x="261.25" y="283">U</text></g></g><path d="M275.5 279a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M227.0 309a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 249h0.0"/><path d="M275.5 249h0.0"/><g class="terminal">
<path d="M247.0 249h0.0"/><path d="M275.5 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="238"/><text x="261.25" y="253">T</text></g></g><path d="M275.5 249a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M227.0 309a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 219h0.0"/><path d="M275.5 219h0.0"/><g class="terminal">
<path d="M247.0 219h0.0"/><path d="M275.5 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="208"/><text x="261.25" y="223">S</text></g></g><path d="M275.5 219a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M227.0 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 189h0.0"/><path d="M275.5 189h0.0"/><g class="terminal">
<path d="M247.0 189h0.0"/><path d="M275.5 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="178"/><text x="261.25" y="193">R</text></g></g><path d="M275.5 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M227.0 309a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 159h0.0"/><path d="M275.5 159h0.0"/><g class="terminal">
<path d="M247.0 159h0.0"/><path d="M275.5 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="148"/><text x="261.25" y="163">Q</text></g></g><path d="M275.5 159a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M227.0 309a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 129h0.0"/><path d="M275.5 129h0.0"/><g class="terminal">
<path d="M247.0 129h0.0"/><path d="M275.5 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="118"/><text x="261.25" y="133">P</text></g></g><path d="M275.5 129a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><path d="M227.0 309a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 99h0.0"/><path d="M275.5 99h0.0"/><g class="terminal">
<path d="M247.0 99h0.0"/><path d="M275.5 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="88"/><text x="261.25" y="103">O</text></g></g><path d="M275.5 99a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><path d="M227.0 309a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><g class="terminal">
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="58"/><text x="261.25" y="73">N</text></g></g><path d="M275.5 69a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><path d="M227.0 309a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><g class="terminal">
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="28"/><text x="261.25" y="43">M</text></g></g><path d="M275.5 39a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><path d="M227.0 309h20"/><g>
<path d="M247.0 309h0.0"/><path d="M275.5 309h0.0"/><g class="terminal">
<path d="M247.0 309h0.0"/><path d="M275.5 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="298"/><text x="261.25" y="313">V</text></g></g><path d="M275.5 309h20"/><path d="M227.0 309a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M247.0 339h0.0"/><path d="M275.5 339h0.0"/><g class="terminal">
<path d="M247.0 339h0.0"/><path d="M275.5 339h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="328"/><text x="261.25" y="343">W</text></g></g><path d="M275.5 339a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M227.0 309a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M247.0 369h0.0"/><path d="M275.5 369h0.0"/><g class="terminal">
<path d="M247.0 369h0.0"/><path d="M275.5 369h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="358"/><text x="261.25" y="373">X</text></g></g><path d="M275.5 369a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M227.0 309a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M247.0 399h0.0"/><path d="M275.5 399h0.0"/><g class="terminal">
<path d="M247.0 399h0.0"/><path d="M275.5 399h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="388"/><text x="261.25" y="403">Y</text></g></g><path d="M275.5 399a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M227.0 309a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M247.0 429h0.0"/><path d="M275.5 429h0.0"/><g class="terminal">
<path d="M247.0 429h0.0"/><path d="M275.5 429h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="418"/><text x="261.25" y="433">Z</text></g></g><path d="M275.5 429a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><path d="M227.0 309a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><g>
<path d="M247.0 459h0.0"/><path d="M275.5 459h0.0"/><g class="terminal">
<path d="M247.0 459h0.0"/><path d="M275.5 459h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="448"/><text x="261.25" y="463">0</text></g></g><path d="M275.5 459a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><path d="M227.0 309a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><g>
<path d="M247.0 489h0.0"/><path d="M275.5 489h0.0"/><g class="terminal">
<path d="M247.0 489h0.0"/><path d="M275.5 489h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="478"/><text x="261.25" y="493">1</text></g></g><path d="M275.5 489a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><path d="M227.0 309a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><g>
<path d="M247.0 519h0.0"/><path d="M275.5 519h0.0"/><g class="terminal">
<path d="M247.0 519h0.0"/><path d="M275.5 519h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="508"/><text x="261.25" y="523">2</text></g></g><path d="M275.5 519a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><path d="M227.0 309a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><g>
<path d="M247.0 549h0.0"/><path d="M275.5 549h0.0"/><g class="terminal">
<path d="M247.0 549h0.0"/><path d="M275.5 549h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="538"/><text x="261.25" y="553">3</text></g></g><path d="M275.5 549a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><path d="M227.0 309a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><g>
<path d="M247.0 579h0.0"/><path d="M275.5 579h0.0"/><g class="terminal">
<path d="M247.0 579h0.0"/><path d="M275.5 579h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="568"/><text x="261.25" y="583">4</text></g></g><path d="M275.5 579a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/></g><path d="M295.5 309a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><path d="M295.5 20a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><g>
<path d="M315.5 309h0.0"/><path d="M384.0 309h0.0"/><path d="M315.5 309a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 279h0.0"/><path d="M364.0 279h0.0"/><g class="terminal">
<path d="M335.5 279h0.0"/><path d="M364.0 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="268"/><text x="349.75" y="283">$</text></g></g><path d="M364.0 279a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M315.5 309a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 249h0.0"/><path d="M364.0 249h0.0"/><g class="terminal">
<path d="M335.5 249h0.0"/><path d="M364.0 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="238"/><text x="349.75" y="253">#</text></g></g><path d="M364.0 249a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M315.5 309a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 219h0.0"/><path d="M364.0 219h0.0"/><g class="terminal">
<path d="M335.5 219h0.0"/><path d="M364.0 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="208"/><text x="349.75" y="223">&quot;</text></g></g><path d="M364.0 219a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M315.5 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 189h0.0"/><path d="M364.0 189h0.0"/><g class="terminal">
<path d="M335.5 189h0.0"/><path d="M364.0 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="178"/><text x="349.75" y="193">!</text></g></g><path d="M364.0 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M315.5 309a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 159h0.0"/><path d="M364.0 159h0.0"/><g class="terminal">
<path d="M335.5 159h0.0"/><path d="M364.0 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="148"/><text x="349.75" y="163">9</text></g></g><path d="M364.0 159a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M315.5 309a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 129h0.0"/><path d="M364.0 129h0.0"/><g class="terminal">
<path d="M335.5 129h0.0"/><path d="M364.0 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="118"/><text x="349.75" y="133">8</text></g></g><path d="M364.0 129a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><path d="M315.5 309a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 99h0.0"/><path d="M364.0 99h0.0"/><g class="terminal">
<path d="M335.5 99h0.0"/><path d="M364.0 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="88"/><text x="349.75" y="103">7</text></g></g><path d="M364.0 99a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><path d="M315.5 309a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><g class="terminal">
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="58"/><text x="349.75" y="73">6</text></g></g><path d="M364.0 69a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><path d="M315.5 309a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><g class="terminal">
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="28"/><text x="349.75" y="43">5</text></g></g><path d="M364.0 39a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><path d="M315.5 309h20"/><g>
<path d="M335.5 309h0.0"/><path d="M364.0 309h0.0"/><g class="terminal">
<path d="M335.5 309h0.0"/><path d="M364.0 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="298"/><text x="349.75" y="313">%</text></g></g><path d="M364.0 309h20"/><path d="M315.5 309a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M335.5 339h0.0"/><path d="M364.0 339h0.0"/><g class="terminal">
<path d="M335.5 339h0.0"/><path d="M364.0 339h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="328"/><text x="349.75" y="343">&amp;</text></g></g><path d="M364.0 339a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M315.5 309a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M335.5 369h0.0"/><path d="M364.0 369h0.0"/><g class="terminal">
<path d="M335.5 369h0.0"/><path d="M364.0 369h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="358"/><text x="349.75" y="373">'</text></g></g><path d="M364.0 369a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M315.5 309a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M335.5 399h0.0"/><path d="M364.0 399h0.0"/><g class="terminal">
<path d="M335.5 399h0.0"/><path d="M364.0 399h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="388"/><text x="349.75" y="403">(</text></g></g><path d="M364.0 399a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M315.5 309a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M335.5 429h0.0"/><path d="M364.0 429h0.0"/><g class="terminal">
<path d="M335.5 429h0.0"/><path d="M364.0 429h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="418"/><text x="349.75" y="433">)</text></g></g><path d="M364.0 429a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><path d="M315.5 309a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><g>
<path d="M335.5 459h0.0"/><path d="M364.0 459h0.0"/><g class="terminal">
<path d="M335.5 459h0.0"/><path d="M364.0 459h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="448"/><text x="349.75" y="463">*</text></g></g><path d="M364.0 459a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><path d="M315.5 309a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><g>
<path d="M335.5 489h0.0"/><path d="M364.0 489h0.0"/><g class="terminal">
<path d="M335.5 489h0.0"/><path d="M364.0 489h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="478"/><text x="349.75" y="493">+</text></g></g><path d="M364.0 489a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><path d="M315.5 309a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><g>
<path d="M335.5 519h0.0"/><path d="M364.0 519h0.0"/><g class="terminal">
<path d="M335.5 519h0.0"/><path d="M364.0 519h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="508"/><text x="349.75" y="523">,</text></g></g><path d="M364.0 519a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><path d="M315.5 309a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><g>
<path d="M335.5 549h0.0"/><path d="M364.0 549h0.0"/><g class="terminal">
<path d="M335.5 549h0.0"/><path d="M364.0 549h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="538"/><text x="349.75" y="553">-</text></g></g><path d="M364.0 549a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><path d="M315.5 309a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><g>
<path d="M335.5 579h0.0"/><path d="M364.0 579h0.0"/><g class="terminal">
<path d="M335.5 579h0.0"/><path d="M364.0 579h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="568"/><text x="349.75" y="583">.</text></g></g><path d="M364.0 579a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/></g><path d="M384.0 309a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><path d="M384.0 20a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><g>
<path d="M404.0 309h0.0"/><path d="M472.5 309h0.0"/><path d="M404.0 309a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 279h0.0"/><path d="M452.5 279h0.0"/><g class="terminal">
<path d="M424.0 279h0.0"/><path d="M452.5 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="268"/><text x="438.25" y="283">[</text></g></g><path d="M452.5 279a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M404.0 309a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 249h0.0"/><path d="M452.5 249h0.0"/><g class="terminal">
<path d="M424.0 249h0.0"/><path d="M452.5 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="238"/><text x="438.25" y="253">@</text></g></g><path d="M452.5 249a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M404.0 309a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 219h0.0"/><path d="M452.5 219h0.0"/><g class="terminal">
<path d="M424.0 219h0.0"/><path d="M452.5 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="208"/><text x="438.25" y="223">?</text></g></g><path d="M452.5 219a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M404.0 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 189h0.0"/><path d="M452.5 189h0.0"/><g class="terminal">
<path d="M424.0 189h0.0"/><path d="M452.5 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="178"/><text x="438.25" y="193">&gt;</text></g></g><path d="M452.5 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M404.0 309a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 159h0.0"/><path d="M452.5 159h0.0"/><g class="terminal">
<path d="M424.0 159h0.0"/><path d="M452.5 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="148"/><text x="438.25" y="163">=</text></g></g><path d="M452.5 159a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M404.0 309a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 129h0.0"/><path d="M452.5 129h0.0"/><g class="terminal">
<path d="M424.0 129h0.0"/><path d="M452.5 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="118"/><text x="438.25" y="133">&lt;</text></g></g><path d="M452.5 129a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><path d="M404.0 309a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 99h0.0"/><path d="M452.5 99h0.0"/><g class="terminal">
<path d="M424.0 99h0.0"/><path d="M452.5 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="88"/><text x="438.25" y="103">;</text></g></g><path d="M452.5 99a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><path d="M404.0 309a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><g class="terminal">
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="58"/><text x="438.25" y="73">:</text></g></g><path d="M452.5 69a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><path d="M404.0 309a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><g class="terminal">
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="28"/><text x="438.25" y="43">/</text></g></g><path d="M452.5 39a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><path d="M404.0 309h20"/><g>
<path d="M424.0 309h0.0"/><path d="M452.5 309h0.0"/><g class="terminal">
<path d="M424.0 309h0.0"/><path d="M452.5 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="298"/><text x="438.25" y="313">\</text></g></g><path d="M452.5 309h20"/><path d="M404.0 309a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M424.0 339h0.0"/><path d="M452.5 339h0.0"/><g class="terminal">
<path d="M424.0 339h0.0"/><path d="M452.5 339h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="328"/><text x="438.25" y="343">]</text></g></g><path d="M452.5 339a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M404.0 309a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M424.0 369h0.0"/><path d="M452.5 369h0.0"/><g class="terminal">
<path d="M424.0 369h0.0"/><path d="M452.5 369h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="358"/><text x="438.25" y="373">^</text></g></g><path d="M452.5 369a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M404.0 309a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M424.0 399h0.0"/><path d="M452.5 399h0.0"/><g class="terminal">
<path d="M424.0 399h0.0"/><path d="M452.5 399h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="388"/><text x="438.25" y="403">_</text></g></g><path d="M452.5 399a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M404.0 309a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M424.0 429h0.0"/><path d="M452.5 429h0.0"/><g class="terminal">
<path d="M424.0 429h0.0"/><path d="M452.5 429h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="418"/><text x="438.25" y="433">`</text></g></g><path d="M452.5 429a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><path d="M404.0 309a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><g>
<path d="M424.0 459h0.0"/><path d="M452.5 459h0.0"/><g class="terminal">
<path d="M424.0 459h0.0"/><path d="M452.5 459h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="448"/><text x="438.25" y="463">{</text></g></g><path d="M452.5 459a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><path d="M404.0 309a10 10 0 0 1 10 10v160a10 10 0 0 0 10 10"/><g>
<path d="M424.0 489h0.0"/><path d="M452.5 489h0.0"/><g class="terminal">
<path d="M424.0 489h0.0"/><path d="M452.5 489h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="478"/><text x="438.25" y="493">|</text></g></g><path d="M452.5 489a10 10 0 0 0 10 -10v-160a10 10 0 0 1 10 -10"/><path d="M404.0 309a10 10 0 0 1 10 10v190a10 10 0 0 0 10 10"/><g>
<path d="M424.0 519h0.0"/><path d="M452.5 519h0.0"/><g class="terminal">
<path d="M424.0 519h0.0"/><path d="M452.5 519h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="508"/><text x="438.25" y="523">}</text></g></g><path d="M452.5 519a10 10 0 0 0 10 -10v-190a10 10 0 0 1 10 -10"/><path d="M404.0 309a10 10 0 0 1 10 10v220a10 10 0 0 0 10 10"/><g>
<path d="M424.0 549h0.0"/><path d="M452.5 549h0.0"/><g class="terminal">
<path d="M424.0 549h0.0"/><path d="M452.5 549h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="538"/><text x="438.25" y="553">~</text></g></g><path d="M452.5 549a10 10 0 0 0 10 -10v-220a10 10 0 0 1 10 -10"/><path d="M404.0 309a10 10 0 0 1 10 10v250a10 10 0 0 0 10 10"/><g>
<path d="M424.0 579h0.0"/><path d="M452.5 579h0.0"/><g class="terminal">
<path d="M424.0 579h0.0"/><path d="M452.5 579h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="568"/><text x="438.25" y="583"> </text></g></g><path d="M452.5 579a10 10 0 0 0 10 -10v-250a10 10 0 0 1 10 -10"/></g><path d="M472.5 309a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><path d="M472.5 20a10 10 0 0 1 10 10v269a10 10 0 0 0 10 10"/><g>
<path d="M492.5 309h0.0"/><path d="M561.0 309h0.0"/><path d="M492.5 309a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M512.5 279h0.0"/><path d="M541.0 279h0.0"/><g class="terminal">
<path d="M512.5 279h0.0"/><path d="M541.0 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="512.5" y="268"/><text x="526.75" y="283">	</text></g></g><path d="M541.0 279a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M492.5 309h20"/><g>
<path d="M512.5 309h0.0"/><path d="M541.0 309h0.0"/><g class="terminal">
<path d="M512.5 309h0.0"/><path d="M541.0 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="512.5" y="298"/><text x="526.75" y="313">
</text></g></g><path d="M541.0 309h20"/></g><path d="M561.0 309h10"/></g><path d="M 571.0 309 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We generate <code>1000</code> values, and evaluate the <code>process_vehicle()</code> with each.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gf</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">CSV_GRAMMAR</span><span class="p">,</span> <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">trials</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">valid</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">vehicle_info</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">process_vehicle</span><span class="p">(</span><span class="n">vehicle_info</span><span class="p">)</span>
            <span class="n">valid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vehicle_info</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="n">time</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> valid strings, that is GrammarFuzzer generated </span><span class="si">%f%%</span><span class="s2"> valid entries from </span><span class="si">%d</span><span class="s2"> inputs&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">valid</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid</span><span class="p">)</span><span class="o">*</span><span class="mf">100.0</span><span class="o">/</span><span class="n">trials</span> <span class="p">,</span> <span class="n">trials</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total time of </span><span class="si">%f</span><span class="s2"> seconds&quot;</span> <span class="o">%</span> <span class="n">time</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0 valid strings, that is GrammarFuzzer generated 0.000000% valid entries from 1000 inputs
Total time of 6.034957 seconds
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is obviously not working. But why?</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gf</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">CSV_GRAMMAR</span><span class="p">,</span> <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">trials</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">valid</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="n">vehicle_info</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">vehicle_info</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">process_vehicle</span><span class="p">(</span><span class="n">vehicle_info</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;9w9J\&#39;/,LU&lt;&#34;l,|,Y,Zv)Amvx,c\n&#39;	 Invalid entry
&#39;(n8].H7,qolS&#39;	 not enough values to unpack (expected at least 4, got 2)
&#39;\nQoLWQ,jSa&#39;	 not enough values to unpack (expected at least 4, got 2)
&#39;K1,\n,RE,fq,%,,sT+aAb&#39;	 Invalid entry
&#34;m,d,,8j4&#39;),-yQ,B7&#34;	 Invalid entry
&#39;g4,s1\t[}{.,M,&lt;,\nzd,.am&#39;	 Invalid entry
&#39;,Z[,z,c,#x1,gc.F&#39;	 Invalid entry
&#39;pWs,rT`,R&#39;	 not enough values to unpack (expected at least 4, got 3)
&#39;iN,br%,Q,R&#39;	 Invalid entry
&#39;ol,\nH&lt;\tn,^#,=A&#39;	 Invalid entry
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>None of the entries will get through unless the fuzzer can produce either <code>van</code> or <code>car</code>.
Indeed, the reason is that the grammar itself does not capture the complete information about the format. So here is another idea. We modify the <code>GrammarFuzzer</code> to know a bit about our format.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn"><a href="https://docs.python.org/3/library/copy.html" class="import" target="_blank">copy</a></span> <span class="k">import</span> <span class="n">deepcopy</span>
<span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/random.html" class="import" target="_blank">random</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">PooledGrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_cache</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">update_cache</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_node_cache</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span>

    <span class="k">def</span> <span class="nf">expand_node_randomly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">assert</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_node_cache</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">expand_node_randomly</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_node_cache</span><span class="p">[</span><span class="n">symbol</span><span class="p">]))</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">expand_node_randomly</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us try again!</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gf</span> <span class="o">=</span> <span class="n">PooledGrammarFuzzer</span><span class="p">(</span><span class="n">CSV_GRAMMAR</span><span class="p">,</span> <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="n">gf</span><span class="o">.</span><span class="n">update_cache</span><span class="p">(</span><span class="s1">&#39;&lt;item&gt;&#39;</span><span class="p">,</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;&lt;item&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;car&#39;</span><span class="p">,</span> <span class="p">[])]),</span>
    <span class="p">(</span><span class="s1">&#39;&lt;item&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;van&#39;</span><span class="p">,</span> <span class="p">[])]),</span>
<span class="p">])</span>
<span class="n">trials</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">valid</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="n">vehicle_info</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">vehicle_info</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
        <span class="n">process_vehicle</span><span class="p">(</span><span class="n">vehicle_info</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;,h,van,|&#39;	 Invalid entry
&#39;M,w:K,car,car,van&#39;	 Invalid entry
&#39;J,?Y,van,van,car,J,~D+&#39;	 Invalid entry
&#39;S4,car,car,o&#39;We have a car o car from S4 vintage.
	 invalid literal for int() with base 10: &#39;S4&#39;
&#39;2*-,van&#39;	 not enough values to unpack (expected at least 4, got 2)
&#39;van,%,5,]&#39;	 Invalid entry
&#39;van,G3{y,j,h:&#39;	 Invalid entry
&#39;$0;o,M,car,car&#39;	 Invalid entry
&#39;2d,f,e&#39;	 not enough values to unpack (expected at least 4, got 3)
&#39;/~NE,car,car&#39;	 not enough values to unpack (expected at least 4, got 3)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>At least we are getting somewhere! It would be really nice if we could incorporate what we know about the sample data in our fuzzer. In fact, it would be nice if we could extract the template and valid values from samples, and use them in our fuzzing. How do we do that?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="An-Ad-Hoc-Parser">An Ad Hoc Parser<a class="anchor-link" href="#An-Ad-Hoc-Parser">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As we saw in the previous section, programmers often have to extract parts of data that obey certain rules. For example, for <em>CSV</em> files, each element in a row is separated by <em>commas</em>, and multiple raws are used to store the data.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To extract the information, we write an ad hoc parser <code>parse_csv()</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">parse_csv</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="p">(</span><span class="n">START_SYMBOL</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mystring</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)):</span>
        <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot;record </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span><span class="k">i</span>, [(cell,[]) for cell in line.split(&#39;,&#39;)]))
    <span class="k">return</span> <span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We also change the default orientation of the graph to <em>left to right</em> rather than <em>top to bottom</em> for easier viewing using <code>lr_graph()</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">lr_graph</span><span class="p">(</span><span class="n">dot</span><span class="p">):</span>
    <span class="n">dot</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;plain&#39;</span><span class="p">)</span>
    <span class="n">dot</span><span class="o">.</span><span class="n">graph_attr</span><span class="p">[</span><span class="s1">&#39;rankdir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;LR&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <code>display_tree()</code> shows the structure of our CSV file after parsing.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">parse_csv</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="n">lr_graph</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="216pt" height="254pt"
 viewBox="0.00 0.00 216.00 254.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 250)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-250 212,-250 212,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20" y="-118.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="99.5" y="-168.8" font-family="Times,serif" font-size="14.00" fill="#000000">record 0</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M32.0743,-130.0939C44.5205,-137.9217 64.153,-150.2692 79.0304,-159.6261"/>
<polygon fill="#000000" stroke="#000000" points="77.2441,-162.6372 87.5725,-164.9984 80.9709,-156.7117 77.2441,-162.6372"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="99.5" y="-69.8" font-family="Times,serif" font-size="14.00" fill="#000000">record 1</text>
</g>
<!-- 0&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>0&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M32.4219,-114.8438C44.6735,-107.2924 63.6384,-95.6034 78.2811,-86.5783"/>
<polygon fill="#000000" stroke="#000000" points="80.4889,-89.329 87.1654,-81.1025 76.816,-83.37 80.4889,-89.329"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="183.5" y="-234.8" font-family="Times,serif" font-size="14.00" fill="#000000">1997</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M108.1014,-180.2956C119.4369,-190.435 140.1504,-208.5039 159,-222.5 160.2236,-223.4086 161.4969,-224.3239 162.7914,-225.2319"/>
<polygon fill="#000000" stroke="#000000" points="161.0867,-228.303 171.3405,-230.9696 164.9877,-222.4907 161.0867,-228.303"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="183.5" y="-201.8" font-family="Times,serif" font-size="14.00" fill="#000000">van</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M118.9824,-180.1538C132.2681,-185.3732 149.8216,-192.2692 163.2647,-197.5504"/>
<polygon fill="#000000" stroke="#000000" points="162.0173,-200.8207 172.6046,-201.2197 164.5769,-194.3054 162.0173,-200.8207"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="183.5" y="-168.8" font-family="Times,serif" font-size="14.00" fill="#000000">Ford</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M123.3463,-172.5C134.6675,-172.5 148.1677,-172.5 159.5075,-172.5"/>
<polygon fill="#000000" stroke="#000000" points="159.5761,-176.0001 169.5761,-172.5 159.5761,-169.0001 159.5761,-176.0001"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="183.5" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#000000">E350</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M118.9824,-164.8462C130.8376,-160.1888 146.0911,-154.1964 158.7898,-149.2076"/>
<polygon fill="#000000" stroke="#000000" points="160.2848,-152.3807 168.3126,-145.4665 157.7252,-145.8654 160.2848,-152.3807"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="183.5" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">2000</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M118.9824,-81.1538C130.9906,-85.8713 146.4853,-91.9585 159.2801,-96.985"/>
<polygon fill="#000000" stroke="#000000" points="158.257,-100.3435 168.8443,-100.7424 160.8166,-93.8282 158.257,-100.3435"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="183.5" y="-69.8" font-family="Times,serif" font-size="14.00" fill="#000000">car</text>
</g>
<!-- 6&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>6&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M123.3463,-73.5C136.1378,-73.5 151.711,-73.5 163.8068,-73.5"/>
<polygon fill="#000000" stroke="#000000" points="164.134,-77.0001 174.134,-73.5 164.1339,-70.0001 164.134,-77.0001"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="183.5" y="-36.8" font-family="Times,serif" font-size="14.00" fill="#000000">Mercury</text>
</g>
<!-- 6&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>6&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M118.9824,-65.8462C129.5843,-61.6812 142.9039,-56.4485 154.6838,-51.8207"/>
<polygon fill="#000000" stroke="#000000" points="156.0955,-55.0265 164.1232,-48.1123 153.5359,-48.5113 156.0955,-55.0265"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="183.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">Cougar</text>
</g>
<!-- 6&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>6&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M108.1881,-65.963C119.6175,-56.1375 140.4322,-38.55 159,-24.5 160.4191,-23.4262 161.8989,-22.3342 163.3974,-21.2483"/>
<polygon fill="#000000" stroke="#000000" points="165.7332,-23.8842 171.8937,-15.2645 161.7025,-18.1611 165.7332,-23.8842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is of course simple. What if we encounter slightly more complexity? Again, another example from the Wikipedia.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s1">1997,Ford,E350,&quot;ac, abs, moon&quot;,3000.00</span><span class="se">\</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1997,Ford,E350,&#34;ac, abs, moon&#34;,3000.00
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We define a new annotation method <code>highlight_node()</code> to mark the nodes that are interesting.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">highlight_node</span><span class="p">(</span><span class="n">predicate</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">hl_node</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">ann</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">predicate</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="n">nid</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">ann</span><span class="p">):</span>
            <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">nid</span><span class="p">),</span> <span class="n">dot_escape</span><span class="p">(</span><span class="n">symbol</span><span class="p">),</span> <span class="n">fontcolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">nid</span><span class="p">),</span> <span class="n">dot_escape</span><span class="p">(</span><span class="n">symbol</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">hl_node</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using <code>highlight_node()</code> we can highlight particular nodes that we were wrongly parsed.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">parse_csv</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
<span class="n">bad_nodes</span> <span class="o">=</span> <span class="p">{</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">24</span><span class="p">,</span><span class="mi">25</span><span class="p">}</span>
<span class="n">hl_predicate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">_d</span><span class="p">,</span><span class="n">nid</span><span class="p">,</span><span class="n">_s</span><span class="p">,</span><span class="n">_a</span><span class="p">:</span> <span class="n">nid</span> <span class="ow">in</span> <span class="n">bad_nodes</span> 
<span class="n">highlight_err_node</span> <span class="o">=</span> <span class="n">highlight_node</span><span class="p">(</span><span class="n">hl_predicate</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">node_attr</span><span class="o">=</span><span class="n">highlight_err_node</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="n">lr_graph</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="213pt" height="221pt"
 viewBox="0.00 0.00 213.00 221.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 217)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-217 209,-217 209,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="99.5" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">record 0</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M40.0612,-106.5C47.7789,-106.5 56.8213,-106.5 65.4915,-106.5"/>
<polygon fill="#000000" stroke="#000000" points="65.7686,-110.0001 75.7685,-106.5 65.7685,-103.0001 65.7686,-110.0001"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="182" y="-201.8" font-family="Times,serif" font-size="14.00" fill="#000000">1997</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M103.6953,-114.0202C112.5227,-129.4105 134.2544,-165.1023 159,-189.5 159.6668,-190.1574 160.3633,-190.8064 161.0814,-191.4446"/>
<polygon fill="#000000" stroke="#000000" points="159.175,-194.3951 169.223,-197.7549 163.4632,-188.8624 159.175,-194.3951"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="182" y="-168.8" font-family="Times,serif" font-size="14.00" fill="#000000">Ford</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M108.165,-114.2111C119.5695,-124.2592 140.3572,-142.2295 159,-156.5 160.0429,-157.2983 161.1216,-158.1062 162.217,-158.9127"/>
<polygon fill="#000000" stroke="#000000" points="160.4444,-161.9469 170.6227,-164.8887 164.5005,-156.2417 160.4444,-161.9469"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="182" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#000000">E350</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M118.6345,-114.1538C130.2029,-118.7811 145.0659,-124.7264 157.4894,-129.6958"/>
<polygon fill="#000000" stroke="#000000" points="156.2355,-132.9638 166.8202,-133.4281 158.8353,-126.4644 156.2355,-132.9638"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="182" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&quot;ac</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M123.3624,-106.5C135.7682,-106.5 150.7422,-106.5 162.4531,-106.5"/>
<polygon fill="#000000" stroke="#000000" points="162.4909,-110.0001 172.4909,-106.5 162.4909,-103.0001 162.4909,-110.0001"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="182" y="-69.8" font-family="Times,serif" font-size="14.00" fill="#ff0000"> abs</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M118.6345,-98.8462C131.2545,-93.7982 147.7955,-87.1818 160.8128,-81.9749"/>
<polygon fill="#000000" stroke="#000000" points="162.3699,-85.1217 170.3547,-78.1581 159.7701,-78.6224 162.3699,-85.1217"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="182" y="-36.8" font-family="Times,serif" font-size="14.00" fill="#ff0000"> moon&quot;</text>
</g>
<!-- 1&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M108.6537,-98.7093C120.2333,-88.9128 140.8553,-71.6613 159,-57.5 160.3994,-56.4078 161.8565,-55.2892 163.3278,-54.1727"/>
<polygon fill="#000000" stroke="#000000" points="165.6814,-56.7838 171.609,-48.0023 161.499,-51.1707 165.6814,-56.7838"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="182" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">3000.00</text>
</g>
<!-- 1&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M104.0524,-98.665C113.1947,-83.3294 134.978,-48.7343 159,-24.5 160.0487,-23.4421 161.1674,-22.3986 162.3254,-21.3808"/>
<polygon fill="#000000" stroke="#000000" points="164.5315,-24.0985 170.2099,-15.1538 160.1929,-18.6051 164.5315,-24.0985"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The marked nodes indicate where our parsing went wrong. We can of course extend our parser to understand quotes. First we define some of the helper functions <code>parse_quote()</code>, <code>find_comma()</code> and <code>comma_split()</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">parse_quote</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
    <span class="n">v</span> <span class="o">=</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">v</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span>

<span class="k">def</span> <span class="nf">find_comma</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
    <span class="n">slen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">slen</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;&quot;&#39;</span><span class="p">:</span>
            <span class="n">i</span> <span class="o">=</span> <span class="n">parse_quote</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
        <span class="k">if</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;,&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">i</span>
        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>

<span class="k">def</span> <span class="nf">comma_split</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
    <span class="n">slen</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">slen</span><span class="p">:</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">find_comma</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span>
            <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">yield</span> <span class="n">string</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">c</span><span class="p">]</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">c</span><span class="o">+</span><span class="mi">1</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can update our <code>parse_csv()</code> procedure to use our advanced quote parser.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">parse_csv</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="p">(</span><span class="n">START_SYMBOL</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mystring</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)):</span>
        <span class="n">children</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="s2">&quot;record </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span><span class="k">i</span>, [(cell,[]) for cell in comma_split(line)]))
    <span class="k">return</span> <span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our new <code>parse_csv()</code> can now handle quotes correctly.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">parse_csv</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="n">lr_graph</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="256pt" height="155pt"
 viewBox="0.00 0.00 256.00 155.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 151)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-151 252,-151 252,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20" y="-69.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="99.5" y="-69.8" font-family="Times,serif" font-size="14.00" fill="#000000">record 0</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M40.0612,-73.5C47.7789,-73.5 56.8213,-73.5 65.4915,-73.5"/>
<polygon fill="#000000" stroke="#000000" points="65.7686,-77.0001 75.7685,-73.5 65.7685,-70.0001 65.7686,-77.0001"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="203.5" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#000000">1997</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M106.9069,-81.2614C117.5478,-92.0294 138.1813,-111.5244 159,-123.5 165.1647,-127.0461 172.2526,-130.0244 178.9331,-132.413"/>
<polygon fill="#000000" stroke="#000000" points="178.3118,-135.8924 188.9045,-135.6782 180.4903,-129.24 178.3118,-135.8924"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="203.5" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">Ford</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M123.0992,-80.9882C140.1719,-86.4055 163.1364,-93.6923 180.1511,-99.0912"/>
<polygon fill="#000000" stroke="#000000" points="179.2802,-102.4868 189.8704,-102.1752 181.3974,-95.8146 179.2802,-102.4868"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="203.5" y="-69.8" font-family="Times,serif" font-size="14.00" fill="#000000">E350</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M123.0992,-73.5C139.5192,-73.5 161.3892,-73.5 178.1743,-73.5"/>
<polygon fill="#000000" stroke="#000000" points="178.3619,-77.0001 188.3619,-73.5 178.3618,-70.0001 178.3619,-77.0001"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="203.5" y="-36.8" font-family="Times,serif" font-size="14.00" fill="#000000">&quot;ac, abs, moon&quot;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M123.0992,-66.0118C136.9628,-61.6128 154.7115,-55.981 170.0046,-51.1284"/>
<polygon fill="#000000" stroke="#000000" points="171.1611,-54.4334 179.6342,-48.0728 169.0439,-47.7613 171.1611,-54.4334"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="203.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">3000.00</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M106.9709,-65.9613C117.6879,-55.4888 138.4112,-36.4783 159,-24.5 162.6993,-22.3478 166.7215,-20.371 170.7848,-18.5867"/>
<polygon fill="#000000" stroke="#000000" points="172.2465,-21.7711 180.2079,-14.7806 169.6249,-15.2805 172.2465,-21.7711"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>That of course does not survive long:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s1">1999,Chevy,&quot;Venture </span><span class="se">\\</span><span class="s1">&quot;Extended Edition, Very Large</span><span class="se">\\</span><span class="s1">&quot;&quot;,,5000.00</span><span class="se">\</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1999,Chevy,&#34;Venture \&#34;Extended Edition, Very Large\&#34;&#34;,,5000.00
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>A few embedded quotes are sufficient to confuse our parser again.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">parse_csv</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
<span class="n">bad_nodes</span> <span class="o">=</span> <span class="p">{</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">}</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node_attr</span><span class="o">=</span><span class="n">highlight_err_node</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="n">lr_graph</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="329pt" height="174pt"
 viewBox="0.00 0.00 329.00 174.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 170)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-170 325,-170 325,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20" y="-71.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="99.5" y="-71.8" font-family="Times,serif" font-size="14.00" fill="#000000">record 0</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M40.0612,-75.5C47.7789,-75.5 56.8213,-75.5 65.4915,-75.5"/>
<polygon fill="#000000" stroke="#000000" points="65.7686,-79.0001 75.7685,-75.5 65.7685,-72.0001 65.7686,-79.0001"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="240" y="-154.8" font-family="Times,serif" font-size="14.00" fill="#000000">1999</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M103.9363,-83.1869C112.5696,-97.3943 133.0767,-127.6635 159,-142.5 176.145,-152.3124 198.3044,-156.197 215.1108,-157.6924"/>
<polygon fill="#000000" stroke="#000000" points="215.0652,-161.197 225.2755,-158.3683 215.5298,-154.2124 215.0652,-161.197"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="240" y="-121.8" font-family="Times,serif" font-size="14.00" fill="#000000">Chevy</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M110.3711,-83.1609C121.9117,-90.9371 140.942,-102.763 159,-109.5 175.6952,-115.7286 195.2762,-119.6809 211.0036,-122.0989"/>
<polygon fill="#000000" stroke="#000000" points="210.8023,-125.6051 221.1933,-123.5369 211.7805,-118.6737 210.8023,-125.6051"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="240" y="-88.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&quot;Venture \&quot;Extended Edition</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M123.0165,-78.3454C135.5022,-79.8561 151.5923,-81.803 167.8198,-83.7665"/>
<polygon fill="#000000" stroke="#000000" points="167.5625,-87.2608 177.9105,-84.9874 168.4034,-80.3114 167.5625,-87.2608"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="240" y="-55.8" font-family="Times,serif" font-size="14.00" fill="#ff0000"> Very Large\&quot;&quot;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M123.0165,-72.822C140.8332,-70.793 165.9895,-67.9282 188.4113,-65.3749"/>
<polygon fill="#000000" stroke="#000000" points="188.9448,-68.8368 198.4846,-64.2277 188.1527,-61.8818 188.9448,-68.8368"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M110.782,-67.7761C110.8271,-67.7468 110.8724,-67.7174 110.9178,-67.688"/>
<polygon fill="#000000" stroke="#000000" points="104.566,-75.9784 111.0543,-67.5995 100.7571,-70.1034 104.566,-75.9784"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="240" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">5000.00</text>
</g>
<!-- 1&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M105.9727,-67.9225C116.0853,-56.6034 136.7877,-35.4429 159,-24.5 173.7666,-17.2252 191.5383,-13.057 206.6682,-10.6718"/>
<polygon fill="#000000" stroke="#000000" points="207.2261,-14.128 216.6513,-9.2891 206.2656,-7.1942 207.2261,-14.128"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is another record from that CSV file:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span><span class="se">\</span>
<span class="s1">1996,Jeep,Grand Cherokee,&quot;MUST SELL!</span>
<span class="s1">air, moon roof, loaded&quot;,4799.00</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1996,Jeep,Grand Cherokee,&#34;MUST SELL!
air, moon roof, loaded&#34;,4799.00
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="n">parse_csv</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
<span class="n">bad_nodes</span> <span class="o">=</span> <span class="p">{</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">}</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node_attr</span><span class="o">=</span><span class="n">highlight_err_node</span><span class="p">,</span> <span class="n">graph_attr</span><span class="o">=</span><span class="n">lr_graph</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="263pt" height="221pt"
 viewBox="0.00 0.00 263.00 221.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 217)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-217 259,-217 259,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20" y="-53.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="99.5" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#000000">record 0</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M27.3367,-65.0674C40.4036,-78.5452 67.93,-106.9373 84.9553,-124.498"/>
<polygon fill="#000000" stroke="#000000" points="82.4755,-126.9683 91.9492,-131.7117 87.5012,-122.0957 82.4755,-126.9683"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="99.5" y="-53.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">record 1</text>
</g>
<!-- 0&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>0&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M40.0612,-57.5C47.7789,-57.5 56.8213,-57.5 65.4915,-57.5"/>
<polygon fill="#000000" stroke="#000000" points="65.7686,-61.0001 75.7685,-57.5 65.7685,-54.0001 65.7686,-61.0001"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="99.5" y="-20.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">record 2</text>
</g>
<!-- 0&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>0&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M38.4387,-49.8462C48.3723,-45.7228 60.8269,-40.553 71.8926,-35.9597"/>
<polygon fill="#000000" stroke="#000000" points="73.2672,-39.1787 81.1613,-32.1123 70.5835,-32.7136 73.2672,-39.1787"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="207" y="-201.8" font-family="Times,serif" font-size="14.00" fill="#000000">1996</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M106.8683,-147.3295C117.4632,-158.1784 138.0426,-177.7689 159,-189.5 166.2482,-193.5572 174.691,-196.8002 182.4569,-199.2769"/>
<polygon fill="#000000" stroke="#000000" points="181.5385,-202.6548 192.1186,-202.0954 183.4989,-195.9349 181.5385,-202.6548"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="207" y="-168.8" font-family="Times,serif" font-size="14.00" fill="#000000">Jeep</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M123.0913,-146.742C141.3809,-152.3565 166.5586,-160.0854 184.5525,-165.6091"/>
<polygon fill="#000000" stroke="#000000" points="183.6236,-168.9851 194.2105,-168.5739 185.6779,-162.2933 183.6236,-168.9851"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="207" y="-135.8" font-family="Times,serif" font-size="14.00" fill="#000000">Grand Cherokee</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M123.0913,-139.5C131.0797,-139.5 140.3821,-139.5 149.826,-139.5"/>
<polygon fill="#000000" stroke="#000000" points="150.0738,-143.0001 160.0737,-139.5 150.0737,-136.0001 150.0738,-143.0001"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="207" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&quot;MUST SELL!</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M123.0913,-132.258C137.6272,-127.7958 156.5139,-121.9981 172.6873,-117.0332"/>
<polygon fill="#000000" stroke="#000000" points="173.8111,-120.3495 182.3436,-114.0689 171.7568,-113.6577 173.8111,-120.3495"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="207" y="-69.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">air</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M123.0913,-61.0113C143.0603,-63.9834 171.2404,-68.1776 189.3165,-70.868"/>
<polygon fill="#000000" stroke="#000000" points="188.9191,-74.3474 199.3255,-72.3577 189.9497,-67.4236 188.9191,-74.3474"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="207" y="-36.8" font-family="Times,serif" font-size="14.00" fill="#ff0000"> moon roof</text>
</g>
<!-- 6&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>6&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M123.0913,-53.7693C135.4254,-51.8188 150.892,-49.3729 165.1755,-47.1141"/>
<polygon fill="#000000" stroke="#000000" points="165.9747,-50.5313 175.3052,-45.5122 164.8812,-43.6172 165.9747,-50.5313"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="207" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#ff0000"> loaded&quot;,4799.00</text>
</g>
<!-- 6&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>6&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M111.9535,-49.7933C123.7803,-42.6688 142.1999,-32.0707 159,-24.5 163.7151,-22.3752 168.7817,-20.3338 173.7931,-18.4486"/>
<polygon fill="#000000" stroke="#000000" points="175.0362,-21.721 183.255,-15.035 172.6606,-15.1364 175.0362,-21.721"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Fixing this would require modifying both inner <code>parse_quote()</code> and the outer <code>parse_csv()</code> procedures.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Indeed, each additional improvement falls apart even with a little extra complexity. The problem becomes severe when one encounters recursive expressions. For example, JSON is a common alternative to CSV files for saving data. Similarly, one may have to parse data from an HTML table instead of a CSV file if one is getting the data from the web.</p>
<p>One might be tempted to fix it with a little more ad hoc parsing, with a bit of <em>regular expressions</em> thrown in. However, that is the <a href="https://stackoverflow.com/a/1732454">path to insanity</a>.</p>
<p>It is here that the formal parsers shine. The main idea is that, any given set of strings belong to a language, and these languages can be specified by their grammars (as we saw in the <a href="Grammars.html">chapter on grammars</a>). The great thing about grammars is that they can be <em>composed</em>. That is, one can introduce finer and finer details into an internal structure without affecting the external structure, and similarly, one can change the external structure without much impact on the internal structure. We briefly describe grammars in the next section.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Grammars">Grammars<a class="anchor-link" href="#Grammars">&#182;</a></h2><p>A grammar, as you have read from the <a href="Grammars.html">chapter on grammars</a> is a set of <em>rules</em> that explain how the start symbol can be expanded. Each rule has a name, also called a <em>nonterminal</em>, and a set of <em>alternative choices</em> in how the nonterminal can be expanded.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">A1_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;expr&gt;+&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;expr&gt;-&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;digit&gt;&lt;integer&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">A1_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 174.0 62" width="174.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M134.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><rect height="22" width="54.0" x="60.0" y="20"/><text x="87.0" y="35">expr</text></g></g><path d="M114.0 31h20"/></g><path d="M 134.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>expr
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="122" viewBox="0 0 296.5 122" width="296.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M256.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M236.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><rect height="22" width="54.0" x="60.0" y="20"/><text x="87.0" y="35">expr</text></g><path d="M114.0 31h10"/><path d="M124.0 31h10"/><g class="terminal">
<path d="M134.0 31h0.0"/><path d="M162.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="134.0" y="20"/><text x="148.25" y="35">+</text></g><path d="M162.5 31h10"/><path d="M172.5 31h10"/><g class="non-terminal">
<path d="M182.5 31h0.0"/><path d="M236.5 31h0.0"/><rect height="22" width="54.0" x="182.5" y="20"/><text x="209.5" y="35">expr</text></g></g><path d="M236.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h0.0"/><path d="M236.5 61h0.0"/><g class="non-terminal">
<path d="M60.0 61h0.0"/><path d="M114.0 61h0.0"/><rect height="22" width="54.0" x="60.0" y="50"/><text x="87.0" y="65">expr</text></g><path d="M114.0 61h10"/><path d="M124.0 61h10"/><g class="terminal">
<path d="M134.0 61h0.0"/><path d="M162.5 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="134.0" y="50"/><text x="148.25" y="65">-</text></g><path d="M162.5 61h10"/><path d="M172.5 61h10"/><g class="non-terminal">
<path d="M182.5 61h0.0"/><path d="M236.5 61h0.0"/><rect height="22" width="54.0" x="182.5" y="50"/><text x="209.5" y="65">expr</text></g></g><path d="M236.5 61h20"/><path d="M40.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M60.0 91h48.5"/><path d="M188.0 91h48.5"/><g class="non-terminal">
<path d="M108.5 91h0.0"/><path d="M188.0 91h0.0"/><rect height="22" width="79.5" x="108.5" y="80"/><text x="148.25" y="95">integer</text></g></g><path d="M236.5 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/></g><path d="M 256.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>integer
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 282.0 92" width="282.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M242.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M222.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M122.5 31h0.0"/><rect height="22" width="62.5" x="60.0" y="20"/><text x="91.25" y="35">digit</text></g><path d="M122.5 31h10"/><path d="M132.5 31h10"/><g class="non-terminal">
<path d="M142.5 31h0.0"/><path d="M222.0 31h0.0"/><rect height="22" width="79.5" x="142.5" y="20"/><text x="182.25" y="35">integer</text></g></g><path d="M222.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h49.75"/><path d="M172.25 61h49.75"/><g class="non-terminal">
<path d="M109.75 61h0.0"/><path d="M172.25 61h0.0"/><rect height="22" width="62.5" x="109.75" y="50"/><text x="141.0" y="65">digit</text></g></g><path d="M222.0 61h20"/></g><path d="M 242.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>digit
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="109" viewBox="0 0 522.5 109" width="522.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 59v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 69h0.0"/><path d="M482.5 69h0.0"/><path d="M40.0 69a10 10 0 0 0 10 -10v-29a10 10 0 0 1 10 -10h324.0"/><path d="M138.5 89h324.0a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"/><path d="M40.0 69h10"/><g>
<path d="M50.0 69h0.0"/><path d="M118.5 69h0.0"/><path d="M50.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><g class="terminal">
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="28"/><text x="84.25" y="43">0</text></g></g><path d="M98.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M50.0 69h20"/><g>
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><g class="terminal">
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="58"/><text x="84.25" y="73">1</text></g></g><path d="M98.5 69h20"/></g><path d="M118.5 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M118.5 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M138.5 69h0.0"/><path d="M207.0 69h0.0"/><path d="M138.5 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><g class="terminal">
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="28"/><text x="172.75" y="43">2</text></g></g><path d="M187.0 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M138.5 69h20"/><g>
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><g class="terminal">
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="58"/><text x="172.75" y="73">3</text></g></g><path d="M187.0 69h20"/></g><path d="M207.0 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M207.0 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M227.0 69h0.0"/><path d="M295.5 69h0.0"/><path d="M227.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><g class="terminal">
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="28"/><text x="261.25" y="43">4</text></g></g><path d="M275.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M227.0 69h20"/><g>
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><g class="terminal">
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="58"/><text x="261.25" y="73">5</text></g></g><path d="M275.5 69h20"/></g><path d="M295.5 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M295.5 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M315.5 69h0.0"/><path d="M384.0 69h0.0"/><path d="M315.5 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><g class="terminal">
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="28"/><text x="349.75" y="43">6</text></g></g><path d="M364.0 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M315.5 69h20"/><g>
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><g class="terminal">
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="58"/><text x="349.75" y="73">7</text></g></g><path d="M364.0 69h20"/></g><path d="M384.0 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M384.0 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M404.0 69h0.0"/><path d="M472.5 69h0.0"/><path d="M404.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><g class="terminal">
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="28"/><text x="438.25" y="43">8</text></g></g><path d="M452.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M404.0 69h20"/><g>
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><g class="terminal">
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="58"/><text x="438.25" y="73">9</text></g></g><path d="M452.5 69h20"/></g><path d="M472.5 69h10"/></g><path d="M 482.5 69 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the above expression, the rule <code>&lt;expr&gt; : [&lt;expr&gt;+&lt;expr&gt;,&lt;expr&gt;-&lt;expr&gt;,&lt;integer&gt;]</code> corresponds to how the nonterminal <code>&lt;expr&gt;</code> might be expanded.  The expression <code>&lt;expr&gt;+&lt;expr&gt;</code> corresponds to one of the alternative choices. We call this an <em>alternative</em> expansion for the nonterminal <code>&lt;expr&gt;</code>. Finally, in an expression <code>&lt;expr&gt;+&lt;expr&gt;</code>, each of <code>&lt;expr&gt;</code>, <code>+</code>, and <code>&lt;expr&gt;</code> are <em>symbols</em> in that expansion. A symbol could be either a nonterminal or a terminal symbol based on whether its expansion is available in the grammar.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is a string that represents an arithmetic expression that we would like to parse, which is specified by the grammar above:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;1+2&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <em>derivation tree</em> for our expression from this grammar is given by:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span>
                     <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">[])])])]),</span>
                      <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="p">[]),</span>
                      <span class="p">(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span>
                                                               <span class="p">[])])])])])])</span>
<span class="k">assert</span> <span class="n">mystring</span> <span class="o">==</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="149pt" height="278pt"
 viewBox="0.00 0.00 149.00 278.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 274)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-274 145,-274 145,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="70.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="70.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M70.5,-254.9748C70.5,-248.195 70.5,-237.966 70.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="74.0001,-229.0561 70.5,-219.0561 67.0001,-229.0561 74.0001,-229.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="27.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M64.1552,-203.9748C57.9308,-196.5923 48.2583,-185.1203 40.4119,-175.8142"/>
<polygon fill="#000000" stroke="#000000" points="42.9927,-173.4452 33.8708,-168.0561 37.641,-177.9574 42.9927,-173.4452"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="70.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M70.5,-203.9748C70.5,-197.195 70.5,-186.966 70.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="74.0001,-178.0561 70.5,-168.0561 67.0001,-178.0561 74.0001,-178.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="113.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M76.8448,-203.9748C83.0692,-196.5923 92.7417,-185.1203 100.5881,-175.8142"/>
<polygon fill="#000000" stroke="#000000" points="103.359,-177.9574 107.1292,-168.0561 98.0073,-173.4452 103.359,-177.9574"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="27.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M27.5,-152.9748C27.5,-146.195 27.5,-135.966 27.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-127.0561 27.5,-117.0561 24.0001,-127.0561 31.0001,-127.0561"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="27.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M27.5,-101.9748C27.5,-95.195 27.5,-84.966 27.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-76.0561 27.5,-66.0561 24.0001,-76.0561 31.0001,-76.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="27.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M27.5,-50.9748C27.5,-44.195 27.5,-33.966 27.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-25.0561 27.5,-15.0561 24.0001,-25.0561 31.0001,-25.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="113.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M113.5,-152.9748C113.5,-146.195 113.5,-135.966 113.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="117.0001,-127.0561 113.5,-117.0561 110.0001,-127.0561 117.0001,-127.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="113.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M113.5,-101.9748C113.5,-95.195 113.5,-84.966 113.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="117.0001,-76.0561 113.5,-66.0561 110.0001,-76.0561 117.0001,-76.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="113.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M113.5,-50.9748C113.5,-44.195 113.5,-33.966 113.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="117.0001,-25.0561 113.5,-15.0561 110.0001,-25.0561 117.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>While a grammar can be used to specify a given language, there could be multiple
grammars that correspond to the same language. For example, here is another 
grammar to describe the same addition expression.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">A2_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;integer&gt;&lt;expr_&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;expr_&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;+&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;-&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;digit&gt;&lt;integer_&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;integer_&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">A2_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 174.0 62" width="174.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M134.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><rect height="22" width="54.0" x="60.0" y="20"/><text x="87.0" y="35">expr</text></g></g><path d="M114.0 31h20"/></g><path d="M 134.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>expr
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 282.0 62" width="282.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M242.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M222.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><rect height="22" width="79.5" x="60.0" y="20"/><text x="99.75" y="35">integer</text></g><path d="M139.5 31h10"/><path d="M149.5 31h10"/><g class="non-terminal">
<path d="M159.5 31h0.0"/><path d="M222.0 31h0.0"/><rect height="22" width="62.5" x="159.5" y="20"/><text x="190.75" y="35">expr_</text></g></g><path d="M222.0 31h20"/></g><path d="M 242.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>expr_
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="122" viewBox="0 0 222.5 122" width="222.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M182.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M162.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">+</text></g><path d="M88.5 31h10"/><path d="M98.5 31h10"/><g class="non-terminal">
<path d="M108.5 31h0.0"/><path d="M162.5 31h0.0"/><rect height="22" width="54.0" x="108.5" y="20"/><text x="135.5" y="35">expr</text></g></g><path d="M162.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h0.0"/><path d="M162.5 61h0.0"/><g class="terminal">
<path d="M60.0 61h0.0"/><path d="M88.5 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="50"/><text x="74.25" y="65">-</text></g><path d="M88.5 61h10"/><path d="M98.5 61h10"/><g class="non-terminal">
<path d="M108.5 61h0.0"/><path d="M162.5 61h0.0"/><rect height="22" width="54.0" x="108.5" y="50"/><text x="135.5" y="65">expr</text></g></g><path d="M162.5 61h20"/><path d="M40.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M60.0 91h41.25"/><path d="M121.25 91h41.25"/><g class="terminal">
<path d="M101.25 91h0.0"/><path d="M121.25 91h0.0"/><rect height="22" rx="10" ry="10" width="20.0" x="101.25" y="80"/><text x="111.25" y="95"/></g></g><path d="M162.5 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/></g><path d="M 182.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>integer
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 290.5 62" width="290.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M250.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M230.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M122.5 31h0.0"/><rect height="22" width="62.5" x="60.0" y="20"/><text x="91.25" y="35">digit</text></g><path d="M122.5 31h10"/><path d="M132.5 31h10"/><g class="non-terminal">
<path d="M142.5 31h0.0"/><path d="M230.5 31h0.0"/><rect height="22" width="88.0" x="142.5" y="20"/><text x="186.5" y="35">integer_</text></g></g><path d="M230.5 31h20"/></g><path d="M 250.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>integer_
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 199.5 92" width="199.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M159.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><rect height="22" width="79.5" x="60.0" y="20"/><text x="99.75" y="35">integer</text></g></g><path d="M139.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h29.75"/><path d="M109.75 61h29.75"/><g class="terminal">
<path d="M89.75 61h0.0"/><path d="M109.75 61h0.0"/><rect height="22" rx="10" ry="10" width="20.0" x="89.75" y="50"/><text x="99.75" y="65"/></g></g><path d="M139.5 61h20"/></g><path d="M 159.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>digit
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="109" viewBox="0 0 522.5 109" width="522.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 59v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 69h0.0"/><path d="M482.5 69h0.0"/><path d="M40.0 69a10 10 0 0 0 10 -10v-29a10 10 0 0 1 10 -10h324.0"/><path d="M138.5 89h324.0a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"/><path d="M40.0 69h10"/><g>
<path d="M50.0 69h0.0"/><path d="M118.5 69h0.0"/><path d="M50.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><g class="terminal">
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="28"/><text x="84.25" y="43">0</text></g></g><path d="M98.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M50.0 69h20"/><g>
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><g class="terminal">
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="58"/><text x="84.25" y="73">1</text></g></g><path d="M98.5 69h20"/></g><path d="M118.5 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M118.5 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M138.5 69h0.0"/><path d="M207.0 69h0.0"/><path d="M138.5 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><g class="terminal">
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="28"/><text x="172.75" y="43">2</text></g></g><path d="M187.0 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M138.5 69h20"/><g>
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><g class="terminal">
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="58"/><text x="172.75" y="73">3</text></g></g><path d="M187.0 69h20"/></g><path d="M207.0 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M207.0 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M227.0 69h0.0"/><path d="M295.5 69h0.0"/><path d="M227.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><g class="terminal">
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="28"/><text x="261.25" y="43">4</text></g></g><path d="M275.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M227.0 69h20"/><g>
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><g class="terminal">
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="58"/><text x="261.25" y="73">5</text></g></g><path d="M275.5 69h20"/></g><path d="M295.5 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M295.5 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M315.5 69h0.0"/><path d="M384.0 69h0.0"/><path d="M315.5 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><g class="terminal">
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="28"/><text x="349.75" y="43">6</text></g></g><path d="M364.0 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M315.5 69h20"/><g>
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><g class="terminal">
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="58"/><text x="349.75" y="73">7</text></g></g><path d="M364.0 69h20"/></g><path d="M384.0 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M384.0 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M404.0 69h0.0"/><path d="M472.5 69h0.0"/><path d="M404.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><g class="terminal">
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="28"/><text x="438.25" y="43">8</text></g></g><path d="M452.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M404.0 69h20"/><g>
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><g class="terminal">
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="58"/><text x="438.25" y="73">9</text></g></g><path d="M452.5 69h20"/></g><path d="M472.5 69h10"/></g><path d="M 482.5 69 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The corresponding derivation tree is given by:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">[])]),</span>
                                               <span class="p">(</span><span class="s1">&#39;&lt;integer_&gt;&#39;</span><span class="p">,</span> <span class="p">[])]),</span>
                                <span class="p">(</span><span class="s1">&#39;&lt;expr_&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="p">[]),</span>
                                             <span class="p">(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span>
                                              <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span>
                                                <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="p">[])]),</span>
                                                 <span class="p">(</span><span class="s1">&#39;&lt;integer_&gt;&#39;</span><span class="p">,</span> <span class="p">[])]),</span>
                                               <span class="p">(</span><span class="s1">&#39;&lt;expr_&gt;&#39;</span><span class="p">,</span> <span class="p">[])])])])])</span>
<span class="k">assert</span> <span class="n">mystring</span> <span class="o">==</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="262pt" height="329pt"
 viewBox="0.00 0.00 262.00 329.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 325)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-325 258,-325 258,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="121" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="121" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M121,-305.9748C121,-299.195 121,-288.966 121,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="124.5001,-280.0561 121,-270.0561 117.5001,-280.0561 124.5001,-280.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="86" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M115.8356,-254.9748C110.8726,-247.743 103.2165,-236.5868 96.9026,-227.3866"/>
<polygon fill="#000000" stroke="#000000" points="99.7298,-225.3208 91.1856,-219.0561 93.9582,-229.2817 99.7298,-225.3208"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="156" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr_&gt;</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M126.1644,-254.9748C131.1274,-247.743 138.7835,-236.5868 145.0974,-227.3866"/>
<polygon fill="#000000" stroke="#000000" points="148.0418,-229.2817 150.8144,-219.0561 142.2702,-225.3208 148.0418,-229.2817"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="21" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M76.409,-203.9748C66.52,-196.2157 50.8733,-183.939 38.7253,-174.4075"/>
<polygon fill="#000000" stroke="#000000" points="40.6582,-171.4754 30.6303,-168.0561 36.3372,-176.9826 40.6582,-171.4754"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="91" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer_&gt;</text>
</g>
<!-- 2&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M86.7378,-203.9748C87.4025,-197.195 88.4053,-186.966 89.2713,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="92.7667,-178.3499 90.2592,-168.0561 85.8001,-177.6669 92.7667,-178.3499"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="21" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M21,-152.9748C21,-146.195 21,-135.966 21,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="24.5001,-127.0561 21,-117.0561 17.5001,-127.0561 24.5001,-127.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="152" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M155.4098,-203.9748C154.878,-197.195 154.0758,-186.966 153.383,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="156.8639,-177.7518 152.5926,-168.0561 149.8854,-178.2992 156.8639,-177.7518"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="195" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 6&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>6&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M161.7546,-203.9748C167.3424,-196.6677 175.994,-185.354 183.0708,-176.0997"/>
<polygon fill="#000000" stroke="#000000" points="185.9275,-178.1258 189.2218,-168.0561 180.367,-173.8736 185.9275,-178.1258"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="160" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M189.8356,-152.9748C184.8726,-145.743 177.2165,-134.5868 170.9026,-125.3866"/>
<polygon fill="#000000" stroke="#000000" points="173.7298,-123.3208 165.1856,-117.0561 167.9582,-127.2817 173.7298,-123.3208"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="230" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr_&gt;</text>
</g>
<!-- 8&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>8&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M200.1644,-152.9748C205.1274,-145.743 212.7835,-134.5868 219.0974,-125.3866"/>
<polygon fill="#000000" stroke="#000000" points="222.0418,-127.2817 224.8144,-117.0561 216.2702,-123.3208 222.0418,-127.2817"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="125" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M154.8356,-101.9748C149.8726,-94.743 142.2165,-83.5868 135.9026,-74.3866"/>
<polygon fill="#000000" stroke="#000000" points="138.7298,-72.3208 130.1856,-66.0561 132.9582,-76.2817 138.7298,-72.3208"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="195" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer_&gt;</text>
</g>
<!-- 9&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>9&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M165.1644,-101.9748C170.1274,-94.743 177.7835,-83.5868 184.0974,-74.3866"/>
<polygon fill="#000000" stroke="#000000" points="187.0418,-76.2817 189.8144,-66.0561 181.2702,-72.3208 187.0418,-76.2817"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="125" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M125,-50.9748C125,-44.195 125,-33.966 125,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="128.5001,-25.0561 125,-15.0561 121.5001,-25.0561 128.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Indeed, there could be different classes of grammars that
describe the same language. For example, the first grammar <code>A1_GRAMMAR</code>
is a grammar that sports both <em>right</em> and <em>left</em> recursion, while the
second grammar <code>A2_GRAMMAR</code> does not have left recursion in the
nonterminals in any of its productions, but contains <em>epsilon</em> productions.
(An epsilon production is a production that has empty string in its right
hand side.)</p>
<p>You would have noticed that we reuse the term <code>&lt;expr&gt;</code> in its own definition. Using the same nonterminal in its own definition is called <em>recursion</em>. There are two specific kinds of recursion one should be aware of in parsing, as we see in the next section.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Recursion">Recursion<a class="anchor-link" href="#Recursion">&#182;</a></h4><p>A grammar is <em>left recursive</em> if any of its nonterminals are left recursive,
and a nonterminal is directly left-recursive if the left-most symbol of
any of its productions is itself.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">LR_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;A&gt;a&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">LR_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 148.5 62" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M108.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">A</text></g></g><path d="M88.5 31h20"/></g><path d="M 108.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>A
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 197.0 92" width="197.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M157.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M137.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">A</text></g><path d="M88.5 31h10"/><path d="M98.5 31h10"/><g class="terminal">
<path d="M108.5 31h0.0"/><path d="M137.0 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="108.5" y="20"/><text x="122.75" y="35">a</text></g></g><path d="M137.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h28.5"/><path d="M108.5 61h28.5"/><g class="terminal">
<path d="M88.5 61h0.0"/><path d="M108.5 61h0.0"/><rect height="22" rx="10" ry="10" width="20.0" x="88.5" y="50"/><text x="98.5" y="65"/></g></g><path d="M137.0 61h20"/></g><path d="M 157.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;aaaaaa&#39;</span>
<span class="n">display_tree</span><span class="p">((</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span> <span class="p">((</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="p">((</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="p">((</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[]))),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[]))),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[]))))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="94pt" height="176pt"
 viewBox="0.00 0.00 93.50 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 89.5,-172 89.5,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="64" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="47" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M61.4916,-152.9748C59.1814,-146.0443 55.6699,-135.5097 52.6821,-126.5464"/>
<polygon fill="#000000" stroke="#000000" points="56.0014,-125.4361 49.5187,-117.0561 49.3607,-127.6498 56.0014,-125.4361"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="82" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>0&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M66.656,-152.9748C69.102,-146.0443 72.8201,-135.5097 75.9836,-126.5464"/>
<polygon fill="#000000" stroke="#000000" points="79.3053,-127.6509 79.3331,-117.0561 72.7044,-125.3211 79.3053,-127.6509"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="30" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M44.4916,-101.9748C42.1814,-95.0443 38.6699,-84.5097 35.6821,-75.5464"/>
<polygon fill="#000000" stroke="#000000" points="39.0014,-74.4361 32.5187,-66.0561 32.3607,-76.6498 39.0014,-74.4361"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="65" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M49.656,-101.9748C52.102,-95.0443 55.8201,-84.5097 58.9836,-75.5464"/>
<polygon fill="#000000" stroke="#000000" points="62.3053,-76.6509 62.3331,-66.0561 55.7044,-74.3211 62.3053,-76.6509"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="13" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M27.4916,-50.9748C25.1814,-44.0443 21.6699,-33.5097 18.6821,-24.5464"/>
<polygon fill="#000000" stroke="#000000" points="22.0014,-23.4361 15.5187,-15.0561 15.3607,-25.6498 22.0014,-23.4361"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="48" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 2&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M32.656,-50.9748C35.102,-44.0443 38.8201,-33.5097 41.9836,-24.5464"/>
<polygon fill="#000000" stroke="#000000" points="45.3053,-25.6509 45.3331,-15.0561 38.7044,-23.3211 45.3053,-25.6509"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>A grammar is indirectly left-recursive if any
of the left-most symbols can be expanded using their definitions to
produce the nonterminal as the left-most symbol of the expansion. The left
recursion is called a <em>hidden-left-recursion</em> if during the series of
expansions of  a nonterminal, one reaches a rule where the rule contains
the same nonterminal after a prefix of other symbols, and these symbols can
derive the empty string. For example, in <code>A1_GRAMMAR</code>, <code>&lt;integer&gt;</code> will be
considered hidden-left recursive if <code>&lt;digit&gt;</code> could derive an empty string.</p>
<p>Right recursive grammars are defined similarly.
Below is the derivation tree for the right recursive grammar that represents the same
language as that of <code>LR_GRAMMAR</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">RR_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&lt;A&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">RR_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 148.5 62" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M108.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">A</text></g></g><path d="M88.5 31h20"/></g><path d="M 108.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>A
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 197.0 92" width="197.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M157.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M137.0 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">a</text></g><path d="M88.5 31h10"/><path d="M98.5 31h10"/><g class="non-terminal">
<path d="M108.5 31h0.0"/><path d="M137.0 31h0.0"/><rect height="22" width="28.5" x="108.5" y="20"/><text x="122.75" y="35">A</text></g></g><path d="M137.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h28.5"/><path d="M108.5 61h28.5"/><g class="terminal">
<path d="M88.5 61h0.0"/><path d="M108.5 61h0.0"/><rect height="22" rx="10" ry="10" width="20.0" x="88.5" y="50"/><text x="98.5" y="65"/></g></g><path d="M137.0 61h20"/></g><path d="M 157.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_tree</span><span class="p">((</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span> <span class="p">((</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="p">((</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="p">[]),</span> <span class="p">(</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="p">[]))))))),)))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="94pt" height="227pt"
 viewBox="0.00 0.00 93.50 227.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 223)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-223 89.5,-223 89.5,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="20.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M20.5,-203.9748C20.5,-197.195 20.5,-186.966 20.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="24.0001,-178.0561 20.5,-168.0561 17.0001,-178.0561 24.0001,-178.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="3.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M17.9916,-152.9748C15.6814,-146.0443 12.1699,-135.5097 9.1821,-126.5464"/>
<polygon fill="#000000" stroke="#000000" points="12.5014,-125.4361 6.0187,-117.0561 5.8607,-127.6498 12.5014,-125.4361"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="38.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M23.156,-152.9748C25.602,-146.0443 29.3201,-135.5097 32.4836,-126.5464"/>
<polygon fill="#000000" stroke="#000000" points="35.8053,-127.6509 35.8331,-117.0561 29.2044,-125.3211 35.8053,-127.6509"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="20.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M35.844,-101.9748C33.398,-95.0443 29.6799,-84.5097 26.5164,-75.5464"/>
<polygon fill="#000000" stroke="#000000" points="29.7956,-74.3211 23.1669,-66.0561 23.1947,-76.6509 29.7956,-74.3211"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="55.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M41.0084,-101.9748C43.3186,-95.0443 46.8301,-84.5097 49.8179,-75.5464"/>
<polygon fill="#000000" stroke="#000000" points="53.1393,-76.6498 52.9813,-66.0561 46.4986,-74.4361 53.1393,-76.6498"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="37.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M52.844,-50.9748C50.398,-44.0443 46.6799,-33.5097 43.5164,-24.5464"/>
<polygon fill="#000000" stroke="#000000" points="46.7956,-23.3211 40.1669,-15.0561 40.1947,-25.6509 46.7956,-23.3211"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="72.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 5&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>5&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M58.0084,-50.9748C60.3186,-44.0443 63.8301,-33.5097 66.8179,-24.5464"/>
<polygon fill="#000000" stroke="#000000" points="70.1393,-25.6498 69.9813,-15.0561 63.4986,-23.4361 70.1393,-25.6498"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Ambiguity">Ambiguity<a class="anchor-link" href="#Ambiguity">&#182;</a></h4><p>To complicate matters further, there could be
multiple derivation trees – also called <em>parses</em> – corresponding to the
same string from the same grammar. For example, a string <code>1+2+3</code> can be parsed
in two ways as we see below using the <code>A1_GRAMMAR</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;1+2+3&#39;</span>
<span class="n">tree</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span>
        <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span>
          <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">[])])])]),</span>
                       <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="p">[]),</span>
                       <span class="p">(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span>
                                    <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="p">[])])])])]),</span> <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="p">[]),</span>
           <span class="p">(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span> <span class="p">[])])])])])])</span>
<span class="k">assert</span> <span class="n">mystring</span> <span class="o">==</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="215pt" height="329pt"
 viewBox="0.00 0.00 215.00 329.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 325)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-325 211,-325 211,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="130.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="130.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M130.5,-305.9748C130.5,-299.195 130.5,-288.966 130.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="134.0001,-280.0561 130.5,-270.0561 127.0001,-280.0561 134.0001,-280.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="81.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M123.2699,-254.9748C116.1046,-247.517 104.9294,-235.8857 95.9406,-226.53"/>
<polygon fill="#000000" stroke="#000000" points="98.2119,-223.8423 88.7598,-219.0561 93.1642,-228.6921 98.2119,-223.8423"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="130.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 1&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>1&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M130.5,-254.9748C130.5,-248.195 130.5,-237.966 130.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="134.0001,-229.0561 130.5,-219.0561 127.0001,-229.0561 134.0001,-229.0561"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="176.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M137.2875,-254.9748C144.0141,-247.517 154.505,-235.8857 162.9436,-226.53"/>
<polygon fill="#000000" stroke="#000000" points="165.586,-228.826 169.6847,-219.0561 160.388,-224.1376 165.586,-228.826"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="27.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M73.5321,-203.9748C65.4761,-196.3663 52.8208,-184.4141 42.8167,-174.9658"/>
<polygon fill="#000000" stroke="#000000" points="45.1739,-172.3778 35.5006,-168.0561 40.3675,-177.4669 45.1739,-172.3778"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="70.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 2&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M79.8769,-203.9748C78.3984,-197.1196 76.1592,-186.7383 74.2398,-177.8392"/>
<polygon fill="#000000" stroke="#000000" points="77.6595,-177.0934 72.1297,-168.0561 70.8169,-178.5693 77.6595,-177.0934"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="113.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 2&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M86.2217,-203.9748C90.712,-196.8183 97.6137,-185.8188 103.3512,-176.6747"/>
<polygon fill="#000000" stroke="#000000" points="106.4087,-178.387 108.7589,-168.0561 100.4792,-174.6665 106.4087,-178.387"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="27.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M27.5,-152.9748C27.5,-146.195 27.5,-135.966 27.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-127.0561 27.5,-117.0561 24.0001,-127.0561 31.0001,-127.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="27.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M27.5,-101.9748C27.5,-95.195 27.5,-84.966 27.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-76.0561 27.5,-66.0561 24.0001,-76.0561 31.0001,-76.0561"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="27.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M27.5,-50.9748C27.5,-44.195 27.5,-33.966 27.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-25.0561 27.5,-15.0561 24.0001,-25.0561 31.0001,-25.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="112.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M113.3524,-152.9748C113.2195,-146.195 113.0189,-135.966 112.8457,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="116.3436,-126.9855 112.6482,-117.0561 109.345,-127.1228 116.3436,-126.9855"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="112.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M112.5,-101.9748C112.5,-95.195 112.5,-84.966 112.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="116.0001,-76.0561 112.5,-66.0561 109.0001,-76.0561 116.0001,-76.0561"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="112.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M112.5,-50.9748C112.5,-44.195 112.5,-33.966 112.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="116.0001,-25.0561 112.5,-15.0561 109.0001,-25.0561 116.0001,-25.0561"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="179.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M176.9427,-203.9748C177.3415,-197.195 177.9432,-186.966 178.4628,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="181.9622,-178.2444 179.0555,-168.0561 174.9742,-177.8333 181.9622,-178.2444"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="179.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M179.5,-152.9748C179.5,-146.195 179.5,-135.966 179.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="183.0001,-127.0561 179.5,-117.0561 176.0001,-127.0561 183.0001,-127.0561"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="179.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M179.5,-101.9748C179.5,-95.195 179.5,-84.966 179.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="183.0001,-76.0561 179.5,-66.0561 176.0001,-76.0561 183.0001,-76.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span>
        <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="p">[])])])]),</span>
                     <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="p">[]),</span>
                     <span class="p">(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span>
                      <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;2&#39;</span><span class="p">,</span> <span class="p">[])])])]),</span>
                       <span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">,</span> <span class="p">[]),</span>
                       <span class="p">(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;3&#39;</span><span class="p">,</span>
                                                                <span class="p">[])])])])])])])</span>
<span class="k">assert</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="o">==</span> <span class="n">mystring</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="215pt" height="329pt"
 viewBox="0.00 0.00 215.00 329.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 325)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-325 211,-325 211,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="87.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="87.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M87.5,-305.9748C87.5,-299.195 87.5,-288.966 87.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="91.0001,-280.0561 87.5,-270.0561 84.0001,-280.0561 91.0001,-280.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="38.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M80.2699,-254.9748C73.1046,-247.517 61.9294,-235.8857 52.9406,-226.53"/>
<polygon fill="#000000" stroke="#000000" points="55.2119,-223.8423 45.7598,-219.0561 50.1642,-228.6921 55.2119,-223.8423"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="87.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M87.5,-254.9748C87.5,-248.195 87.5,-237.966 87.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="91.0001,-229.0561 87.5,-219.0561 84.0001,-229.0561 91.0001,-229.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="133.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M94.2875,-254.9748C101.0141,-247.517 111.505,-235.8857 119.9436,-226.53"/>
<polygon fill="#000000" stroke="#000000" points="122.586,-228.826 126.6847,-219.0561 117.388,-224.1376 122.586,-228.826"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="27.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M36.8769,-203.9748C35.3984,-197.1196 33.1592,-186.7383 31.2398,-177.8392"/>
<polygon fill="#000000" stroke="#000000" points="34.6595,-177.0934 29.1297,-168.0561 27.8169,-178.5693 34.6595,-177.0934"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="27.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M27.5,-152.9748C27.5,-146.195 27.5,-135.966 27.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-127.0561 27.5,-117.0561 24.0001,-127.0561 31.0001,-127.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="27.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M27.5,-101.9748C27.5,-95.195 27.5,-84.966 27.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-76.0561 27.5,-66.0561 24.0001,-76.0561 31.0001,-76.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="93.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M127.5979,-203.9748C121.8668,-196.6677 112.9933,-185.354 105.7351,-176.0997"/>
<polygon fill="#000000" stroke="#000000" points="108.3518,-173.7647 99.4264,-168.0561 102.8438,-178.0847 108.3518,-173.7647"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="136.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 7&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>7&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M133.9427,-203.9748C134.3415,-197.195 134.9432,-186.966 135.4628,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="138.9622,-178.2444 136.0555,-168.0561 131.9742,-177.8333 138.9622,-178.2444"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="179.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 7&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>7&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M140.2875,-203.9748C147.0141,-196.517 157.505,-184.8857 165.9436,-175.53"/>
<polygon fill="#000000" stroke="#000000" points="168.586,-177.826 172.6847,-168.0561 163.388,-173.1376 168.586,-177.826"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="94.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M93.6476,-152.9748C93.7805,-146.195 93.9811,-135.966 94.1543,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="97.655,-127.1228 94.3518,-117.0561 90.6564,-126.9855 97.655,-127.1228"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="94.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M94.5,-101.9748C94.5,-95.195 94.5,-84.966 94.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="98.0001,-76.0561 94.5,-66.0561 91.0001,-76.0561 98.0001,-76.0561"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="94.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M94.5,-50.9748C94.5,-44.195 94.5,-33.966 94.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="98.0001,-25.0561 94.5,-15.0561 91.0001,-25.0561 98.0001,-25.0561"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="179.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M179.5,-152.9748C179.5,-146.195 179.5,-135.966 179.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="183.0001,-127.0561 179.5,-117.0561 176.0001,-127.0561 183.0001,-127.0561"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="179.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M179.5,-101.9748C179.5,-95.195 179.5,-84.966 179.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="183.0001,-76.0561 179.5,-66.0561 176.0001,-76.0561 183.0001,-76.0561"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="179.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M179.5,-50.9748C179.5,-44.195 179.5,-33.966 179.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="183.0001,-25.0561 179.5,-15.0561 176.0001,-25.0561 183.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>There are many ways to resolve ambiguities. One approach taken by <em>Parsing Expression Grammars</em> explained in the next section is to specify a particular order of resolution, and choose the first one. Another approach is to simply return all possible derivation trees, which is the approach taken by <em>Earley parser</em> we develop later.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Next, we develop different parsers. To do that, we define a minimal interface for parsing that is obeyed by all parsers. There are two approaches to parsing a string using a grammar.</p>
<ol>
<li>The traditional approach is to use a <em>lexer</em> (also called a <em>tokenizer</em> or a <em>scanner</em>) to first tokenize the incoming string, and feed the grammar one token at a time. The lexer is typically a smaller parser that accepts a <em>regular language</em>. The advantage of this approach is that the grammar used by the parser can eschew the details of tokenization. Further, one gets a shallow derivation tree at the end of the parsing which can be directly used for generating the <em>Abstract Syntax Tree</em>.</li>
<li>The second approach is to use a tree pruner after the complete parse. With this approach, one uses a grammar that incorporates complete details of the syntax. Next, the nodes corresponding to tokens are pruned and replaced with their corresponding strings as leaf nodes. The utility of this approach is that the parser is more powerful, and further there is no artificial distinction between <em>lexing</em> and <em>parsing</em>.</li>
</ol>
<p>In this chapter, we use the second approach. This approach is implemented in the <code>prune_tree</code> method.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <em>Parser</em> class we define below provides the minimal interface. The main methods that need to be implemented by the classes implementing this interface are <code>parse_prefix</code> and <code>parse</code>. The <code>parse_prefix</code> returns a tuple, which contains the index until which parsing was completed successfully, and the parse forest until that index. The method <code>parse</code> returns a list of derivation trees if the parse was successful.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Parser</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grammar</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grammar</span> <span class="o">=</span> <span class="n">grammar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_symbol</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;start_symbol&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">START_SYMBOL</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coalesce</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;coalesce&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tokens&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="nb">set</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">grammar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grammar</span>

    <span class="k">def</span> <span class="nf">parse_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return pair (cursor, forest) for longest prefix of text&quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="bp">NotImplemented</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">cursor</span><span class="p">,</span> <span class="n">forest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_prefix</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cursor</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;at &quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">cursor</span><span class="p">:]))</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">prune_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">forest</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">coalesce</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">children</span><span class="p">):</span>
        <span class="n">last</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="n">new_lst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">cn</span><span class="p">,</span> <span class="n">cc</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">cn</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_grammar</span><span class="p">:</span>
                <span class="n">last</span> <span class="o">+=</span> <span class="n">cn</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">last</span><span class="p">:</span>
                    <span class="n">new_lst</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">last</span><span class="p">,</span> <span class="p">[]))</span>
                    <span class="n">last</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
                <span class="n">new_lst</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">cn</span><span class="p">,</span> <span class="n">cc</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">last</span><span class="p">:</span>
            <span class="n">new_lst</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">last</span><span class="p">,</span> <span class="p">[]))</span>
        <span class="k">return</span> <span class="n">new_lst</span>

    <span class="k">def</span> <span class="nf">prune_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">children</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">coalesce</span><span class="p">:</span>
            <span class="n">children</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">coalesce</span><span class="p">(</span><span class="n">children</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[(</span><span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">),</span> <span class="p">[])])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">prune_tree</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Parsing-Expression-Grammars">Parsing Expression Grammars<a class="anchor-link" href="#Parsing-Expression-Grammars">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>A <em><a href="http://bford.info/pub/lang/peg">Parsing Expression Grammar</a></em> (<em>PEG</em>) [<a href="https://doi.org/10.1145/982962.964011">Ford <em>et al</em>, 2004.</a>] is a type of <em>recognition based formal grammar</em> that specifies the sequence of steps to take to parse a given string.
A <em>parsing expression grammar</em> is very similar to a <em>context-free grammar</em> (<em>CFG</em>) such as the ones we saw in the <a href="Grammars.html">chapter on grammars</a>. As in a CFG, a parsing expression grammar is represented by a set of nonterminals and corresponding alternatives representing how to match each. For example, here is a PEG that matches <code>a</code> or <code>b</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">PEG1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>However, unlike the <em>CFG</em>, the alternatives represent <em>ordered choice</em>. That is, rather than choosing all rules that can potentially match, we stop at the first match that succeed. For example, the below <em>PEG</em> can match <code>ab</code> but not <code>abc</code> unlike a <em>CFG</em> which will match both. (We call the sequence of ordered choice expressions <em>choice expressions</em>  rather than alternatives to make the distinction from <em>CFG</em> clear.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">PEG2</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Each choice in a <em>choice expression</em> represents a rule on how to satisfy that particular choice. The choice is a sequence of symbols (terminals and nonterminals) that are matched against a given text as in a <em>CFG</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Beyond the syntax of grammar definitions we have seen so far, a <em>PEG</em> can also contain a few additional elements. See the exercises at the end of the chapter for additional information.</p>
<p>The PEGs model the typical practice in handwritten recursive descent parsers, and hence it may be considered more intuitive to understand. We look at parsers for PEGs next.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="The-Packrat-Parser-for-Predicate-Expression-Grammars">The Packrat Parser for Predicate Expression Grammars<a class="anchor-link" href="#The-Packrat-Parser-for-Predicate-Expression-Grammars">&#182;</a></h3><p>Short of hand rolling a parser, <em>Packrat</em> parsing is one of the simplest parsing techniques, and is one of the techniques for parsing PEGs.
The <em>Packrat</em> parser is so named because it tries to cache all results from simpler problems in the hope that these solutions can be used to avoid re-computation later. We develop a minimal <em>Packrat</em> parser next.</p>
<p>But before that, we need to implement a few supporting tools.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The  <code>EXPR_GRAMMAR</code> we import from the <a href="Grammars.html">chapter on grammars</a> is oriented towards generation. In particular, the production rules are stored as strings. We need to massage this representation a little to conform to a canonical representation where each token in a rule is represented separately. The <code>canonical</code> format uses separate tokens to represent each symbol in an expansion.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/re.html" class="import" target="_blank">re</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">canonical</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">letters</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">split</span><span class="p">(</span><span class="n">expansion</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expansion</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">expansion</span> <span class="o">=</span> <span class="n">expansion</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">RE_NONTERMINAL</span><span class="p">,</span> <span class="n">expansion</span><span class="p">)</span> <span class="k">if</span> <span class="n">token</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">tokenize</span><span class="p">(</span><span class="n">word</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">if</span> <span class="n">letters</span> <span class="k">else</span> <span class="p">[</span><span class="n">word</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">canonical_expr</span><span class="p">(</span><span class="n">expression</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">token</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">split</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="p">([</span><span class="n">word</span><span class="p">]</span> <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">grammar</span> <span class="k">else</span> <span class="n">tokenize</span><span class="p">(</span><span class="n">word</span><span class="p">))</span>
        <span class="p">]</span>

    <span class="k">return</span> <span class="p">{</span>
        <span class="n">k</span><span class="p">:</span> <span class="p">[</span><span class="n">canonical_expr</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span> <span class="k">for</span> <span class="n">expression</span> <span class="ow">in</span> <span class="n">alternatives</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">alternatives</span> <span class="ow">in</span> <span class="n">grammar</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
    <span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">canonical</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;start&gt;&#39;: [[&#39;&lt;expr&gt;&#39;]],
 &#39;&lt;expr&gt;&#39;: [[&#39;&lt;term&gt;&#39;, &#39; + &#39;, &#39;&lt;expr&gt;&#39;],
  [&#39;&lt;term&gt;&#39;, &#39; - &#39;, &#39;&lt;expr&gt;&#39;],
  [&#39;&lt;term&gt;&#39;]],
 &#39;&lt;term&gt;&#39;: [[&#39;&lt;factor&gt;&#39;, &#39; * &#39;, &#39;&lt;term&gt;&#39;],
  [&#39;&lt;factor&gt;&#39;, &#39; / &#39;, &#39;&lt;term&gt;&#39;],
  [&#39;&lt;factor&gt;&#39;]],
 &#39;&lt;factor&gt;&#39;: [[&#39;+&#39;, &#39;&lt;factor&gt;&#39;],
  [&#39;-&#39;, &#39;&lt;factor&gt;&#39;],
  [&#39;(&#39;, &#39;&lt;expr&gt;&#39;, &#39;)&#39;],
  [&#39;&lt;integer&gt;&#39;, &#39;.&#39;, &#39;&lt;integer&gt;&#39;],
  [&#39;&lt;integer&gt;&#39;]],
 &#39;&lt;integer&gt;&#39;: [[&#39;&lt;digit&gt;&#39;, &#39;&lt;integer&gt;&#39;], [&#39;&lt;digit&gt;&#39;]],
 &#39;&lt;digit&gt;&#39;: [[&#39;0&#39;],
  [&#39;1&#39;],
  [&#39;2&#39;],
  [&#39;3&#39;],
  [&#39;4&#39;],
  [&#39;5&#39;],
  [&#39;6&#39;],
  [&#39;7&#39;],
  [&#39;8&#39;],
  [&#39;9&#39;]]}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>It is easier to work with the <code>canonical</code> representation during parsing. Hence, we update our parser class to store the <code>canonical</code> representation also.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Parser</span><span class="p">(</span><span class="n">Parser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grammar</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_grammar</span> <span class="o">=</span> <span class="n">grammar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_symbol</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;start_symbol&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">START_SYMBOL</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tokens</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;tokens&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span> <span class="o">=</span> <span class="n">canonical</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="The-Parser">The Parser<a class="anchor-link" href="#The-Parser">&#182;</a></h3><p>We derive from the <code>Parser</code> base class first, and we accept the text to be parsed in the <code>parse()</code> method, which in turn calls <code>unify_key()</code> with the <code>start_symbol</code>.</p>
<p><strong>Note.</strong> While our PEG parser can produce only a single unambiguous parse tree, other parsers can produce multiple parses for ambiguous grammars. Hence, we return a list of trees (in this case with a single element).</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">PEGParser</span><span class="p">(</span><span class="n">Parser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">parse_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">cursor</span><span class="p">,</span> <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unify_key</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_symbol</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cursor</span><span class="p">,</span> <span class="p">[</span><span class="n">tree</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Unify-Key">Unify Key<a class="anchor-link" href="#Unify-Key">&#182;</a></h4><p>The <code>unify_key()</code> algorithm is simple. If given a terminal symbol, it tries to match the symbol with the current position in the text. If the symbol and text match, it returns successfully with the new parse index <code>at</code>.</p>
<p>If on the other hand, it was given a nonterminal, it retrieves the choice expression corresponding to the key, and tries to match each choice <em>in order</em> using <code>unify_rule()</code>. If <strong>any</strong> of the rules succeed in being unified with the given text, the parse is considered a success, and we return with the new parse index returned by <code>unify_rule()</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">PEGParser</span><span class="p">(</span><span class="n">PEGParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">unify_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">at</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;unify_key: </span><span class="si">%s</span><span class="s2"> with </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">at</span><span class="p">:])))</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">text</span><span class="p">[</span><span class="n">at</span><span class="p">:]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">at</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="p">[])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">at</span><span class="p">,</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
            <span class="n">to</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unify_rule</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">at</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">res</span><span class="p">))</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
<span class="n">peg</span> <span class="o">=</span> <span class="n">PEGParser</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">peg</span><span class="o">.</span><span class="n">unify_key</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>unify_key: &#39;1&#39; with &#39;1&#39;
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(1, (&#39;1&#39;, []))
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s2">&quot;2&quot;</span>
<span class="n">peg</span><span class="o">.</span><span class="n">unify_key</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>unify_key: &#39;1&#39; with &#39;2&#39;
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(0, None)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Unify-Rule">Unify Rule<a class="anchor-link" href="#Unify-Rule">&#182;</a></h4><p>The <code>unify_rule()</code> method is similar. It retrieves the tokens corresponding to the rule that it needs to unify with the text, and calls <code>unify_key()</code> on them in sequence. If <strong>all</strong> tokens are successfully unified with the text, the parse is a success.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">PEGParser</span><span class="p">(</span><span class="n">PEGParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">unify_rule</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rule</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">at</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;unify_rule: </span><span class="si">%s</span><span class="s1"> with </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">rule</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">at</span><span class="p">:])))</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">rule</span><span class="p">:</span>
            <span class="n">at</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unify_key</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">at</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">res</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">at</span><span class="p">,</span> <span class="kc">None</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">at</span><span class="p">,</span> <span class="n">results</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s2">&quot;0&quot;</span>
<span class="n">peg</span> <span class="o">=</span> <span class="n">PEGParser</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">peg</span><span class="o">.</span><span class="n">unify_rule</span><span class="p">(</span><span class="n">peg</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">[</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mystring</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>unify_rule: [&#39;0&#39;] with &#39;0&#39;
unify_key: &#39;0&#39; with &#39;0&#39;
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(1, [(&#39;0&#39;, [])])
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s2">&quot;12&quot;</span>
<span class="n">peg</span><span class="o">.</span><span class="n">unify_rule</span><span class="p">(</span><span class="n">peg</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">[</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">mystring</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>unify_rule: [&#39;&lt;digit&gt;&#39;, &#39;&lt;integer&gt;&#39;] with &#39;12&#39;
unify_key: &#39;&lt;digit&gt;&#39; with &#39;12&#39;
unify_rule: [&#39;0&#39;] with &#39;12&#39;
unify_key: &#39;0&#39; with &#39;12&#39;
unify_rule: [&#39;1&#39;] with &#39;12&#39;
unify_key: &#39;1&#39; with &#39;12&#39;
unify_key: &#39;&lt;integer&gt;&#39; with &#39;2&#39;
unify_rule: [&#39;&lt;digit&gt;&#39;, &#39;&lt;integer&gt;&#39;] with &#39;2&#39;
unify_key: &#39;&lt;digit&gt;&#39; with &#39;2&#39;
unify_rule: [&#39;0&#39;] with &#39;2&#39;
unify_key: &#39;0&#39; with &#39;2&#39;
unify_rule: [&#39;1&#39;] with &#39;2&#39;
unify_key: &#39;1&#39; with &#39;2&#39;
unify_rule: [&#39;2&#39;] with &#39;2&#39;
unify_key: &#39;2&#39; with &#39;2&#39;
unify_key: &#39;&lt;integer&gt;&#39; with &#39;&#39;
unify_rule: [&#39;&lt;digit&gt;&#39;, &#39;&lt;integer&gt;&#39;] with &#39;&#39;
unify_key: &#39;&lt;digit&gt;&#39; with &#39;&#39;
unify_rule: [&#39;0&#39;] with &#39;&#39;
unify_key: &#39;0&#39; with &#39;&#39;
unify_rule: [&#39;1&#39;] with &#39;&#39;
unify_key: &#39;1&#39; with &#39;&#39;
unify_rule: [&#39;2&#39;] with &#39;&#39;
unify_key: &#39;2&#39; with &#39;&#39;
unify_rule: [&#39;3&#39;] with &#39;&#39;
unify_key: &#39;3&#39; with &#39;&#39;
unify_rule: [&#39;4&#39;] with &#39;&#39;
unify_key: &#39;4&#39; with &#39;&#39;
unify_rule: [&#39;5&#39;] with &#39;&#39;
unify_key: &#39;5&#39; with &#39;&#39;
unify_rule: [&#39;6&#39;] with &#39;&#39;
unify_key: &#39;6&#39; with &#39;&#39;
unify_rule: [&#39;7&#39;] with &#39;&#39;
unify_key: &#39;7&#39; with &#39;&#39;
unify_rule: [&#39;8&#39;] with &#39;&#39;
unify_key: &#39;8&#39; with &#39;&#39;
unify_rule: [&#39;9&#39;] with &#39;&#39;
unify_key: &#39;9&#39; with &#39;&#39;
unify_rule: [&#39;&lt;digit&gt;&#39;] with &#39;&#39;
unify_key: &#39;&lt;digit&gt;&#39; with &#39;&#39;
unify_rule: [&#39;0&#39;] with &#39;&#39;
unify_key: &#39;0&#39; with &#39;&#39;
unify_rule: [&#39;1&#39;] with &#39;&#39;
unify_key: &#39;1&#39; with &#39;&#39;
unify_rule: [&#39;2&#39;] with &#39;&#39;
unify_key: &#39;2&#39; with &#39;&#39;
unify_rule: [&#39;3&#39;] with &#39;&#39;
unify_key: &#39;3&#39; with &#39;&#39;
unify_rule: [&#39;4&#39;] with &#39;&#39;
unify_key: &#39;4&#39; with &#39;&#39;
unify_rule: [&#39;5&#39;] with &#39;&#39;
unify_key: &#39;5&#39; with &#39;&#39;
unify_rule: [&#39;6&#39;] with &#39;&#39;
unify_key: &#39;6&#39; with &#39;&#39;
unify_rule: [&#39;7&#39;] with &#39;&#39;
unify_key: &#39;7&#39; with &#39;&#39;
unify_rule: [&#39;8&#39;] with &#39;&#39;
unify_key: &#39;8&#39; with &#39;&#39;
unify_rule: [&#39;9&#39;] with &#39;&#39;
unify_key: &#39;9&#39; with &#39;&#39;
unify_rule: [&#39;&lt;digit&gt;&#39;] with &#39;2&#39;
unify_key: &#39;&lt;digit&gt;&#39; with &#39;2&#39;
unify_rule: [&#39;0&#39;] with &#39;2&#39;
unify_key: &#39;0&#39; with &#39;2&#39;
unify_rule: [&#39;1&#39;] with &#39;2&#39;
unify_key: &#39;1&#39; with &#39;2&#39;
unify_rule: [&#39;2&#39;] with &#39;2&#39;
unify_key: &#39;2&#39; with &#39;2&#39;
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(2, [(&#39;&lt;digit&gt;&#39;, [(&#39;1&#39;, [])]), (&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;2&#39;, [])])])])
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s2">&quot;1 + 2&quot;</span>
<span class="n">peg</span> <span class="o">=</span> <span class="n">PEGParser</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">peg</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;&lt;start&gt;&#39;,
  [(&#39;&lt;expr&gt;&#39;,
    [(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;1&#39;, [])])])])]),
     (&#39; + &#39;, []),
     (&#39;&lt;expr&gt;&#39;,
      [(&#39;&lt;term&gt;&#39;,
        [(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;2&#39;, [])])])])])])])])]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The two methods are mutually recursive, and given that <code>unify_key()</code> tries each alternative until it succeeds, <code>unify_key</code> can be called multiple times with the same arguments. Hence, it is important to memoize the results of <code>unify_key</code>. Python provides a simple decorator <code>lru_cache</code> for memoizing any function call that has hashable arguments. We add that to our implementation so that repeated calls to <code>unify_key()</code> with the same argument get cached results.</p>
<p>This memoization gives the algorithm its name – <em>Packrat</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn"><a href="https://docs.python.org/3/library/functools.html" class="import" target="_blank">functools</a></span> <span class="k">import</span> <span class="n">lru_cache</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">PEGParser</span><span class="p">(</span><span class="n">PEGParser</span><span class="p">):</span>
    <span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">unify_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">at</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">text</span><span class="p">[</span><span class="n">at</span><span class="p">:]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">key</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">at</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="p">[])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">at</span><span class="p">,</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">rule</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span>
            <span class="n">to</span><span class="p">,</span> <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">unify_rule</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">at</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">res</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">to</span><span class="p">,</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">res</span><span class="p">))</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We wrap initialization and calling of <code>PEGParser</code> in a method <code>parse()</code> already implemented in the <code>Parser</code> base class that accepts the text to be parsed along with the grammar.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here are a few examples of our parser in action.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s2">&quot;1 + (2 * 3)&quot;</span>
<span class="n">peg</span> <span class="o">=</span> <span class="n">PEGParser</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">peg</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="o">==</span> <span class="n">mystring</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="203pt" height="584pt"
 viewBox="0.00 0.00 203.00 584.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 580)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-580 199,-580 199,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="74.5" y="-564.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="74.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M74.5,-560.9748C74.5,-554.195 74.5,-543.966 74.5,-535.1331"/>
<polygon fill="#000000" stroke="#000000" points="78.0001,-535.0561 74.5,-525.0561 71.0001,-535.0561 78.0001,-535.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="27.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M67.565,-509.9748C60.6921,-502.517 49.9731,-490.8857 41.3512,-481.53"/>
<polygon fill="#000000" stroke="#000000" points="43.8141,-479.0378 34.4635,-474.0561 38.6666,-483.7816 43.8141,-479.0378"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="74.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M74.5,-509.9748C74.5,-503.195 74.5,-492.966 74.5,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="78.0001,-484.0561 74.5,-474.0561 71.0001,-484.0561 78.0001,-484.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="120.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M81.2875,-509.9748C88.0141,-502.517 98.505,-490.8857 106.9436,-481.53"/>
<polygon fill="#000000" stroke="#000000" points="109.586,-483.826 113.6847,-474.0561 104.388,-479.1376 109.586,-483.826"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="27.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M27.5,-458.9748C27.5,-452.195 27.5,-441.966 27.5,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-433.0561 27.5,-423.0561 24.0001,-433.0561 31.0001,-433.0561"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="27.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M27.5,-407.9748C27.5,-401.195 27.5,-390.966 27.5,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-382.0561 27.5,-372.0561 24.0001,-382.0561 31.0001,-382.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="27.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M27.5,-356.9748C27.5,-350.195 27.5,-339.966 27.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-331.0561 27.5,-321.0561 24.0001,-331.0561 31.0001,-331.0561"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="27.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M27.5,-305.9748C27.5,-299.195 27.5,-288.966 27.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-280.0561 27.5,-270.0561 24.0001,-280.0561 31.0001,-280.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="120.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M120.5,-458.9748C120.5,-452.195 120.5,-441.966 120.5,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="124.0001,-433.0561 120.5,-423.0561 117.0001,-433.0561 124.0001,-433.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="120.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M120.5,-407.9748C120.5,-401.195 120.5,-390.966 120.5,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="124.0001,-382.0561 120.5,-372.0561 117.0001,-382.0561 124.0001,-382.0561"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="79.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">(</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M114.4503,-356.9748C107.6341,-348.4961 96.4814,-334.6232 88.6104,-324.8324"/>
<polygon fill="#000000" stroke="#000000" points="91.1088,-322.3541 82.1154,-316.7533 85.6531,-326.74 91.1088,-322.3541"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="120.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 10&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>10&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M120.5,-356.9748C120.5,-350.195 120.5,-339.966 120.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="124.0001,-331.0561 120.5,-321.0561 117.0001,-331.0561 124.0001,-331.0561"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="161.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">)</text>
</g>
<!-- 10&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>10&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M126.5497,-356.9748C133.3659,-348.4961 144.5186,-334.6232 152.3896,-324.8324"/>
<polygon fill="#000000" stroke="#000000" points="155.3469,-326.74 158.8846,-316.7533 149.8912,-322.3541 155.3469,-326.74"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="120.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M120.5,-305.9748C120.5,-299.195 120.5,-288.966 120.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="124.0001,-280.0561 120.5,-270.0561 117.0001,-280.0561 124.0001,-280.0561"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="70.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M113.1223,-254.9748C105.7369,-247.4417 94.1768,-235.6503 84.958,-226.2472"/>
<polygon fill="#000000" stroke="#000000" points="87.4079,-223.7466 77.9079,-219.0561 82.4094,-228.6471 87.4079,-223.7466"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="120.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 13&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>13&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M120.5,-254.9748C120.5,-248.195 120.5,-237.966 120.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="124.0001,-229.0561 120.5,-219.0561 117.0001,-229.0561 124.0001,-229.0561"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="167.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 13&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>13&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M127.435,-254.9748C134.3079,-247.517 145.0269,-235.8857 153.6488,-226.53"/>
<polygon fill="#000000" stroke="#000000" points="156.3334,-228.7816 160.5365,-219.0561 151.1859,-224.0378 156.3334,-228.7816"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="70.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M70.5,-203.9748C70.5,-197.195 70.5,-186.966 70.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="74.0001,-178.0561 70.5,-168.0561 67.0001,-178.0561 74.0001,-178.0561"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="70.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M70.5,-152.9748C70.5,-146.195 70.5,-135.966 70.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="74.0001,-127.0561 70.5,-117.0561 67.0001,-127.0561 74.0001,-127.0561"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="70.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M70.5,-101.9748C70.5,-95.195 70.5,-84.966 70.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="74.0001,-76.0561 70.5,-66.0561 67.0001,-76.0561 74.0001,-76.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="167.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M167.5,-203.9748C167.5,-197.195 167.5,-186.966 167.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="171.0001,-178.0561 167.5,-168.0561 164.0001,-178.0561 171.0001,-178.0561"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="167.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M167.5,-152.9748C167.5,-146.195 167.5,-135.966 167.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="171.0001,-127.0561 167.5,-117.0561 164.0001,-127.0561 171.0001,-127.0561"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="167.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M167.5,-101.9748C167.5,-95.195 167.5,-84.966 167.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="171.0001,-76.0561 167.5,-66.0561 164.0001,-76.0561 171.0001,-76.0561"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="167.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M167.5,-50.9748C167.5,-44.195 167.5,-33.966 167.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="171.0001,-25.0561 167.5,-15.0561 164.0001,-25.0561 171.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s2">&quot;1 * (2 + 3.35)&quot;</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">peg</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="o">==</span> <span class="n">mystring</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="308pt" height="635pt"
 viewBox="0.00 0.00 308.00 635.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 631)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-631 304,-631 304,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="77.5" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="77.5" y="-564.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M77.5,-611.9748C77.5,-605.195 77.5,-594.966 77.5,-586.1331"/>
<polygon fill="#000000" stroke="#000000" points="81.0001,-586.0561 77.5,-576.0561 74.0001,-586.0561 81.0001,-586.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="77.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M77.5,-560.9748C77.5,-554.195 77.5,-543.966 77.5,-535.1331"/>
<polygon fill="#000000" stroke="#000000" points="81.0001,-535.0561 77.5,-525.0561 74.0001,-535.0561 81.0001,-535.0561"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="27.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M70.1223,-509.9748C62.7369,-502.4417 51.1768,-490.6503 41.958,-481.2472"/>
<polygon fill="#000000" stroke="#000000" points="44.4079,-478.7466 34.9079,-474.0561 39.4094,-483.6471 44.4079,-478.7466"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="77.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 2&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M77.5,-509.9748C77.5,-503.195 77.5,-492.966 77.5,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="81.0001,-484.0561 77.5,-474.0561 74.0001,-484.0561 81.0001,-484.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="124.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M84.435,-509.9748C91.3079,-502.517 102.0269,-490.8857 110.6488,-481.53"/>
<polygon fill="#000000" stroke="#000000" points="113.3334,-483.7816 117.5365,-474.0561 108.1859,-479.0378 113.3334,-483.7816"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="27.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M27.5,-458.9748C27.5,-452.195 27.5,-441.966 27.5,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-433.0561 27.5,-423.0561 24.0001,-433.0561 31.0001,-433.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="27.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M27.5,-407.9748C27.5,-401.195 27.5,-390.966 27.5,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-382.0561 27.5,-372.0561 24.0001,-382.0561 31.0001,-382.0561"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="27.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M27.5,-356.9748C27.5,-350.195 27.5,-339.966 27.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-331.0561 27.5,-321.0561 24.0001,-331.0561 31.0001,-331.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="124.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M124.5,-458.9748C124.5,-452.195 124.5,-441.966 124.5,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="128.0001,-433.0561 124.5,-423.0561 121.0001,-433.0561 128.0001,-433.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="83.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">(</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M118.4503,-407.9748C111.6341,-399.4961 100.4814,-385.6232 92.6104,-375.8324"/>
<polygon fill="#000000" stroke="#000000" points="95.1088,-373.3541 86.1154,-367.7533 89.6531,-377.74 95.1088,-373.3541"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="124.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 9&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>9&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M124.5,-407.9748C124.5,-401.195 124.5,-390.966 124.5,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="128.0001,-382.0561 124.5,-372.0561 121.0001,-382.0561 128.0001,-382.0561"/>
</g>
<!-- 31 -->
<g id="node32" class="node">
<title>31</title>
<text text-anchor="middle" x="165.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">)</text>
</g>
<!-- 9&#45;&gt;31 -->
<g id="edge31" class="edge">
<title>9&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M130.5497,-407.9748C137.3659,-399.4961 148.5186,-385.6232 156.3896,-375.8324"/>
<polygon fill="#000000" stroke="#000000" points="159.3469,-377.74 162.8846,-367.7533 153.8912,-373.3541 159.3469,-377.74"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="76.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M117.4174,-356.9748C110.3983,-349.517 99.4513,-337.8857 90.6459,-328.53"/>
<polygon fill="#000000" stroke="#000000" points="93.014,-325.9393 83.6116,-321.0561 87.9166,-330.7369 93.014,-325.9393"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="124.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 11&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>11&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M124.5,-356.9748C124.5,-350.195 124.5,-339.966 124.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="128.0001,-331.0561 124.5,-321.0561 121.0001,-331.0561 128.0001,-331.0561"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="171.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 11&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>11&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M131.435,-356.9748C138.3079,-349.517 149.0269,-337.8857 157.6488,-328.53"/>
<polygon fill="#000000" stroke="#000000" points="160.3334,-330.7816 164.5365,-321.0561 155.1859,-326.0378 160.3334,-330.7816"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="76.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M76.5,-305.9748C76.5,-299.195 76.5,-288.966 76.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="80.0001,-280.0561 76.5,-270.0561 73.0001,-280.0561 80.0001,-280.0561"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="71.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M75.7622,-254.9748C75.0975,-248.195 74.0947,-237.966 73.2287,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="76.6999,-228.6669 72.2408,-219.0561 69.7333,-229.3499 76.6999,-228.6669"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="60.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M69.8769,-203.9748C68.3984,-197.1196 66.1592,-186.7383 64.2398,-177.8392"/>
<polygon fill="#000000" stroke="#000000" points="67.6595,-177.0934 62.1297,-168.0561 60.8169,-178.5693 67.6595,-177.0934"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="60.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M60.5,-152.9748C60.5,-146.195 60.5,-135.966 60.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="64.0001,-127.0561 60.5,-117.0561 57.0001,-127.0561 64.0001,-127.0561"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="171.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 18&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>18&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M171.5,-305.9748C171.5,-299.195 171.5,-288.966 171.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="175.0001,-280.0561 171.5,-270.0561 168.0001,-280.0561 175.0001,-280.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="174.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M171.9427,-254.9748C172.3415,-248.195 172.9432,-237.966 173.4628,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="176.9622,-229.2444 174.0555,-219.0561 169.9742,-228.8333 176.9622,-229.2444"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="127.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M167.565,-203.9748C160.6921,-196.517 149.9731,-184.8857 141.3512,-175.53"/>
<polygon fill="#000000" stroke="#000000" points="143.8141,-173.0378 134.4635,-168.0561 138.6666,-177.7816 143.8141,-173.0378"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="175.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
</g>
<!-- 20&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>20&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M174.6476,-203.9748C174.7805,-197.195 174.9811,-186.966 175.1543,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="178.655,-178.1228 175.3518,-168.0561 171.6564,-177.9855 178.655,-178.1228"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="223.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 20&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>20&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M181.7301,-203.9748C188.8954,-196.517 200.0706,-184.8857 209.0594,-175.53"/>
<polygon fill="#000000" stroke="#000000" points="211.8358,-177.6921 216.2402,-168.0561 206.7881,-172.8423 211.8358,-177.6921"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="127.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M127.5,-152.9748C127.5,-146.195 127.5,-135.966 127.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="131.0001,-127.0561 127.5,-117.0561 124.0001,-127.0561 131.0001,-127.0561"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="127.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M127.5,-101.9748C127.5,-95.195 127.5,-84.966 127.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="131.0001,-76.0561 127.5,-66.0561 124.0001,-76.0561 131.0001,-76.0561"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<text text-anchor="middle" x="205.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M220.844,-152.9748C218.398,-146.0443 214.6799,-135.5097 211.5164,-126.5464"/>
<polygon fill="#000000" stroke="#000000" points="214.7956,-125.3211 208.1669,-117.0561 208.1947,-127.6509 214.7956,-125.3211"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<text text-anchor="middle" x="272.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 25&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>25&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M230.7301,-152.9748C237.8954,-145.517 249.0706,-133.8857 258.0594,-124.53"/>
<polygon fill="#000000" stroke="#000000" points="260.8358,-126.6921 265.2402,-117.0561 255.7881,-121.8423 260.8358,-126.6921"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<text text-anchor="middle" x="205.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 26&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>26&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M205.5,-101.9748C205.5,-95.195 205.5,-84.966 205.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="209.0001,-76.0561 205.5,-66.0561 202.0001,-76.0561 209.0001,-76.0561"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<text text-anchor="middle" x="272.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 28&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>28&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M272.5,-101.9748C272.5,-95.195 272.5,-84.966 272.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="276.0001,-76.0561 272.5,-66.0561 269.0001,-76.0561 276.0001,-76.0561"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<text text-anchor="middle" x="272.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">5</text>
</g>
<!-- 29&#45;&gt;30 -->
<g id="edge30" class="edge">
<title>29&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M272.5,-50.9748C272.5,-44.195 272.5,-33.966 272.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="276.0001,-25.0561 272.5,-15.0561 269.0001,-25.0561 276.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One should be aware that while the grammar looks like a <em>CFG</em>, the language described by a <em>PEG</em> may be different. Indeed, only <em>LL(1)</em> grammars are guaranteed to represent the same language for both PEGs and other parsers. Behavior of PEGs for other classes of grammars could be surprising [<a href="http://dl.acm.org/citation.cfm?id=2365896.2365924">Redziejowski <em>et al</em>, 2008.</a>].</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We previously showed how using fragments of existing data can help quite a bit with fuzzing. We now explore this idea in more detail.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Recombining-Parsed-Inputs">Recombining Parsed Inputs<a class="anchor-link" href="#Recombining-Parsed-Inputs">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Recombining parsed inputs was pioneered by <em>Langfuzz</em> [<a href="http://dl.acm.org/citation.cfm?id=2362793.2362831">Holler <em>et al</em>, 2012.</a>]. The main challenge is that program inputs often carry additional constraints beyond what is described by the syntax. For example, in Java, one needs to declare a variable (using a specific format for declaration) before it can be used in an expression. This restriction is not captured in the <em>Java CFG</em>. Checking for type correctness is another example for additional restrictions carried by program definitions.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>When fuzzing compilers and interpreters, naive generation of programs using the language <em>CFG</em> often fails to achieve significant deeper coverage due to these kinds of checks external to the grammar. Holler et al. suggests using pre-existing valid code fragments to get around these restrictions. The idea is that the pre-existing valid code fragments already conform to the restrictions external to the grammar, and can often provide a means to evade validity checks.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="A-Grammar-based-Mutational-Fuzzer">A Grammar-based Mutational Fuzzer<a class="anchor-link" href="#A-Grammar-based-Mutational-Fuzzer">&#182;</a></h3><p>The idea is that one can treat the derivation tree of a preexisting program as the scaffolding, poke holes in it, and patch it with generated inputs from our grammar. Given below is a grammar for a language that allows assignment of variables.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/string.html" class="import" target="_blank">string</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn"><a href="Grammars.html" class="import" target="_blank">Grammars</a></span> <span class="k">import</span> <span class="n">crange</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">VAR_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;statements&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;statements&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;statement&gt;;&lt;statements&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;statement&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;statement&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;assignment&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;assignment&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;identifier&gt;=&lt;expr&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;identifier&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;word&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;word&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;alpha&gt;&lt;word&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;alpha&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;alpha&gt;&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">),</span>
    <span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;term&gt;+&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;term&gt;-&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;term&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;term&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;factor&gt;*&lt;term&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;factor&gt;/&lt;term&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;factor&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;factor&gt;&#39;</span><span class="p">:</span>
    <span class="p">[</span><span class="s1">&#39;+&lt;factor&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;-&lt;factor&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;(&lt;expr&gt;)&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;identifier&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;number&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;number&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;integer&gt;.&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;digit&gt;&lt;integer&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">:</span> <span class="n">crange</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 225.0 62" width="225.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M185.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M165.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M165.0 31h0.0"/><rect height="22" width="105.0" x="60.0" y="20"/><text x="112.5" y="35">statements</text></g></g><path d="M165.0 31h20"/></g><path d="M 185.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>statements
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 390.0 92" width="390.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M350.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M330.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M156.5 31h0.0"/><rect height="22" width="96.5" x="60.0" y="20"/><text x="108.25" y="35">statement</text></g><path d="M156.5 31h10"/><path d="M166.5 31h10"/><g class="terminal">
<path d="M176.5 31h0.0"/><path d="M205.0 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="176.5" y="20"/><text x="190.75" y="35">;</text></g><path d="M205.0 31h10"/><path d="M215.0 31h10"/><g class="non-terminal">
<path d="M225.0 31h0.0"/><path d="M330.0 31h0.0"/><rect height="22" width="105.0" x="225.0" y="20"/><text x="277.5" y="35">statements</text></g></g><path d="M330.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h86.75"/><path d="M243.25 61h86.75"/><g class="non-terminal">
<path d="M146.75 61h0.0"/><path d="M243.25 61h0.0"/><rect height="22" width="96.5" x="146.75" y="50"/><text x="195.0" y="65">statement</text></g></g><path d="M330.0 61h20"/></g><path d="M 350.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>statement
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 225.0 62" width="225.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M185.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M165.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M165.0 31h0.0"/><rect height="22" width="105.0" x="60.0" y="20"/><text x="112.5" y="35">assignment</text></g></g><path d="M165.0 31h20"/></g><path d="M 185.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>assignment
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 347.5 62" width="347.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M307.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M287.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M165.0 31h0.0"/><rect height="22" width="105.0" x="60.0" y="20"/><text x="112.5" y="35">identifier</text></g><path d="M165.0 31h10"/><path d="M175.0 31h10"/><g class="terminal">
<path d="M185.0 31h0.0"/><path d="M213.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="185.0" y="20"/><text x="199.25" y="35">=</text></g><path d="M213.5 31h10"/><path d="M223.5 31h10"/><g class="non-terminal">
<path d="M233.5 31h0.0"/><path d="M287.5 31h0.0"/><rect height="22" width="54.0" x="233.5" y="20"/><text x="260.5" y="35">expr</text></g></g><path d="M287.5 31h20"/></g><path d="M 307.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>identifier
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 174.0 62" width="174.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M134.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><rect height="22" width="54.0" x="60.0" y="20"/><text x="87.0" y="35">word</text></g></g><path d="M114.0 31h20"/></g><path d="M 134.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>word
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 256.5 92" width="256.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M216.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M196.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M122.5 31h0.0"/><rect height="22" width="62.5" x="60.0" y="20"/><text x="91.25" y="35">alpha</text></g><path d="M122.5 31h10"/><path d="M132.5 31h10"/><g class="non-terminal">
<path d="M142.5 31h0.0"/><path d="M196.5 31h0.0"/><rect height="22" width="54.0" x="142.5" y="20"/><text x="169.5" y="35">word</text></g></g><path d="M196.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h37.0"/><path d="M159.5 61h37.0"/><g class="non-terminal">
<path d="M97.0 61h0.0"/><path d="M159.5 61h0.0"/><rect height="22" width="62.5" x="97.0" y="50"/><text x="128.25" y="65">alpha</text></g></g><path d="M196.5 61h20"/></g><path d="M 216.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>alpha
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="348" viewBox="0 0 611.0 348" width="611.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 179v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 189h0.0"/><path d="M571.0 189h0.0"/><path d="M40.0 189a10 10 0 0 0 10 -10v-149a10 10 0 0 1 10 -10h412.5"/><path d="M138.5 328h412.5a10 10 0 0 0 10 -10v-119a10 10 0 0 1 10 -10"/><path d="M40.0 189h10"/><g>
<path d="M50.0 189h0.0"/><path d="M118.5 189h0.0"/><path d="M50.0 189a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 159h0.0"/><path d="M98.5 159h0.0"/><g class="terminal">
<path d="M70.0 159h0.0"/><path d="M98.5 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="148"/><text x="84.25" y="163">e</text></g></g><path d="M98.5 159a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M50.0 189a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 129h0.0"/><path d="M98.5 129h0.0"/><g class="terminal">
<path d="M70.0 129h0.0"/><path d="M98.5 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="118"/><text x="84.25" y="133">d</text></g></g><path d="M98.5 129a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M50.0 189a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 99h0.0"/><path d="M98.5 99h0.0"/><g class="terminal">
<path d="M70.0 99h0.0"/><path d="M98.5 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="88"/><text x="84.25" y="103">c</text></g></g><path d="M98.5 99a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M50.0 189a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><g class="terminal">
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="58"/><text x="84.25" y="73">b</text></g></g><path d="M98.5 69a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M50.0 189a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><g class="terminal">
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="28"/><text x="84.25" y="43">a</text></g></g><path d="M98.5 39a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M50.0 189h20"/><g>
<path d="M70.0 189h0.0"/><path d="M98.5 189h0.0"/><g class="terminal">
<path d="M70.0 189h0.0"/><path d="M98.5 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="178"/><text x="84.25" y="193">f</text></g></g><path d="M98.5 189h20"/><path d="M50.0 189a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M70.0 219h0.0"/><path d="M98.5 219h0.0"/><g class="terminal">
<path d="M70.0 219h0.0"/><path d="M98.5 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="208"/><text x="84.25" y="223">g</text></g></g><path d="M98.5 219a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M50.0 189a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M70.0 249h0.0"/><path d="M98.5 249h0.0"/><g class="terminal">
<path d="M70.0 249h0.0"/><path d="M98.5 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="238"/><text x="84.25" y="253">h</text></g></g><path d="M98.5 249a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M50.0 189a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M70.0 279h0.0"/><path d="M98.5 279h0.0"/><g class="terminal">
<path d="M70.0 279h0.0"/><path d="M98.5 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="268"/><text x="84.25" y="283">i</text></g></g><path d="M98.5 279a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M50.0 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M70.0 309h0.0"/><path d="M98.5 309h0.0"/><g class="terminal">
<path d="M70.0 309h0.0"/><path d="M98.5 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="298"/><text x="84.25" y="313">j</text></g></g><path d="M98.5 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/></g><path d="M118.5 189a10 10 0 0 1 10 10v119a10 10 0 0 0 10 10"/><path d="M118.5 20a10 10 0 0 1 10 10v149a10 10 0 0 0 10 10"/><g>
<path d="M138.5 189h0.0"/><path d="M207.0 189h0.0"/><path d="M138.5 189a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 159h0.0"/><path d="M187.0 159h0.0"/><g class="terminal">
<path d="M158.5 159h0.0"/><path d="M187.0 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="148"/><text x="172.75" y="163">o</text></g></g><path d="M187.0 159a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M138.5 189a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 129h0.0"/><path d="M187.0 129h0.0"/><g class="terminal">
<path d="M158.5 129h0.0"/><path d="M187.0 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="118"/><text x="172.75" y="133">n</text></g></g><path d="M187.0 129a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M138.5 189a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 99h0.0"/><path d="M187.0 99h0.0"/><g class="terminal">
<path d="M158.5 99h0.0"/><path d="M187.0 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="88"/><text x="172.75" y="103">m</text></g></g><path d="M187.0 99a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M138.5 189a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><g class="terminal">
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="58"/><text x="172.75" y="73">l</text></g></g><path d="M187.0 69a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M138.5 189a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><g class="terminal">
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="28"/><text x="172.75" y="43">k</text></g></g><path d="M187.0 39a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M138.5 189h20"/><g>
<path d="M158.5 189h0.0"/><path d="M187.0 189h0.0"/><g class="terminal">
<path d="M158.5 189h0.0"/><path d="M187.0 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="178"/><text x="172.75" y="193">p</text></g></g><path d="M187.0 189h20"/><path d="M138.5 189a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M158.5 219h0.0"/><path d="M187.0 219h0.0"/><g class="terminal">
<path d="M158.5 219h0.0"/><path d="M187.0 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="208"/><text x="172.75" y="223">q</text></g></g><path d="M187.0 219a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M138.5 189a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M158.5 249h0.0"/><path d="M187.0 249h0.0"/><g class="terminal">
<path d="M158.5 249h0.0"/><path d="M187.0 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="238"/><text x="172.75" y="253">r</text></g></g><path d="M187.0 249a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M138.5 189a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M158.5 279h0.0"/><path d="M187.0 279h0.0"/><g class="terminal">
<path d="M158.5 279h0.0"/><path d="M187.0 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="268"/><text x="172.75" y="283">s</text></g></g><path d="M187.0 279a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M138.5 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M158.5 309h0.0"/><path d="M187.0 309h0.0"/><g class="terminal">
<path d="M158.5 309h0.0"/><path d="M187.0 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="298"/><text x="172.75" y="313">t</text></g></g><path d="M187.0 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/></g><path d="M207.0 189a10 10 0 0 1 10 10v119a10 10 0 0 0 10 10"/><path d="M207.0 20a10 10 0 0 1 10 10v149a10 10 0 0 0 10 10"/><g>
<path d="M227.0 189h0.0"/><path d="M295.5 189h0.0"/><path d="M227.0 189a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 159h0.0"/><path d="M275.5 159h0.0"/><g class="terminal">
<path d="M247.0 159h0.0"/><path d="M275.5 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="148"/><text x="261.25" y="163">y</text></g></g><path d="M275.5 159a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M227.0 189a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 129h0.0"/><path d="M275.5 129h0.0"/><g class="terminal">
<path d="M247.0 129h0.0"/><path d="M275.5 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="118"/><text x="261.25" y="133">x</text></g></g><path d="M275.5 129a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M227.0 189a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 99h0.0"/><path d="M275.5 99h0.0"/><g class="terminal">
<path d="M247.0 99h0.0"/><path d="M275.5 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="88"/><text x="261.25" y="103">w</text></g></g><path d="M275.5 99a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M227.0 189a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><g class="terminal">
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="58"/><text x="261.25" y="73">v</text></g></g><path d="M275.5 69a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M227.0 189a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><g class="terminal">
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="28"/><text x="261.25" y="43">u</text></g></g><path d="M275.5 39a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M227.0 189h20"/><g>
<path d="M247.0 189h0.0"/><path d="M275.5 189h0.0"/><g class="terminal">
<path d="M247.0 189h0.0"/><path d="M275.5 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="178"/><text x="261.25" y="193">z</text></g></g><path d="M275.5 189h20"/><path d="M227.0 189a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M247.0 219h0.0"/><path d="M275.5 219h0.0"/><g class="terminal">
<path d="M247.0 219h0.0"/><path d="M275.5 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="208"/><text x="261.25" y="223">A</text></g></g><path d="M275.5 219a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M227.0 189a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M247.0 249h0.0"/><path d="M275.5 249h0.0"/><g class="terminal">
<path d="M247.0 249h0.0"/><path d="M275.5 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="238"/><text x="261.25" y="253">B</text></g></g><path d="M275.5 249a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M227.0 189a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M247.0 279h0.0"/><path d="M275.5 279h0.0"/><g class="terminal">
<path d="M247.0 279h0.0"/><path d="M275.5 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="268"/><text x="261.25" y="283">C</text></g></g><path d="M275.5 279a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M227.0 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M247.0 309h0.0"/><path d="M275.5 309h0.0"/><g class="terminal">
<path d="M247.0 309h0.0"/><path d="M275.5 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="298"/><text x="261.25" y="313">D</text></g></g><path d="M275.5 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/></g><path d="M295.5 189a10 10 0 0 1 10 10v119a10 10 0 0 0 10 10"/><path d="M295.5 20a10 10 0 0 1 10 10v149a10 10 0 0 0 10 10"/><g>
<path d="M315.5 189h0.0"/><path d="M384.0 189h0.0"/><path d="M315.5 189a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 159h0.0"/><path d="M364.0 159h0.0"/><g class="terminal">
<path d="M335.5 159h0.0"/><path d="M364.0 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="148"/><text x="349.75" y="163">I</text></g></g><path d="M364.0 159a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M315.5 189a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 129h0.0"/><path d="M364.0 129h0.0"/><g class="terminal">
<path d="M335.5 129h0.0"/><path d="M364.0 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="118"/><text x="349.75" y="133">H</text></g></g><path d="M364.0 129a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M315.5 189a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 99h0.0"/><path d="M364.0 99h0.0"/><g class="terminal">
<path d="M335.5 99h0.0"/><path d="M364.0 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="88"/><text x="349.75" y="103">G</text></g></g><path d="M364.0 99a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M315.5 189a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><g class="terminal">
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="58"/><text x="349.75" y="73">F</text></g></g><path d="M364.0 69a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M315.5 189a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><g class="terminal">
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="28"/><text x="349.75" y="43">E</text></g></g><path d="M364.0 39a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M315.5 189h20"/><g>
<path d="M335.5 189h0.0"/><path d="M364.0 189h0.0"/><g class="terminal">
<path d="M335.5 189h0.0"/><path d="M364.0 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="178"/><text x="349.75" y="193">J</text></g></g><path d="M364.0 189h20"/><path d="M315.5 189a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M335.5 219h0.0"/><path d="M364.0 219h0.0"/><g class="terminal">
<path d="M335.5 219h0.0"/><path d="M364.0 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="208"/><text x="349.75" y="223">K</text></g></g><path d="M364.0 219a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M315.5 189a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M335.5 249h0.0"/><path d="M364.0 249h0.0"/><g class="terminal">
<path d="M335.5 249h0.0"/><path d="M364.0 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="238"/><text x="349.75" y="253">L</text></g></g><path d="M364.0 249a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M315.5 189a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M335.5 279h0.0"/><path d="M364.0 279h0.0"/><g class="terminal">
<path d="M335.5 279h0.0"/><path d="M364.0 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="268"/><text x="349.75" y="283">M</text></g></g><path d="M364.0 279a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M315.5 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M335.5 309h0.0"/><path d="M364.0 309h0.0"/><g class="terminal">
<path d="M335.5 309h0.0"/><path d="M364.0 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="298"/><text x="349.75" y="313">N</text></g></g><path d="M364.0 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/></g><path d="M384.0 189a10 10 0 0 1 10 10v119a10 10 0 0 0 10 10"/><path d="M384.0 20a10 10 0 0 1 10 10v149a10 10 0 0 0 10 10"/><g>
<path d="M404.0 189h0.0"/><path d="M472.5 189h0.0"/><path d="M404.0 189a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 159h0.0"/><path d="M452.5 159h0.0"/><g class="terminal">
<path d="M424.0 159h0.0"/><path d="M452.5 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="148"/><text x="438.25" y="163">S</text></g></g><path d="M452.5 159a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M404.0 189a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 129h0.0"/><path d="M452.5 129h0.0"/><g class="terminal">
<path d="M424.0 129h0.0"/><path d="M452.5 129h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="118"/><text x="438.25" y="133">R</text></g></g><path d="M452.5 129a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M404.0 189a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 99h0.0"/><path d="M452.5 99h0.0"/><g class="terminal">
<path d="M424.0 99h0.0"/><path d="M452.5 99h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="88"/><text x="438.25" y="103">Q</text></g></g><path d="M452.5 99a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><path d="M404.0 189a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><g class="terminal">
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="58"/><text x="438.25" y="73">P</text></g></g><path d="M452.5 69a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><path d="M404.0 189a10 10 0 0 0 10 -10v-130a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><g class="terminal">
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="28"/><text x="438.25" y="43">O</text></g></g><path d="M452.5 39a10 10 0 0 1 10 10v130a10 10 0 0 0 10 10"/><path d="M404.0 189h20"/><g>
<path d="M424.0 189h0.0"/><path d="M452.5 189h0.0"/><g class="terminal">
<path d="M424.0 189h0.0"/><path d="M452.5 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="178"/><text x="438.25" y="193">T</text></g></g><path d="M452.5 189h20"/><path d="M404.0 189a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M424.0 219h0.0"/><path d="M452.5 219h0.0"/><g class="terminal">
<path d="M424.0 219h0.0"/><path d="M452.5 219h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="208"/><text x="438.25" y="223">U</text></g></g><path d="M452.5 219a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M404.0 189a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M424.0 249h0.0"/><path d="M452.5 249h0.0"/><g class="terminal">
<path d="M424.0 249h0.0"/><path d="M452.5 249h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="238"/><text x="438.25" y="253">V</text></g></g><path d="M452.5 249a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><path d="M404.0 189a10 10 0 0 1 10 10v70a10 10 0 0 0 10 10"/><g>
<path d="M424.0 279h0.0"/><path d="M452.5 279h0.0"/><g class="terminal">
<path d="M424.0 279h0.0"/><path d="M452.5 279h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="268"/><text x="438.25" y="283">W</text></g></g><path d="M452.5 279a10 10 0 0 0 10 -10v-70a10 10 0 0 1 10 -10"/><path d="M404.0 189a10 10 0 0 1 10 10v100a10 10 0 0 0 10 10"/><g>
<path d="M424.0 309h0.0"/><path d="M452.5 309h0.0"/><g class="terminal">
<path d="M424.0 309h0.0"/><path d="M452.5 309h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="298"/><text x="438.25" y="313">X</text></g></g><path d="M452.5 309a10 10 0 0 0 10 -10v-100a10 10 0 0 1 10 -10"/></g><path d="M472.5 189a10 10 0 0 1 10 10v119a10 10 0 0 0 10 10"/><path d="M472.5 20a10 10 0 0 1 10 10v149a10 10 0 0 0 10 10"/><g>
<path d="M492.5 189h0.0"/><path d="M561.0 189h0.0"/><path d="M492.5 189a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M512.5 159h0.0"/><path d="M541.0 159h0.0"/><g class="terminal">
<path d="M512.5 159h0.0"/><path d="M541.0 159h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="512.5" y="148"/><text x="526.75" y="163">Y</text></g></g><path d="M541.0 159a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M492.5 189h20"/><g>
<path d="M512.5 189h0.0"/><path d="M541.0 189h0.0"/><g class="terminal">
<path d="M512.5 189h0.0"/><path d="M541.0 189h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="512.5" y="178"/><text x="526.75" y="193">Z</text></g></g><path d="M541.0 189h20"/></g><path d="M561.0 189h10"/></g><path d="M 571.0 189 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>expr
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="122" viewBox="0 0 296.5 122" width="296.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M256.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M236.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><rect height="22" width="54.0" x="60.0" y="20"/><text x="87.0" y="35">term</text></g><path d="M114.0 31h10"/><path d="M124.0 31h10"/><g class="terminal">
<path d="M134.0 31h0.0"/><path d="M162.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="134.0" y="20"/><text x="148.25" y="35">+</text></g><path d="M162.5 31h10"/><path d="M172.5 31h10"/><g class="non-terminal">
<path d="M182.5 31h0.0"/><path d="M236.5 31h0.0"/><rect height="22" width="54.0" x="182.5" y="20"/><text x="209.5" y="35">expr</text></g></g><path d="M236.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h0.0"/><path d="M236.5 61h0.0"/><g class="non-terminal">
<path d="M60.0 61h0.0"/><path d="M114.0 61h0.0"/><rect height="22" width="54.0" x="60.0" y="50"/><text x="87.0" y="65">term</text></g><path d="M114.0 61h10"/><path d="M124.0 61h10"/><g class="terminal">
<path d="M134.0 61h0.0"/><path d="M162.5 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="134.0" y="50"/><text x="148.25" y="65">-</text></g><path d="M162.5 61h10"/><path d="M172.5 61h10"/><g class="non-terminal">
<path d="M182.5 61h0.0"/><path d="M236.5 61h0.0"/><rect height="22" width="54.0" x="182.5" y="50"/><text x="209.5" y="65">expr</text></g></g><path d="M236.5 61h20"/><path d="M40.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M60.0 91h61.25"/><path d="M175.25 91h61.25"/><g class="non-terminal">
<path d="M121.25 91h0.0"/><path d="M175.25 91h0.0"/><rect height="22" width="54.0" x="121.25" y="80"/><text x="148.25" y="95">term</text></g></g><path d="M236.5 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/></g><path d="M 256.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>term
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="122" viewBox="0 0 313.5 122" width="313.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M273.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M253.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M131.0 31h0.0"/><rect height="22" width="71.0" x="60.0" y="20"/><text x="95.5" y="35">factor</text></g><path d="M131.0 31h10"/><path d="M141.0 31h10"/><g class="terminal">
<path d="M151.0 31h0.0"/><path d="M179.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="151.0" y="20"/><text x="165.25" y="35">*</text></g><path d="M179.5 31h10"/><path d="M189.5 31h10"/><g class="non-terminal">
<path d="M199.5 31h0.0"/><path d="M253.5 31h0.0"/><rect height="22" width="54.0" x="199.5" y="20"/><text x="226.5" y="35">term</text></g></g><path d="M253.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h0.0"/><path d="M253.5 61h0.0"/><g class="non-terminal">
<path d="M60.0 61h0.0"/><path d="M131.0 61h0.0"/><rect height="22" width="71.0" x="60.0" y="50"/><text x="95.5" y="65">factor</text></g><path d="M131.0 61h10"/><path d="M141.0 61h10"/><g class="terminal">
<path d="M151.0 61h0.0"/><path d="M179.5 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="151.0" y="50"/><text x="165.25" y="65">/</text></g><path d="M179.5 61h10"/><path d="M189.5 61h10"/><g class="non-terminal">
<path d="M199.5 61h0.0"/><path d="M253.5 61h0.0"/><rect height="22" width="54.0" x="199.5" y="50"/><text x="226.5" y="65">term</text></g></g><path d="M253.5 61h20"/><path d="M40.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M60.0 91h61.25"/><path d="M192.25 91h61.25"/><g class="non-terminal">
<path d="M121.25 91h0.0"/><path d="M192.25 91h0.0"/><rect height="22" width="71.0" x="121.25" y="80"/><text x="156.75" y="95">factor</text></g></g><path d="M253.5 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/></g><path d="M 273.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>factor
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="182" viewBox="0 0 271.0 182" width="271.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 81v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 91h0.0"/><path d="M231.0 91h0.0"/><path d="M40.0 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 61h15.75"/><path d="M195.25 61h15.75"/><g class="terminal">
<path d="M75.75 61h0.0"/><path d="M104.25 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="75.75" y="50"/><text x="90.0" y="65">-</text></g><path d="M104.25 61h10"/><path d="M114.25 61h10"/><g class="non-terminal">
<path d="M124.25 61h0.0"/><path d="M195.25 61h0.0"/><rect height="22" width="71.0" x="124.25" y="50"/><text x="159.75" y="65">factor</text></g></g><path d="M211.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 91a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h15.75"/><path d="M195.25 31h15.75"/><g class="terminal">
<path d="M75.75 31h0.0"/><path d="M104.25 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="75.75" y="20"/><text x="90.0" y="35">+</text></g><path d="M104.25 31h10"/><path d="M114.25 31h10"/><g class="non-terminal">
<path d="M124.25 31h0.0"/><path d="M195.25 31h0.0"/><rect height="22" width="71.0" x="124.25" y="20"/><text x="159.75" y="35">factor</text></g></g><path d="M211.0 31a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M40.0 91h20"/><g>
<path d="M60.0 91h0.0"/><path d="M211.0 91h0.0"/><g class="terminal">
<path d="M60.0 91h0.0"/><path d="M88.5 91h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="80"/><text x="74.25" y="95">(</text></g><path d="M88.5 91h10"/><path d="M98.5 91h10"/><g class="non-terminal">
<path d="M108.5 91h0.0"/><path d="M162.5 91h0.0"/><rect height="22" width="54.0" x="108.5" y="80"/><text x="135.5" y="95">expr</text></g><path d="M162.5 91h10"/><path d="M172.5 91h10"/><g class="terminal">
<path d="M182.5 91h0.0"/><path d="M211.0 91h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="182.5" y="80"/><text x="196.75" y="95">)</text></g></g><path d="M211.0 91h20"/><path d="M40.0 91a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M60.0 121h23.0"/><path d="M188.0 121h23.0"/><g class="non-terminal">
<path d="M83.0 121h0.0"/><path d="M188.0 121h0.0"/><rect height="22" width="105.0" x="83.0" y="110"/><text x="135.5" y="125">identifier</text></g></g><path d="M211.0 121a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><path d="M40.0 91a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><g>
<path d="M60.0 151h40.0"/><path d="M171.0 151h40.0"/><g class="non-terminal">
<path d="M100.0 151h0.0"/><path d="M171.0 151h0.0"/><rect height="22" width="71.0" x="100.0" y="140"/><text x="135.5" y="155">number</text></g></g><path d="M211.0 151a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/></g><path d="M 231.0 91 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>number
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 347.5 92" width="347.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M307.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M287.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><rect height="22" width="79.5" x="60.0" y="20"/><text x="99.75" y="35">integer</text></g><path d="M139.5 31h10"/><path d="M149.5 31h10"/><g class="terminal">
<path d="M159.5 31h0.0"/><path d="M188.0 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="159.5" y="20"/><text x="173.75" y="35">.</text></g><path d="M188.0 31h10"/><path d="M198.0 31h10"/><g class="non-terminal">
<path d="M208.0 31h0.0"/><path d="M287.5 31h0.0"/><rect height="22" width="79.5" x="208.0" y="20"/><text x="247.75" y="35">integer</text></g></g><path d="M287.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h74.0"/><path d="M213.5 61h74.0"/><g class="non-terminal">
<path d="M134.0 61h0.0"/><path d="M213.5 61h0.0"/><rect height="22" width="79.5" x="134.0" y="50"/><text x="173.75" y="65">integer</text></g></g><path d="M287.5 61h20"/></g><path d="M 307.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>integer
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 282.0 92" width="282.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M242.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M222.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M122.5 31h0.0"/><rect height="22" width="62.5" x="60.0" y="20"/><text x="91.25" y="35">digit</text></g><path d="M122.5 31h10"/><path d="M132.5 31h10"/><g class="non-terminal">
<path d="M142.5 31h0.0"/><path d="M222.0 31h0.0"/><rect height="22" width="79.5" x="142.5" y="20"/><text x="182.25" y="35">integer</text></g></g><path d="M222.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h49.75"/><path d="M172.25 61h49.75"/><g class="non-terminal">
<path d="M109.75 61h0.0"/><path d="M172.25 61h0.0"/><rect height="22" width="62.5" x="109.75" y="50"/><text x="141.0" y="65">digit</text></g></g><path d="M222.0 61h20"/></g><path d="M 242.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>digit
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="109" viewBox="0 0 522.5 109" width="522.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 59v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 69h0.0"/><path d="M482.5 69h0.0"/><path d="M40.0 69a10 10 0 0 0 10 -10v-29a10 10 0 0 1 10 -10h324.0"/><path d="M138.5 89h324.0a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"/><path d="M40.0 69h10"/><g>
<path d="M50.0 69h0.0"/><path d="M118.5 69h0.0"/><path d="M50.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><g class="terminal">
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="28"/><text x="84.25" y="43">0</text></g></g><path d="M98.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M50.0 69h20"/><g>
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><g class="terminal">
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="58"/><text x="84.25" y="73">1</text></g></g><path d="M98.5 69h20"/></g><path d="M118.5 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M118.5 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M138.5 69h0.0"/><path d="M207.0 69h0.0"/><path d="M138.5 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><g class="terminal">
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="28"/><text x="172.75" y="43">2</text></g></g><path d="M187.0 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M138.5 69h20"/><g>
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><g class="terminal">
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="58"/><text x="172.75" y="73">3</text></g></g><path d="M187.0 69h20"/></g><path d="M207.0 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M207.0 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M227.0 69h0.0"/><path d="M295.5 69h0.0"/><path d="M227.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><g class="terminal">
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="28"/><text x="261.25" y="43">4</text></g></g><path d="M275.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M227.0 69h20"/><g>
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><g class="terminal">
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="58"/><text x="261.25" y="73">5</text></g></g><path d="M275.5 69h20"/></g><path d="M295.5 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M295.5 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M315.5 69h0.0"/><path d="M384.0 69h0.0"/><path d="M315.5 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><g class="terminal">
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="28"/><text x="349.75" y="43">6</text></g></g><path d="M364.0 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M315.5 69h20"/><g>
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><g class="terminal">
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="58"/><text x="349.75" y="73">7</text></g></g><path d="M364.0 69h20"/></g><path d="M384.0 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M384.0 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M404.0 69h0.0"/><path d="M472.5 69h0.0"/><path d="M404.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><g class="terminal">
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="28"/><text x="438.25" y="43">8</text></g></g><path d="M452.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M404.0 69h20"/><g>
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><g class="terminal">
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="58"/><text x="438.25" y="73">9</text></g></g><path d="M452.5 69h20"/></g><path d="M472.5 69h10"/></g><path d="M 482.5 69 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us use our new grammar to parse a program.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;va=10;vb=20&#39;</span>
<span class="n">hl_predicate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">_d</span><span class="p">,</span><span class="n">_n</span><span class="p">,</span><span class="n">symbol</span><span class="p">,</span><span class="n">_a</span><span class="p">:</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="p">{</span><span class="s1">&#39;&lt;number&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;identifier&gt;&#39;</span><span class="p">}</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">PEGParser</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node_attr</span><span class="o">=</span><span class="n">highlight_node</span><span class="p">(</span><span class="n">hl_predicate</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="437pt" height="635pt"
 viewBox="0.00 0.00 437.00 635.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 631)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-631 433,-631 433,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="190.5" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="190.5" y="-564.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M190.5,-611.9748C190.5,-605.195 190.5,-594.966 190.5,-586.1331"/>
<polygon fill="#000000" stroke="#000000" points="194.0001,-586.0561 190.5,-576.0561 187.0001,-586.0561 194.0001,-586.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="133.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M182.0895,-560.9748C173.5859,-553.3663 160.2275,-541.4141 149.6677,-531.9658"/>
<polygon fill="#000000" stroke="#000000" points="151.7313,-529.1157 141.9451,-525.0561 147.0637,-534.3324 151.7313,-529.1157"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="190.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">;</text>
</g>
<!-- 1&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>1&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M190.5,-560.9748C190.5,-554.195 190.5,-543.966 190.5,-535.1331"/>
<polygon fill="#000000" stroke="#000000" points="194.0001,-535.0561 190.5,-525.0561 187.0001,-535.0561 194.0001,-535.0561"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="249.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 1&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>1&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M199.2057,-560.9748C208.0947,-553.291 222.109,-541.177 233.0889,-531.6859"/>
<polygon fill="#000000" stroke="#000000" points="235.4821,-534.2435 240.7586,-525.0561 230.9044,-528.9478 235.4821,-534.2435"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="129.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;assignment&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M132.9098,-509.9748C132.378,-503.195 131.5758,-492.966 130.883,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="134.3639,-483.7518 130.0926,-474.0561 127.3854,-484.2992 134.3639,-483.7518"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="73.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;identifier&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M121.237,-458.9748C112.8826,-451.3663 99.7586,-439.4141 89.384,-429.9658"/>
<polygon fill="#000000" stroke="#000000" points="91.547,-427.2017 81.7969,-423.0561 86.8337,-432.3771 91.547,-427.2017"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="129.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 3&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>3&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M129.5,-458.9748C129.5,-452.195 129.5,-441.966 129.5,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="133.0001,-433.0561 129.5,-423.0561 126.0001,-433.0561 133.0001,-433.0561"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="172.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 3&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>3&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M135.8448,-458.9748C142.0692,-451.5923 151.7417,-440.1203 159.5881,-430.8142"/>
<polygon fill="#000000" stroke="#000000" points="162.359,-432.9574 166.1292,-423.0561 157.0073,-428.4452 162.359,-432.9574"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="73.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;word&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M73.5,-407.9748C73.5,-401.195 73.5,-390.966 73.5,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="77.0001,-382.0561 73.5,-372.0561 70.0001,-382.0561 77.0001,-382.0561"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="23.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;alpha&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M66.1223,-356.9748C58.7369,-349.4417 47.1768,-337.6503 37.958,-328.2472"/>
<polygon fill="#000000" stroke="#000000" points="40.4079,-325.7466 30.9079,-321.0561 35.4094,-330.6471 40.4079,-325.7466"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="87.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;word&gt;</text>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>5&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M75.5657,-356.9748C77.4476,-350.1196 80.2973,-339.7383 82.7402,-330.8392"/>
<polygon fill="#000000" stroke="#000000" points="86.1537,-331.6259 85.4258,-321.0561 79.4034,-329.7728 86.1537,-331.6259"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="23.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">v</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M23.5,-305.9748C23.5,-299.195 23.5,-288.966 23.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="27.0001,-280.0561 23.5,-270.0561 20.0001,-280.0561 27.0001,-280.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="87.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;alpha&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M87.5,-305.9748C87.5,-299.195 87.5,-288.966 87.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="91.0001,-280.0561 87.5,-270.0561 84.0001,-280.0561 91.0001,-280.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="87.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M87.5,-254.9748C87.5,-248.195 87.5,-237.966 87.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="91.0001,-229.0561 87.5,-219.0561 84.0001,-229.0561 91.0001,-229.0561"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="168.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M171.9098,-407.9748C171.378,-401.195 170.5758,-390.966 169.883,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="173.3639,-381.7518 169.0926,-372.0561 166.3854,-382.2992 173.3639,-381.7518"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="166.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M168.2049,-356.9748C167.939,-350.195 167.5379,-339.966 167.1915,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="170.6856,-330.9112 166.7963,-321.0561 163.691,-331.1856 170.6856,-330.9112"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="164.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;number&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M166.2049,-305.9748C165.939,-299.195 165.5379,-288.966 165.1915,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="168.6856,-279.9112 164.7963,-270.0561 161.691,-280.1856 168.6856,-279.9112"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="164.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M164.5,-254.9748C164.5,-248.195 164.5,-237.966 164.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="168.0001,-229.0561 164.5,-219.0561 161.0001,-229.0561 168.0001,-229.0561"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="131.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M159.6307,-203.9748C155.0001,-196.8183 147.8828,-185.8188 141.966,-176.6747"/>
<polygon fill="#000000" stroke="#000000" points="144.7603,-174.5504 136.3892,-168.0561 138.8833,-178.3532 144.7603,-174.5504"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="198.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 16&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>16&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M169.5168,-203.9748C174.338,-196.743 181.7754,-185.5868 187.9089,-176.3866"/>
<polygon fill="#000000" stroke="#000000" points="190.8277,-178.3181 193.4626,-168.0561 185.0034,-174.4352 190.8277,-178.3181"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="131.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 17&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>17&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M131.5,-152.9748C131.5,-146.195 131.5,-135.966 131.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="135.0001,-127.0561 131.5,-117.0561 128.0001,-127.0561 135.0001,-127.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="198.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M198.5,-152.9748C198.5,-146.195 198.5,-135.966 198.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="202.0001,-127.0561 198.5,-117.0561 195.0001,-127.0561 202.0001,-127.0561"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="198.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">0</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M198.5,-101.9748C198.5,-95.195 198.5,-84.966 198.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="202.0001,-76.0561 198.5,-66.0561 195.0001,-76.0561 202.0001,-76.0561"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="255.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 23&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>23&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M250.3853,-509.9748C251.1829,-503.195 252.3864,-492.966 253.4255,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="256.9186,-484.3966 254.611,-474.0561 249.9665,-483.5786 256.9186,-484.3966"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="261.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;assignment&gt;</text>
</g>
<!-- 24&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>24&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M256.3853,-458.9748C257.1829,-452.195 258.3864,-441.966 259.4255,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="262.9186,-433.3966 260.611,-423.0561 255.9665,-432.5786 262.9186,-433.3966"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<text text-anchor="middle" x="248.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;identifier&gt;</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M259.5818,-407.9748C257.8344,-401.1196 255.1882,-390.7383 252.9198,-381.8392"/>
<polygon fill="#000000" stroke="#000000" points="256.2877,-380.8817 250.4261,-372.0561 249.5046,-382.6108 256.2877,-380.8817"/>
</g>
<!-- 33 -->
<g id="node34" class="node">
<title>33</title>
<text text-anchor="middle" x="304.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 25&#45;&gt;33 -->
<g id="edge33" class="edge">
<title>25&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M267.8448,-407.9748C274.7131,-399.8286 285.7798,-386.703 293.9587,-377.0025"/>
<polygon fill="#000000" stroke="#000000" points="296.6845,-379.1993 300.4547,-369.298 291.3328,-374.6871 296.6845,-379.1993"/>
</g>
<!-- 34 -->
<g id="node35" class="node">
<title>34</title>
<text text-anchor="middle" x="350.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 25&#45;&gt;34 -->
<g id="edge34" class="edge">
<title>25&#45;&gt;34</title>
<path fill="none" stroke="#000000" d="M274.6323,-407.9748C288.83,-399.839 311.6952,-386.7365 328.6171,-377.0397"/>
<polygon fill="#000000" stroke="#000000" points="330.3776,-380.0648 337.3139,-372.0561 326.8972,-373.9913 330.3776,-380.0648"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<text text-anchor="middle" x="248.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;word&gt;</text>
</g>
<!-- 26&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>26&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M248.5,-356.9748C248.5,-350.195 248.5,-339.966 248.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="252.0001,-331.0561 248.5,-321.0561 245.0001,-331.0561 252.0001,-331.0561"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<text text-anchor="middle" x="235.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;alpha&gt;</text>
</g>
<!-- 27&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>27&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M246.5818,-305.9748C244.8344,-299.1196 242.1882,-288.7383 239.9198,-279.8392"/>
<polygon fill="#000000" stroke="#000000" points="243.2877,-278.8817 237.4261,-270.0561 236.5046,-280.6108 243.2877,-278.8817"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<text text-anchor="middle" x="299.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;word&gt;</text>
</g>
<!-- 27&#45;&gt;30 -->
<g id="edge30" class="edge">
<title>27&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M256.0252,-305.9748C263.5583,-298.4417 275.3497,-286.6503 284.7528,-277.2472"/>
<polygon fill="#000000" stroke="#000000" points="287.3477,-279.6021 291.9439,-270.0561 282.3979,-274.6523 287.3477,-279.6021"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<text text-anchor="middle" x="235.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">v</text>
</g>
<!-- 28&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>28&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M235.5,-254.9748C235.5,-248.195 235.5,-237.966 235.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="239.0001,-229.0561 235.5,-219.0561 232.0001,-229.0561 239.0001,-229.0561"/>
</g>
<!-- 31 -->
<g id="node32" class="node">
<title>31</title>
<text text-anchor="middle" x="297.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;alpha&gt;</text>
</g>
<!-- 30&#45;&gt;31 -->
<g id="edge31" class="edge">
<title>30&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M299.2049,-254.9748C298.939,-248.195 298.5379,-237.966 298.1915,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="301.6856,-228.9112 297.7963,-219.0561 294.691,-229.1856 301.6856,-228.9112"/>
</g>
<!-- 32 -->
<g id="node33" class="node">
<title>32</title>
<text text-anchor="middle" x="297.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</g>
<!-- 31&#45;&gt;32 -->
<g id="edge32" class="edge">
<title>31&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M297.5,-203.9748C297.5,-197.195 297.5,-186.966 297.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="301.0001,-178.0561 297.5,-168.0561 294.0001,-178.0561 301.0001,-178.0561"/>
</g>
<!-- 35 -->
<g id="node36" class="node">
<title>35</title>
<text text-anchor="middle" x="364.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 34&#45;&gt;35 -->
<g id="edge35" class="edge">
<title>34&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M352.5657,-356.9748C354.4476,-350.1196 357.2973,-339.7383 359.7402,-330.8392"/>
<polygon fill="#000000" stroke="#000000" points="363.1537,-331.6259 362.4258,-321.0561 356.4034,-329.7728 363.1537,-331.6259"/>
</g>
<!-- 36 -->
<g id="node37" class="node">
<title>36</title>
<text text-anchor="middle" x="367.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 35&#45;&gt;36 -->
<g id="edge36" class="edge">
<title>35&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M364.9427,-305.9748C365.3415,-299.195 365.9432,-288.966 366.4628,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="369.9622,-280.2444 367.0555,-270.0561 362.9742,-279.8333 369.9622,-280.2444"/>
</g>
<!-- 37 -->
<g id="node38" class="node">
<title>37</title>
<text text-anchor="middle" x="368.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;number&gt;</text>
</g>
<!-- 36&#45;&gt;37 -->
<g id="edge37" class="edge">
<title>36&#45;&gt;37</title>
<path fill="none" stroke="#000000" d="M367.6476,-254.9748C367.7805,-248.195 367.9811,-237.966 368.1543,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="371.655,-229.1228 368.3518,-219.0561 364.6564,-228.9855 371.655,-229.1228"/>
</g>
<!-- 38 -->
<g id="node39" class="node">
<title>38</title>
<text text-anchor="middle" x="368.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 37&#45;&gt;38 -->
<g id="edge38" class="edge">
<title>37&#45;&gt;38</title>
<path fill="none" stroke="#000000" d="M368.5,-203.9748C368.5,-197.195 368.5,-186.966 368.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="372.0001,-178.0561 368.5,-168.0561 365.0001,-178.0561 372.0001,-178.0561"/>
</g>
<!-- 39 -->
<g id="node40" class="node">
<title>39</title>
<text text-anchor="middle" x="334.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 38&#45;&gt;39 -->
<g id="edge39" class="edge">
<title>38&#45;&gt;39</title>
<path fill="none" stroke="#000000" d="M363.4832,-152.9748C358.662,-145.743 351.2246,-134.5868 345.0911,-125.3866"/>
<polygon fill="#000000" stroke="#000000" points="347.9966,-123.4352 339.5374,-117.0561 342.1723,-127.3181 347.9966,-123.4352"/>
</g>
<!-- 41 -->
<g id="node42" class="node">
<title>41</title>
<text text-anchor="middle" x="401.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 38&#45;&gt;41 -->
<g id="edge41" class="edge">
<title>38&#45;&gt;41</title>
<path fill="none" stroke="#000000" d="M373.3693,-152.9748C377.9999,-145.8183 385.1172,-134.8188 391.034,-125.6747"/>
<polygon fill="#000000" stroke="#000000" points="394.1167,-127.3532 396.6108,-117.0561 388.2397,-123.5504 394.1167,-127.3532"/>
</g>
<!-- 40 -->
<g id="node41" class="node">
<title>40</title>
<text text-anchor="middle" x="334.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 39&#45;&gt;40 -->
<g id="edge40" class="edge">
<title>39&#45;&gt;40</title>
<path fill="none" stroke="#000000" d="M334.5,-101.9748C334.5,-95.195 334.5,-84.966 334.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="338.0001,-76.0561 334.5,-66.0561 331.0001,-76.0561 338.0001,-76.0561"/>
</g>
<!-- 42 -->
<g id="node43" class="node">
<title>42</title>
<text text-anchor="middle" x="401.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 41&#45;&gt;42 -->
<g id="edge42" class="edge">
<title>41&#45;&gt;42</title>
<path fill="none" stroke="#000000" d="M401.5,-101.9748C401.5,-95.195 401.5,-84.966 401.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="405.0001,-76.0561 401.5,-66.0561 398.0001,-76.0561 405.0001,-76.0561"/>
</g>
<!-- 43 -->
<g id="node44" class="node">
<title>43</title>
<text text-anchor="middle" x="401.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">0</text>
</g>
<!-- 42&#45;&gt;43 -->
<g id="edge43" class="edge">
<title>42&#45;&gt;43</title>
<path fill="none" stroke="#000000" d="M401.5,-50.9748C401.5,-44.195 401.5,-33.966 401.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="405.0001,-25.0561 401.5,-15.0561 398.0001,-25.0561 405.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As can be seen from the above example, our grammar is rather detailed. So we need to define our token nodes, which correspond to the <em>red</em> nodes above.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">VAR_TOKENS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;&lt;number&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;identifier&gt;&#39;</span><span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>These tokens are pruned using the <code>prune_tree</code> method that we mentioned previously.
Here is a slightly more complex program to parse, but with the tree pruned using tokens:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;avar=1.3;bvar=avar-3*(4+300)&#39;</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">PEGParser</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">,</span> <span class="n">tokens</span><span class="o">=</span><span class="n">VAR_TOKENS</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node_attr</span><span class="o">=</span><span class="n">highlight_node</span><span class="p">(</span><span class="n">hl_predicate</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="469pt" height="788pt"
 viewBox="0.00 0.00 469.00 788.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 784)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-784 465,-784 465,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="150.5" y="-768.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="150.5" y="-717.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M150.5,-764.9748C150.5,-758.195 150.5,-747.966 150.5,-739.1331"/>
<polygon fill="#000000" stroke="#000000" points="154.0001,-739.0561 150.5,-729.0561 147.0001,-739.0561 154.0001,-739.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="93.5" y="-666.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M142.0895,-713.9748C133.5859,-706.3663 120.2275,-694.4141 109.6677,-684.9658"/>
<polygon fill="#000000" stroke="#000000" points="111.7313,-682.1157 101.9451,-678.0561 107.0637,-687.3324 111.7313,-682.1157"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="150.5" y="-666.8" font-family="Times,serif" font-size="14.00" fill="#000000">;</text>
</g>
<!-- 1&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>1&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M150.5,-713.9748C150.5,-707.195 150.5,-696.966 150.5,-688.1331"/>
<polygon fill="#000000" stroke="#000000" points="154.0001,-688.0561 150.5,-678.0561 147.0001,-688.0561 154.0001,-688.0561"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="209.5" y="-666.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M159.2057,-713.9748C168.0947,-706.291 182.109,-694.177 193.0889,-684.6859"/>
<polygon fill="#000000" stroke="#000000" points="195.4821,-687.2435 200.7586,-678.0561 190.9044,-681.9478 195.4821,-687.2435"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="89.5" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;assignment&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M92.9098,-662.9748C92.378,-656.195 91.5758,-645.966 90.883,-637.1331"/>
<polygon fill="#000000" stroke="#000000" points="94.3639,-636.7518 90.0926,-627.0561 87.3854,-637.2992 94.3639,-636.7518"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="33.5" y="-564.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;identifier&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M81.237,-611.9748C72.8826,-604.3663 59.7586,-592.4141 49.384,-582.9658"/>
<polygon fill="#000000" stroke="#000000" points="51.547,-580.2017 41.7969,-576.0561 46.8337,-585.3771 51.547,-580.2017"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="89.5" y="-564.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 3&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M89.5,-611.9748C89.5,-605.195 89.5,-594.966 89.5,-586.1331"/>
<polygon fill="#000000" stroke="#000000" points="93.0001,-586.0561 89.5,-576.0561 86.0001,-586.0561 93.0001,-586.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="132.5" y="-564.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 3&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M95.8448,-611.9748C102.0692,-604.5923 111.7417,-593.1203 119.5881,-583.8142"/>
<polygon fill="#000000" stroke="#000000" points="122.359,-585.9574 126.1292,-576.0561 117.0073,-581.4452 122.359,-585.9574"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="33.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">avar</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M33.5,-560.9748C33.5,-554.195 33.5,-543.966 33.5,-535.1331"/>
<polygon fill="#000000" stroke="#000000" points="37.0001,-535.0561 33.5,-525.0561 30.0001,-535.0561 37.0001,-535.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="108.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M128.9587,-560.9748C125.6619,-553.969 120.6319,-543.2803 116.3845,-534.2547"/>
<polygon fill="#000000" stroke="#000000" points="119.4807,-532.614 112.0558,-525.0561 113.147,-535.5946 119.4807,-532.614"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="108.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M108.5,-509.9748C108.5,-503.195 108.5,-492.966 108.5,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="112.0001,-484.0561 108.5,-474.0561 105.0001,-484.0561 112.0001,-484.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="108.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;number&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M108.5,-458.9748C108.5,-452.195 108.5,-441.966 108.5,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="112.0001,-433.0561 108.5,-423.0561 105.0001,-433.0561 112.0001,-433.0561"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="108.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">1.3</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M108.5,-407.9748C108.5,-401.195 108.5,-390.966 108.5,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="112.0001,-382.0561 108.5,-372.0561 105.0001,-382.0561 112.0001,-382.0561"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="210.5" y="-615.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M209.6476,-662.9748C209.7805,-656.195 209.9811,-645.966 210.1543,-637.1331"/>
<polygon fill="#000000" stroke="#000000" points="213.655,-637.1228 210.3518,-627.0561 206.6564,-636.9855 213.655,-637.1228"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="212.5" y="-564.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;assignment&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M210.7951,-611.9748C211.061,-605.195 211.4621,-594.966 211.8085,-586.1331"/>
<polygon fill="#000000" stroke="#000000" points="215.309,-586.1856 212.2037,-576.0561 208.3144,-585.9112 215.309,-586.1856"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="181.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;identifier&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M207.9258,-560.9748C203.5758,-553.8183 196.8899,-542.8188 191.3317,-533.6747"/>
<polygon fill="#000000" stroke="#000000" points="194.278,-531.7834 186.0929,-525.0561 188.2963,-535.4193 194.278,-531.7834"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="237.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 15&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>15&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M216.1888,-560.9748C219.6231,-553.969 224.8626,-543.2803 229.2869,-534.2547"/>
<polygon fill="#000000" stroke="#000000" points="232.5371,-535.5759 233.796,-525.0561 226.2517,-532.4947 232.5371,-535.5759"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="280.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 15&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>15&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M222.5336,-560.9748C232.9796,-553.1403 249.5664,-540.7002 262.3258,-531.1307"/>
<polygon fill="#000000" stroke="#000000" points="264.5252,-533.8561 270.4252,-525.0561 260.3252,-528.2561 264.5252,-533.8561"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="181.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">bvar</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M181.5,-509.9748C181.5,-503.195 181.5,-492.966 181.5,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="185.0001,-484.0561 181.5,-474.0561 178.0001,-484.0561 185.0001,-484.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="236.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M274.0076,-509.9748C267.6385,-502.5923 257.741,-491.1203 249.7122,-481.8142"/>
<polygon fill="#000000" stroke="#000000" points="252.2014,-479.3414 243.019,-474.0561 246.9013,-483.914 252.2014,-479.3414"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="280.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&#45;</text>
</g>
<!-- 19&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>19&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M280.5,-509.9748C280.5,-503.195 280.5,-492.966 280.5,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="284.0001,-484.0561 280.5,-474.0561 277.0001,-484.0561 284.0001,-484.0561"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="340.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 19&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>19&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M289.3532,-509.9748C298.3929,-502.291 312.6447,-490.177 323.8107,-480.6859"/>
<polygon fill="#000000" stroke="#000000" points="326.2578,-483.1994 331.6105,-474.0561 321.7243,-477.8658 326.2578,-483.1994"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="231.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M235.7622,-458.9748C235.0975,-452.195 234.0947,-441.966 233.2287,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="236.6999,-432.6669 232.2408,-423.0561 229.7333,-433.3499 236.6999,-432.6669"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="222.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;identifier&gt;</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M230.172,-407.9748C228.9756,-401.195 227.1705,-390.966 225.6117,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="229.0181,-381.2957 223.8334,-372.0561 222.1246,-382.5122 229.0181,-381.2957"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="222.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">avar</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M222.5,-356.9748C222.5,-350.195 222.5,-339.966 222.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="226.0001,-331.0561 222.5,-321.0561 219.0001,-331.0561 226.0001,-331.0561"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<text text-anchor="middle" x="342.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M340.7951,-458.9748C341.061,-452.195 341.4621,-441.966 341.8085,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="345.309,-433.1856 342.2037,-423.0561 338.3144,-432.9112 345.309,-433.1856"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<text text-anchor="middle" x="298.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 26&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>26&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M336.0076,-407.9748C329.6385,-400.5923 319.741,-389.1203 311.7122,-379.8142"/>
<polygon fill="#000000" stroke="#000000" points="314.2014,-377.3414 305.019,-372.0561 308.9013,-381.914 314.2014,-377.3414"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<text text-anchor="middle" x="345.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">*</text>
</g>
<!-- 26&#45;&gt;30 -->
<g id="edge30" class="edge">
<title>26&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M342.9427,-407.9748C343.3415,-401.195 343.9432,-390.966 344.4628,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="347.9622,-382.2444 345.0555,-372.0561 340.9742,-381.8333 347.9622,-382.2444"/>
</g>
<!-- 31 -->
<g id="node32" class="node">
<title>31</title>
<text text-anchor="middle" x="388.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 26&#45;&gt;31 -->
<g id="edge31" class="edge">
<title>26&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M349.2875,-407.9748C356.0141,-400.517 366.505,-388.8857 374.9436,-379.53"/>
<polygon fill="#000000" stroke="#000000" points="377.586,-381.826 381.6847,-372.0561 372.388,-377.1376 377.586,-381.826"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<text text-anchor="middle" x="298.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;number&gt;</text>
</g>
<!-- 27&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>27&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M298.5,-356.9748C298.5,-350.195 298.5,-339.966 298.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="302.0001,-331.0561 298.5,-321.0561 295.0001,-331.0561 302.0001,-331.0561"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<text text-anchor="middle" x="298.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 28&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>28&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M298.5,-305.9748C298.5,-299.195 298.5,-288.966 298.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="302.0001,-280.0561 298.5,-270.0561 295.0001,-280.0561 302.0001,-280.0561"/>
</g>
<!-- 32 -->
<g id="node33" class="node">
<title>32</title>
<text text-anchor="middle" x="388.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 31&#45;&gt;32 -->
<g id="edge32" class="edge">
<title>31&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M388.5,-356.9748C388.5,-350.195 388.5,-339.966 388.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="392.0001,-331.0561 388.5,-321.0561 385.0001,-331.0561 392.0001,-331.0561"/>
</g>
<!-- 33 -->
<g id="node34" class="node">
<title>33</title>
<text text-anchor="middle" x="347.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">(</text>
</g>
<!-- 32&#45;&gt;33 -->
<g id="edge33" class="edge">
<title>32&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M382.4503,-305.9748C375.6341,-297.4961 364.4814,-283.6232 356.6104,-273.8324"/>
<polygon fill="#000000" stroke="#000000" points="359.1088,-271.3541 350.1154,-265.7533 353.6531,-275.74 359.1088,-271.3541"/>
</g>
<!-- 34 -->
<g id="node35" class="node">
<title>34</title>
<text text-anchor="middle" x="388.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 32&#45;&gt;34 -->
<g id="edge34" class="edge">
<title>32&#45;&gt;34</title>
<path fill="none" stroke="#000000" d="M388.5,-305.9748C388.5,-299.195 388.5,-288.966 388.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="392.0001,-280.0561 388.5,-270.0561 385.0001,-280.0561 392.0001,-280.0561"/>
</g>
<!-- 45 -->
<g id="node46" class="node">
<title>45</title>
<text text-anchor="middle" x="429.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">)</text>
</g>
<!-- 32&#45;&gt;45 -->
<g id="edge45" class="edge">
<title>32&#45;&gt;45</title>
<path fill="none" stroke="#000000" d="M394.5497,-305.9748C401.3659,-297.4961 412.5186,-283.6232 420.3896,-273.8324"/>
<polygon fill="#000000" stroke="#000000" points="423.3469,-275.74 426.8846,-265.7533 417.8912,-271.3541 423.3469,-275.74"/>
</g>
<!-- 35 -->
<g id="node36" class="node">
<title>35</title>
<text text-anchor="middle" x="345.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 34&#45;&gt;35 -->
<g id="edge35" class="edge">
<title>34&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M382.1552,-254.9748C375.9308,-247.5923 366.2583,-236.1203 358.4119,-226.8142"/>
<polygon fill="#000000" stroke="#000000" points="360.9927,-224.4452 351.8708,-219.0561 355.641,-228.9574 360.9927,-224.4452"/>
</g>
<!-- 39 -->
<g id="node40" class="node">
<title>39</title>
<text text-anchor="middle" x="388.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 34&#45;&gt;39 -->
<g id="edge39" class="edge">
<title>34&#45;&gt;39</title>
<path fill="none" stroke="#000000" d="M388.5,-254.9748C388.5,-248.195 388.5,-237.966 388.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="392.0001,-229.0561 388.5,-219.0561 385.0001,-229.0561 392.0001,-229.0561"/>
</g>
<!-- 40 -->
<g id="node41" class="node">
<title>40</title>
<text text-anchor="middle" x="431.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 34&#45;&gt;40 -->
<g id="edge40" class="edge">
<title>34&#45;&gt;40</title>
<path fill="none" stroke="#000000" d="M394.8448,-254.9748C401.0692,-247.5923 410.7417,-236.1203 418.5881,-226.8142"/>
<polygon fill="#000000" stroke="#000000" points="421.359,-228.9574 425.1292,-219.0561 416.0073,-224.4452 421.359,-228.9574"/>
</g>
<!-- 36 -->
<g id="node37" class="node">
<title>36</title>
<text text-anchor="middle" x="345.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 35&#45;&gt;36 -->
<g id="edge36" class="edge">
<title>35&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M345.5,-203.9748C345.5,-197.195 345.5,-186.966 345.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="349.0001,-178.0561 345.5,-168.0561 342.0001,-178.0561 349.0001,-178.0561"/>
</g>
<!-- 37 -->
<g id="node38" class="node">
<title>37</title>
<text text-anchor="middle" x="345.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;number&gt;</text>
</g>
<!-- 36&#45;&gt;37 -->
<g id="edge37" class="edge">
<title>36&#45;&gt;37</title>
<path fill="none" stroke="#000000" d="M345.5,-152.9748C345.5,-146.195 345.5,-135.966 345.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="349.0001,-127.0561 345.5,-117.0561 342.0001,-127.0561 349.0001,-127.0561"/>
</g>
<!-- 38 -->
<g id="node39" class="node">
<title>38</title>
<text text-anchor="middle" x="345.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">4</text>
</g>
<!-- 37&#45;&gt;38 -->
<g id="edge38" class="edge">
<title>37&#45;&gt;38</title>
<path fill="none" stroke="#000000" d="M345.5,-101.9748C345.5,-95.195 345.5,-84.966 345.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="349.0001,-76.0561 345.5,-66.0561 342.0001,-76.0561 349.0001,-76.0561"/>
</g>
<!-- 41 -->
<g id="node42" class="node">
<title>41</title>
<text text-anchor="middle" x="431.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 40&#45;&gt;41 -->
<g id="edge41" class="edge">
<title>40&#45;&gt;41</title>
<path fill="none" stroke="#000000" d="M431.5,-203.9748C431.5,-197.195 431.5,-186.966 431.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="435.0001,-178.0561 431.5,-168.0561 428.0001,-178.0561 435.0001,-178.0561"/>
</g>
<!-- 42 -->
<g id="node43" class="node">
<title>42</title>
<text text-anchor="middle" x="431.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 41&#45;&gt;42 -->
<g id="edge42" class="edge">
<title>41&#45;&gt;42</title>
<path fill="none" stroke="#000000" d="M431.5,-152.9748C431.5,-146.195 431.5,-135.966 431.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="435.0001,-127.0561 431.5,-117.0561 428.0001,-127.0561 435.0001,-127.0561"/>
</g>
<!-- 43 -->
<g id="node44" class="node">
<title>43</title>
<text text-anchor="middle" x="431.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;number&gt;</text>
</g>
<!-- 42&#45;&gt;43 -->
<g id="edge43" class="edge">
<title>42&#45;&gt;43</title>
<path fill="none" stroke="#000000" d="M431.5,-101.9748C431.5,-95.195 431.5,-84.966 431.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="435.0001,-76.0561 431.5,-66.0561 428.0001,-76.0561 435.0001,-76.0561"/>
</g>
<!-- 44 -->
<g id="node45" class="node">
<title>44</title>
<text text-anchor="middle" x="431.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">300</text>
</g>
<!-- 43&#45;&gt;44 -->
<g id="edge44" class="edge">
<title>43&#45;&gt;44</title>
<path fill="none" stroke="#000000" d="M431.5,-50.9748C431.5,-44.195 431.5,-33.966 431.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="435.0001,-25.0561 431.5,-15.0561 428.0001,-25.0561 435.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We develop a <code>LangFuzzer</code> class that generates recombined inputs. To apply the <em>Langfuzz</em> approach, we need a few parsed strings.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystrings</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;abc=12+(3+3.3)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;a=1;b=2;c=a+b&#39;</span><span class="p">,</span>
    <span class="s1">&#39;avar=1.3;bvar=avar-3*(4+300)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;a=1.3;b=a-1*(4+3+(2/a))&#39;</span><span class="p">,</span>
    <span class="s1">&#39;a=10;b=20;c=34;d=-b+(b*b-4*a*c)/(2*a)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;x=10;y=20;z=(x+y)*(x-y)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;x=23;y=51;z=x*x-y*y&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We recurse through any given tree, collecting parsed fragments corresponding to each nonterminal. Further, we also name each node so that we can address each node separately.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">LangFuzzer</span><span class="p">(</span><span class="n">Fuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parser</span> <span class="o">=</span> <span class="n">parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fragments</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">traverse_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="n">counter</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="n">nodes</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">def</span> <span class="nf">helper</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="nb">id</span><span class="p">):</span>
            <span class="k">nonlocal</span> <span class="n">counter</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">children</span> <span class="o">=</span> <span class="n">node</span>
            <span class="n">new_children</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">nodes</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">node</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
                <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">new_children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">helper</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">counter</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">name</span><span class="p">,</span> <span class="n">new_children</span><span class="p">,</span> <span class="nb">id</span>

        <span class="k">return</span> <span class="n">helper</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">counter</span><span class="p">),</span> <span class="n">nodes</span>

    <span class="k">def</span> <span class="nf">fragment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">trees</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">string</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">string</span><span class="p">):</span>
                <span class="n">tree</span><span class="p">,</span> <span class="n">nodes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">traverse_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">trees</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tree</span><span class="p">,</span> <span class="n">nodes</span><span class="p">))</span>
                <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
                    <span class="n">symbol</span> <span class="o">=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fragments</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">fragments</span><span class="p">[</span><span class="n">symbol</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="n">node</span><span class="p">])</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fragments</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We thus obtain all valid fragments from our parsed strings.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lf</span> <span class="o">=</span> <span class="n">LangFuzzer</span><span class="p">(</span><span class="n">PEGParser</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">,</span> <span class="n">tokens</span><span class="o">=</span><span class="n">VAR_TOKENS</span><span class="p">))</span>
<span class="n">fragments</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">fragment</span><span class="p">(</span><span class="n">mystrings</span><span class="p">)</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">fragments</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">fragments</span><span class="p">[</span><span class="n">key</span><span class="p">])))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;start&gt;: 7
&lt;statements&gt;: 18
&lt;statement&gt;: 18
&lt;assignment&gt;: 18
&lt;identifier&gt;: 37
&lt;word&gt;: 0
&lt;alpha&gt;: 0
&lt;expr&gt;: 39
&lt;term&gt;: 50
&lt;factor&gt;: 51
&lt;number&gt;: 23
&lt;integer&gt;: 0
&lt;digit&gt;: 0
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>All that remains is to actually find a place to poke a hole using <code>candidate()</code>, and patch that hole using <code>generate_new_tree()</code>. We will explain how to do this next.</p>
<p>But before that, we update our <code>initialization</code> method with a call to `fragment().</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn"><a href="https://docs.python.org/3/library/random.html" class="import" target="_blank">random</a></span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">LangFuzzer</span><span class="p">(</span><span class="n">LangFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parser</span><span class="p">,</span> <span class="n">strings</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parser</span> <span class="o">=</span> <span class="n">parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fragments</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fragment</span><span class="p">(</span><span class="n">strings</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Candidate">Candidate<a class="anchor-link" href="#Candidate">&#182;</a></h4><p><code>LangFuzzer</code> accepts a list of strings, which are stored as derivation trees in the object.</p>
<p>The method <code>candidate()</code> chooses one of the derivation trees randomly as the template, and identifies a node such that it can be replaced by another node that is different from itself. That is, it chooses a node such that, if the non-terminal name of the node is <code>node_type</code>, there is at least one other entry in <code>fragment[node_type])</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">LangFuzzer</span><span class="p">(</span><span class="n">LangFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">candidate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tree</span><span class="p">,</span> <span class="n">nodes</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trees</span><span class="p">)</span>
        <span class="n">interesting_nodes</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">nodes</span> <span class="k">if</span> <span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">fragments</span>
            <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fragments</span><span class="p">[</span><span class="n">nodes</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="mi">0</span><span class="p">]])</span> <span class="o">&gt;</span> <span class="mi">1</span>
        <span class="p">]</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">interesting_nodes</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tree</span><span class="p">,</span> <span class="n">node</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is how it is used -- the <em>red</em> node is the node chosen.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">lf</span> <span class="o">=</span> <span class="n">LangFuzzer</span><span class="p">(</span><span class="n">PEGParser</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">,</span> <span class="n">tokens</span><span class="o">=</span><span class="n">VAR_TOKENS</span><span class="p">),</span> <span class="n">mystrings</span><span class="p">)</span>
<span class="n">tree</span><span class="p">,</span> <span class="n">node</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">candidate</span><span class="p">()</span>
<span class="n">hl_predicate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">_d</span><span class="p">,</span><span class="n">nid</span><span class="p">,</span><span class="n">_s</span><span class="p">,</span><span class="n">_a</span><span class="p">:</span> <span class="n">nid</span> <span class="ow">in</span> <span class="p">{</span><span class="n">node</span><span class="p">}</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node_attr</span><span class="o">=</span><span class="n">highlight_node</span><span class="p">(</span><span class="n">hl_predicate</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="511pt" height="584pt"
 viewBox="0.00 0.00 511.00 584.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 580)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-580 507,-580 507,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="198.5" y="-564.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="198.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M198.5,-560.9748C198.5,-554.195 198.5,-543.966 198.5,-535.1331"/>
<polygon fill="#000000" stroke="#000000" points="202.0001,-535.0561 198.5,-525.0561 195.0001,-535.0561 202.0001,-535.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="134.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M189.0566,-509.9748C179.3197,-502.2157 163.9137,-489.939 151.9526,-480.4075"/>
<polygon fill="#000000" stroke="#000000" points="153.984,-477.551 143.9822,-474.0561 149.6216,-483.0254 153.984,-477.551"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="198.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">;</text>
</g>
<!-- 1&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>1&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M198.5,-509.9748C198.5,-503.195 198.5,-492.966 198.5,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="202.0001,-484.0561 198.5,-474.0561 195.0001,-484.0561 202.0001,-484.0561"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="260.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M207.6483,-509.9748C216.9894,-502.291 231.7162,-490.177 243.2544,-480.6859"/>
<polygon fill="#000000" stroke="#000000" points="245.8147,-483.1119 251.3142,-474.0561 241.3678,-477.7058 245.8147,-483.1119"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="117.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;assignment&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M131.9916,-458.9748C129.6814,-452.0443 126.1699,-441.5097 123.1821,-432.5464"/>
<polygon fill="#000000" stroke="#000000" points="126.5014,-431.4361 120.0187,-423.0561 119.8607,-433.6498 126.5014,-431.4361"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="33.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;identifier&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M105.1055,-407.9748C91.8295,-399.9143 70.5237,-386.9787 54.5986,-377.3099"/>
<polygon fill="#000000" stroke="#000000" points="56.3097,-374.2542 45.9453,-372.0561 52.6768,-380.2377 56.3097,-374.2542"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="89.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 3&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M113.3685,-407.9748C109.4808,-400.8936 103.5274,-390.05 98.5391,-380.9641"/>
<polygon fill="#000000" stroke="#000000" points="101.5291,-379.1375 93.6484,-372.0561 95.3931,-382.5063 101.5291,-379.1375"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="132.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 3&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M119.7133,-407.9748C121.7295,-401.1196 124.7829,-390.7383 127.4002,-381.8392"/>
<polygon fill="#000000" stroke="#000000" points="130.8137,-382.6374 130.2776,-372.0561 124.0981,-380.6622 130.8137,-382.6374"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="33.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M33.5,-356.9748C33.5,-350.195 33.5,-339.966 33.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="37.0001,-331.0561 33.5,-321.0561 30.0001,-331.0561 37.0001,-331.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="95.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M127.0405,-356.9748C121.7939,-349.743 113.7002,-338.5868 107.0256,-329.3866"/>
<polygon fill="#000000" stroke="#000000" points="109.6872,-327.095 100.9819,-321.0561 104.0212,-331.2056 109.6872,-327.095"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="95.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M95.5,-305.9748C95.5,-299.195 95.5,-288.966 95.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="99.0001,-280.0561 95.5,-270.0561 92.0001,-280.0561 99.0001,-280.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="95.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;number&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M95.5,-254.9748C95.5,-248.195 95.5,-237.966 95.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="99.0001,-229.0561 95.5,-219.0561 92.0001,-229.0561 99.0001,-229.0561"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="95.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M95.5,-203.9748C95.5,-197.195 95.5,-186.966 95.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="99.0001,-178.0561 95.5,-168.0561 92.0001,-178.0561 99.0001,-178.0561"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="224.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M255.1881,-458.9748C250.0833,-451.743 242.2084,-440.5868 235.7141,-431.3866"/>
<polygon fill="#000000" stroke="#000000" points="238.46,-429.2074 229.8337,-423.0561 232.7412,-433.2442 238.46,-429.2074"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="279.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">;</text>
</g>
<!-- 13&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>13&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M263.3035,-458.9748C266.0635,-451.5663 270.3578,-440.0395 273.8313,-430.716"/>
<polygon fill="#000000" stroke="#000000" points="277.1793,-431.7547 277.3906,-421.162 270.6197,-429.3109 277.1793,-431.7547"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="339.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 13&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>13&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M272.1567,-458.9748C284.5258,-450.9897 304.3062,-438.22 319.236,-428.5818"/>
<polygon fill="#000000" stroke="#000000" points="321.2923,-431.4203 327.7955,-423.0561 317.4957,-425.5393 321.2923,-431.4203"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="224.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;assignment&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M224.5,-407.9748C224.5,-401.195 224.5,-390.966 224.5,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="228.0001,-382.0561 224.5,-372.0561 221.0001,-382.0561 228.0001,-382.0561"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="168.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;identifier&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M216.237,-356.9748C207.8826,-349.3663 194.7586,-337.4141 184.384,-327.9658"/>
<polygon fill="#000000" stroke="#000000" points="186.547,-325.2017 176.7969,-321.0561 181.8337,-330.3771 186.547,-325.2017"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="224.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 15&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>15&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M224.5,-356.9748C224.5,-350.195 224.5,-339.966 224.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="228.0001,-331.0561 224.5,-321.0561 221.0001,-331.0561 228.0001,-331.0561"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="267.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 15&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>15&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M230.8448,-356.9748C237.0692,-349.5923 246.7417,-338.1203 254.5881,-328.8142"/>
<polygon fill="#000000" stroke="#000000" points="257.359,-330.9574 261.1292,-321.0561 252.0073,-326.4452 257.359,-330.9574"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="168.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M168.5,-305.9748C168.5,-299.195 168.5,-288.966 168.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="172.0001,-280.0561 168.5,-270.0561 165.0001,-280.0561 172.0001,-280.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="254.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M265.5818,-305.9748C263.8344,-299.1196 261.1882,-288.7383 258.9198,-279.8392"/>
<polygon fill="#000000" stroke="#000000" points="262.2877,-278.8817 256.4261,-270.0561 255.5046,-280.6108 262.2877,-278.8817"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="254.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M254.5,-254.9748C254.5,-248.195 254.5,-237.966 254.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="258.0001,-229.0561 254.5,-219.0561 251.0001,-229.0561 258.0001,-229.0561"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="254.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;number&gt;</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M254.5,-203.9748C254.5,-197.195 254.5,-186.966 254.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="258.0001,-178.0561 254.5,-168.0561 251.0001,-178.0561 258.0001,-178.0561"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="254.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M254.5,-152.9748C254.5,-146.195 254.5,-135.966 254.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="258.0001,-127.0561 254.5,-117.0561 251.0001,-127.0561 258.0001,-127.0561"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<text text-anchor="middle" x="343.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M340.0902,-407.9748C340.622,-401.195 341.4242,-390.966 342.117,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="345.6146,-382.2992 342.9074,-372.0561 338.6361,-381.7518 345.6146,-382.2992"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<text text-anchor="middle" x="370.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;assignment&gt;</text>
</g>
<!-- 26&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>26&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M347.4839,-356.9748C351.2328,-349.8936 356.9735,-339.05 361.7837,-329.9641"/>
<polygon fill="#000000" stroke="#000000" points="364.914,-331.5316 366.4997,-321.0561 358.7275,-328.2564 364.914,-331.5316"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<text text-anchor="middle" x="327.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;identifier&gt;</text>
</g>
<!-- 27&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>27&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M364.1552,-305.9748C357.9308,-298.5923 348.2583,-287.1203 340.4119,-277.8142"/>
<polygon fill="#000000" stroke="#000000" points="342.9927,-275.4452 333.8708,-270.0561 337.641,-279.9574 342.9927,-275.4452"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<text text-anchor="middle" x="383.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 27&#45;&gt;30 -->
<g id="edge30" class="edge">
<title>27&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M372.4182,-305.9748C374.1656,-299.1196 376.8118,-288.7383 379.0802,-279.8392"/>
<polygon fill="#000000" stroke="#000000" points="382.4954,-280.6108 381.5739,-270.0561 375.7123,-278.8817 382.4954,-280.6108"/>
</g>
<!-- 31 -->
<g id="node32" class="node">
<title>31</title>
<text text-anchor="middle" x="426.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 27&#45;&gt;31 -->
<g id="edge31" class="edge">
<title>27&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M378.763,-305.9748C387.1174,-298.3663 400.2414,-286.4141 410.616,-276.9658"/>
<polygon fill="#000000" stroke="#000000" points="413.1663,-279.3771 418.2031,-270.0561 408.453,-274.2017 413.1663,-279.3771"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<text text-anchor="middle" x="327.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</g>
<!-- 28&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>28&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M327.5,-254.9748C327.5,-248.195 327.5,-237.966 327.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="331.0001,-229.0561 327.5,-219.0561 324.0001,-229.0561 331.0001,-229.0561"/>
</g>
<!-- 32 -->
<g id="node33" class="node">
<title>32</title>
<text text-anchor="middle" x="383.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 31&#45;&gt;32 -->
<g id="edge32" class="edge">
<title>31&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M420.1552,-254.9748C413.9308,-247.5923 404.2583,-236.1203 396.4119,-226.8142"/>
<polygon fill="#000000" stroke="#000000" points="398.9927,-224.4452 389.8708,-219.0561 393.641,-228.9574 398.9927,-224.4452"/>
</g>
<!-- 36 -->
<g id="node37" class="node">
<title>36</title>
<text text-anchor="middle" x="426.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 31&#45;&gt;36 -->
<g id="edge36" class="edge">
<title>31&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M426.5,-254.9748C426.5,-248.195 426.5,-237.966 426.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="430.0001,-229.0561 426.5,-219.0561 423.0001,-229.0561 430.0001,-229.0561"/>
</g>
<!-- 37 -->
<g id="node38" class="node">
<title>37</title>
<text text-anchor="middle" x="469.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 31&#45;&gt;37 -->
<g id="edge37" class="edge">
<title>31&#45;&gt;37</title>
<path fill="none" stroke="#000000" d="M432.8448,-254.9748C439.0692,-247.5923 448.7417,-236.1203 456.5881,-226.8142"/>
<polygon fill="#000000" stroke="#000000" points="459.359,-228.9574 463.1292,-219.0561 454.0073,-224.4452 459.359,-228.9574"/>
</g>
<!-- 33 -->
<g id="node34" class="node">
<title>33</title>
<text text-anchor="middle" x="383.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 32&#45;&gt;33 -->
<g id="edge33" class="edge">
<title>32&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M383.5,-203.9748C383.5,-197.195 383.5,-186.966 383.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="387.0001,-178.0561 383.5,-168.0561 380.0001,-178.0561 387.0001,-178.0561"/>
</g>
<!-- 34 -->
<g id="node35" class="node">
<title>34</title>
<text text-anchor="middle" x="383.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;identifier&gt;</text>
</g>
<!-- 33&#45;&gt;34 -->
<g id="edge34" class="edge">
<title>33&#45;&gt;34</title>
<path fill="none" stroke="#000000" d="M383.5,-152.9748C383.5,-146.195 383.5,-135.966 383.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="387.0001,-127.0561 383.5,-117.0561 380.0001,-127.0561 387.0001,-127.0561"/>
</g>
<!-- 35 -->
<g id="node36" class="node">
<title>35</title>
<text text-anchor="middle" x="383.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 34&#45;&gt;35 -->
<g id="edge35" class="edge">
<title>34&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M383.5,-101.9748C383.5,-95.195 383.5,-84.966 383.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="387.0001,-76.0561 383.5,-66.0561 380.0001,-76.0561 387.0001,-76.0561"/>
</g>
<!-- 38 -->
<g id="node39" class="node">
<title>38</title>
<text text-anchor="middle" x="469.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 37&#45;&gt;38 -->
<g id="edge38" class="edge">
<title>37&#45;&gt;38</title>
<path fill="none" stroke="#000000" d="M469.5,-203.9748C469.5,-197.195 469.5,-186.966 469.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="473.0001,-178.0561 469.5,-168.0561 466.0001,-178.0561 473.0001,-178.0561"/>
</g>
<!-- 39 -->
<g id="node40" class="node">
<title>39</title>
<text text-anchor="middle" x="469.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 38&#45;&gt;39 -->
<g id="edge39" class="edge">
<title>38&#45;&gt;39</title>
<path fill="none" stroke="#000000" d="M469.5,-152.9748C469.5,-146.195 469.5,-135.966 469.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="473.0001,-127.0561 469.5,-117.0561 466.0001,-127.0561 473.0001,-127.0561"/>
</g>
<!-- 40 -->
<g id="node41" class="node">
<title>40</title>
<text text-anchor="middle" x="469.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;identifier&gt;</text>
</g>
<!-- 39&#45;&gt;40 -->
<g id="edge40" class="edge">
<title>39&#45;&gt;40</title>
<path fill="none" stroke="#000000" d="M469.5,-101.9748C469.5,-95.195 469.5,-84.966 469.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="473.0001,-76.0561 469.5,-66.0561 466.0001,-76.0561 473.0001,-76.0561"/>
</g>
<!-- 41 -->
<g id="node42" class="node">
<title>41</title>
<text text-anchor="middle" x="469.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</g>
<!-- 40&#45;&gt;41 -->
<g id="edge41" class="edge">
<title>40&#45;&gt;41</title>
<path fill="none" stroke="#000000" d="M469.5,-50.9748C469.5,-44.195 469.5,-33.966 469.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="473.0001,-25.0561 469.5,-15.0561 466.0001,-25.0561 473.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Generate-New-Tree">Generate New Tree<a class="anchor-link" href="#Generate-New-Tree">&#182;</a></h4><p>Once we have identified the node, one can generate a new tree by replacing that node with another node of similar type from our fragment pool.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">LangFuzzer</span><span class="p">(</span><span class="n">LangFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">generate_new_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">choice</span><span class="p">):</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">children</span><span class="p">,</span> <span class="nb">id</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">if</span> <span class="nb">id</span> <span class="o">==</span> <span class="n">choice</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fragments</span><span class="p">[</span><span class="n">name</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_new_tree</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">choice</span><span class="p">)</span>
                           <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Again, the red node indicates where the replacement has occurred.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">lf</span> <span class="o">=</span> <span class="n">LangFuzzer</span><span class="p">(</span><span class="n">PEGParser</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">,</span> <span class="n">tokens</span><span class="o">=</span><span class="n">VAR_TOKENS</span><span class="p">),</span> <span class="n">mystrings</span><span class="p">)</span>
<span class="n">tree</span><span class="p">,</span> <span class="n">node</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">candidate</span><span class="p">()</span>
<span class="n">hl_predicate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">_d</span><span class="p">,</span><span class="n">nid</span><span class="p">,</span><span class="n">_s</span><span class="p">,</span><span class="n">_a</span><span class="p">:</span> <span class="n">nid</span> <span class="ow">in</span> <span class="p">{</span><span class="n">node</span><span class="p">}</span>
<span class="n">new_tree</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">generate_new_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">[</span><span class="n">tree_to_string</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="n">tree</span><span class="p">,</span> <span class="n">new_tree</span><span class="p">]]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">new_tree</span><span class="p">,</span> <span class="n">node_attr</span><span class="o">=</span><span class="n">highlight_node</span><span class="p">(</span><span class="n">hl_predicate</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>a=1;b=2;c=a+b
a=1;b=2;b=2
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="464pt" height="533pt"
 viewBox="0.00 0.00 464.00 533.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 529)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-529 460,-529 460,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="198.5" y="-513.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="198.5" y="-462.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M198.5,-509.9748C198.5,-503.195 198.5,-492.966 198.5,-484.1331"/>
<polygon fill="#000000" stroke="#000000" points="202.0001,-484.0561 198.5,-474.0561 195.0001,-484.0561 202.0001,-484.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="134.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M189.0566,-458.9748C179.3197,-451.2157 163.9137,-438.939 151.9526,-429.4075"/>
<polygon fill="#000000" stroke="#000000" points="153.984,-426.551 143.9822,-423.0561 149.6216,-432.0254 153.984,-426.551"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="198.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">;</text>
</g>
<!-- 1&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>1&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M198.5,-458.9748C198.5,-452.195 198.5,-441.966 198.5,-433.1331"/>
<polygon fill="#000000" stroke="#000000" points="202.0001,-433.0561 198.5,-423.0561 195.0001,-433.0561 202.0001,-433.0561"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="260.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 1&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>1&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M207.6483,-458.9748C216.9894,-451.291 231.7162,-439.177 243.2544,-429.6859"/>
<polygon fill="#000000" stroke="#000000" points="245.8147,-432.1119 251.3142,-423.0561 241.3678,-426.7058 245.8147,-432.1119"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="117.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;assignment&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M131.9916,-407.9748C129.6814,-401.0443 126.1699,-390.5097 123.1821,-381.5464"/>
<polygon fill="#000000" stroke="#000000" points="126.5014,-380.4361 120.0187,-372.0561 119.8607,-382.6498 126.5014,-380.4361"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="33.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;identifier&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M105.1055,-356.9748C91.8295,-348.9143 70.5237,-335.9787 54.5986,-326.3099"/>
<polygon fill="#000000" stroke="#000000" points="56.3097,-323.2542 45.9453,-321.0561 52.6768,-329.2377 56.3097,-323.2542"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="89.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 3&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M113.3685,-356.9748C109.4808,-349.8936 103.5274,-339.05 98.5391,-329.9641"/>
<polygon fill="#000000" stroke="#000000" points="101.5291,-328.1375 93.6484,-321.0561 95.3931,-331.5063 101.5291,-328.1375"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="132.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 3&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>3&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M119.7133,-356.9748C121.7295,-350.1196 124.7829,-339.7383 127.4002,-330.8392"/>
<polygon fill="#000000" stroke="#000000" points="130.8137,-331.6374 130.2776,-321.0561 124.0981,-329.6622 130.8137,-331.6374"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="33.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M33.5,-305.9748C33.5,-299.195 33.5,-288.966 33.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="37.0001,-280.0561 33.5,-270.0561 30.0001,-280.0561 37.0001,-280.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="95.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M127.0405,-305.9748C121.7939,-298.743 113.7002,-287.5868 107.0256,-278.3866"/>
<polygon fill="#000000" stroke="#000000" points="109.6872,-276.095 100.9819,-270.0561 104.0212,-280.2056 109.6872,-276.095"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="95.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M95.5,-254.9748C95.5,-248.195 95.5,-237.966 95.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="99.0001,-229.0561 95.5,-219.0561 92.0001,-229.0561 99.0001,-229.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="95.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;number&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M95.5,-203.9748C95.5,-197.195 95.5,-186.966 95.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="99.0001,-178.0561 95.5,-168.0561 92.0001,-178.0561 99.0001,-178.0561"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="95.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M95.5,-152.9748C95.5,-146.195 95.5,-135.966 95.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="99.0001,-127.0561 95.5,-117.0561 92.0001,-127.0561 99.0001,-127.0561"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="224.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M255.1881,-407.9748C250.0833,-400.743 242.2084,-389.5868 235.7141,-380.3866"/>
<polygon fill="#000000" stroke="#000000" points="238.46,-378.2074 229.8337,-372.0561 232.7412,-382.2442 238.46,-378.2074"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="279.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">;</text>
</g>
<!-- 13&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>13&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M263.3035,-407.9748C266.0635,-400.5663 270.3578,-389.0395 273.8313,-379.716"/>
<polygon fill="#000000" stroke="#000000" points="277.1793,-380.7547 277.3906,-370.162 270.6197,-378.3109 277.1793,-380.7547"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="339.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statements&gt;</text>
</g>
<!-- 13&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>13&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M272.1567,-407.9748C284.5258,-399.9897 304.3062,-387.22 319.236,-377.5818"/>
<polygon fill="#000000" stroke="#000000" points="321.2923,-380.4203 327.7955,-372.0561 317.4957,-374.5393 321.2923,-380.4203"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="224.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;assignment&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M224.5,-356.9748C224.5,-350.195 224.5,-339.966 224.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="228.0001,-331.0561 224.5,-321.0561 221.0001,-331.0561 228.0001,-331.0561"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="168.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;identifier&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M216.237,-305.9748C207.8826,-298.3663 194.7586,-286.4141 184.384,-276.9658"/>
<polygon fill="#000000" stroke="#000000" points="186.547,-274.2017 176.7969,-270.0561 181.8337,-279.3771 186.547,-274.2017"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="224.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 15&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>15&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M224.5,-305.9748C224.5,-299.195 224.5,-288.966 224.5,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="228.0001,-280.0561 224.5,-270.0561 221.0001,-280.0561 228.0001,-280.0561"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="267.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 15&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>15&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M230.8448,-305.9748C237.0692,-298.5923 246.7417,-287.1203 254.5881,-277.8142"/>
<polygon fill="#000000" stroke="#000000" points="257.359,-279.9574 261.1292,-270.0561 252.0073,-275.4452 257.359,-279.9574"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="168.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M168.5,-254.9748C168.5,-248.195 168.5,-237.966 168.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="172.0001,-229.0561 168.5,-219.0561 165.0001,-229.0561 172.0001,-229.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="254.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M265.5818,-254.9748C263.8344,-248.1196 261.1882,-237.7383 258.9198,-228.8392"/>
<polygon fill="#000000" stroke="#000000" points="262.2877,-227.8817 256.4261,-219.0561 255.5046,-229.6108 262.2877,-227.8817"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="254.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M254.5,-203.9748C254.5,-197.195 254.5,-186.966 254.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="258.0001,-178.0561 254.5,-168.0561 251.0001,-178.0561 258.0001,-178.0561"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="254.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;number&gt;</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M254.5,-152.9748C254.5,-146.195 254.5,-135.966 254.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="258.0001,-127.0561 254.5,-117.0561 251.0001,-127.0561 258.0001,-127.0561"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="254.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M254.5,-101.9748C254.5,-95.195 254.5,-84.966 254.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="258.0001,-76.0561 254.5,-66.0561 251.0001,-76.0561 258.0001,-76.0561"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<text text-anchor="middle" x="343.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;statement&gt;</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M340.0902,-356.9748C340.622,-350.195 341.4242,-339.966 342.117,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="345.6146,-331.2992 342.9074,-321.0561 338.6361,-330.7518 345.6146,-331.2992"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<text text-anchor="middle" x="370.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#ff0000">&lt;assignment&gt;</text>
</g>
<!-- 26&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>26&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M347.4839,-305.9748C351.2328,-298.8936 356.9735,-288.05 361.7837,-278.9641"/>
<polygon fill="#000000" stroke="#000000" points="364.914,-280.5316 366.4997,-270.0561 358.7275,-277.2564 364.914,-280.5316"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<text text-anchor="middle" x="327.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;identifier&gt;</text>
</g>
<!-- 27&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>27&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M364.1552,-254.9748C357.9308,-247.5923 348.2583,-236.1203 340.4119,-226.8142"/>
<polygon fill="#000000" stroke="#000000" points="342.9927,-224.4452 333.8708,-219.0561 337.641,-228.9574 342.9927,-224.4452"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<text text-anchor="middle" x="383.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 27&#45;&gt;30 -->
<g id="edge30" class="edge">
<title>27&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M372.4182,-254.9748C374.1656,-248.1196 376.8118,-237.7383 379.0802,-228.8392"/>
<polygon fill="#000000" stroke="#000000" points="382.4954,-229.6108 381.5739,-219.0561 375.7123,-227.8817 382.4954,-229.6108"/>
</g>
<!-- 31 -->
<g id="node32" class="node">
<title>31</title>
<text text-anchor="middle" x="426.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 27&#45;&gt;31 -->
<g id="edge31" class="edge">
<title>27&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M378.763,-254.9748C387.1174,-247.3663 400.2414,-235.4141 410.616,-225.9658"/>
<polygon fill="#000000" stroke="#000000" points="413.1663,-228.3771 418.2031,-219.0561 408.453,-223.2017 413.1663,-228.3771"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<text text-anchor="middle" x="327.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">b</text>
</g>
<!-- 28&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>28&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M327.5,-203.9748C327.5,-197.195 327.5,-186.966 327.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="331.0001,-178.0561 327.5,-168.0561 324.0001,-178.0561 331.0001,-178.0561"/>
</g>
<!-- 32 -->
<g id="node33" class="node">
<title>32</title>
<text text-anchor="middle" x="426.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 31&#45;&gt;32 -->
<g id="edge32" class="edge">
<title>31&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M426.5,-203.9748C426.5,-197.195 426.5,-186.966 426.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="430.0001,-178.0561 426.5,-168.0561 423.0001,-178.0561 430.0001,-178.0561"/>
</g>
<!-- 33 -->
<g id="node34" class="node">
<title>33</title>
<text text-anchor="middle" x="426.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 32&#45;&gt;33 -->
<g id="edge33" class="edge">
<title>32&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M426.5,-152.9748C426.5,-146.195 426.5,-135.966 426.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="430.0001,-127.0561 426.5,-117.0561 423.0001,-127.0561 430.0001,-127.0561"/>
</g>
<!-- 34 -->
<g id="node35" class="node">
<title>34</title>
<text text-anchor="middle" x="426.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;number&gt;</text>
</g>
<!-- 33&#45;&gt;34 -->
<g id="edge34" class="edge">
<title>33&#45;&gt;34</title>
<path fill="none" stroke="#000000" d="M426.5,-101.9748C426.5,-95.195 426.5,-84.966 426.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="430.0001,-76.0561 426.5,-66.0561 423.0001,-76.0561 430.0001,-76.0561"/>
</g>
<!-- 35 -->
<g id="node36" class="node">
<title>35</title>
<text text-anchor="middle" x="426.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 34&#45;&gt;35 -->
<g id="edge35" class="edge">
<title>34&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M426.5,-50.9748C426.5,-44.195 426.5,-33.966 426.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="430.0001,-25.0561 426.5,-15.0561 423.0001,-25.0561 430.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Fuzz">Fuzz<a class="anchor-link" href="#Fuzz">&#182;</a></h4><p>The <code>fuzz()</code> method simply calls the procedures defined before in order.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">LangFuzzer</span><span class="p">(</span><span class="n">LangFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">fuzz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tree</span><span class="p">,</span> <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">candidate</span><span class="p">()</span>
        <span class="n">modified</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_new_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">modified</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is our fuzzer in action.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lf</span> <span class="o">=</span> <span class="n">LangFuzzer</span><span class="p">(</span><span class="n">PEGParser</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">,</span> <span class="n">tokens</span><span class="o">=</span><span class="n">VAR_TOKENS</span><span class="p">),</span> <span class="n">mystrings</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">lf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>x=23;bvar=avar-3*(4+300)
x=23;y=51;z=x*x-(x+y)*(x-y)
x=10;y=20;z=(1.3)*(x-y)
abc=12+(12+3.3)
x=23;y=51;z=y*x-y*y
a=10;b=20;c=34;d=-b+(b*b-4*y)/(2*a)
abc=12+((4+3+(2/a))+3.3)
x=10;y=20;z=(x+y)*(x-y)
abc=12+(3+3.3)
x=10;y=20;z=(x+y)*(x-y)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>How effective was our fuzzing? Let us find out!</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">100</span>

<span class="n">lf</span> <span class="o">=</span> <span class="n">LangFuzzer</span><span class="p">(</span><span class="n">PEGParser</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">,</span> <span class="n">tokens</span><span class="o">=</span><span class="n">VAR_TOKENS</span><span class="p">),</span> <span class="n">mystrings</span><span class="p">)</span>
<span class="n">valid</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">lf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">exec</span><span class="p">(</span><span class="n">s</span><span class="p">,{},{})</span>
            <span class="n">valid</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">()))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="n">time</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> valid strings, that is LangFuzzer generated </span><span class="si">%f%%</span><span class="s2"> valid entries&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">valid</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid</span><span class="p">)</span><span class="o">*</span><span class="mf">100.0</span><span class="o">/</span><span class="n">trials</span> <span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total time of </span><span class="si">%f</span><span class="s2"> seconds&quot;</span> <span class="o">%</span> <span class="n">time</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>61 valid strings, that is LangFuzzer generated 61.000000% valid entries
Total time of 0.010842 seconds
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gf</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">VAR_GRAMMAR</span><span class="p">)</span>
<span class="n">valid</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">time</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">exec</span><span class="p">(</span><span class="n">s</span><span class="p">,{},{})</span>
            <span class="n">valid</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="n">time</span> <span class="o">+=</span> <span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> valid strings, that is GrammarFuzzer generated </span><span class="si">%f%%</span><span class="s2"> valid entries&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">valid</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">valid</span><span class="p">)</span><span class="o">*</span><span class="mf">100.0</span><span class="o">/</span><span class="n">trials</span> <span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total time of </span><span class="si">%f</span><span class="s2"> seconds&quot;</span> <span class="o">%</span> <span class="n">time</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>4 valid strings, that is GrammarFuzzer generated 4.000000% valid entries
Total time of 1.372786 seconds
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>That is, our <code>LangFuzzer</code> is rather effective on generating valid entries when compared to the <code>GrammarFuzzer</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Parsing-Context-Free-Grammars">Parsing Context-Free Grammars<a class="anchor-link" href="#Parsing-Context-Free-Grammars">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Problems-with-PEG">Problems with PEG<a class="anchor-link" href="#Problems-with-PEG">&#182;</a></h3><p>While <em>PEGs</em> are simple at first sight, their behavior in some cases might be a bit unintuitive. For example, here is an example [Unresolved citation: redziejowski.]:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">PEG_SURPRISE</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;A&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;a&lt;A&gt;a&quot;</span><span class="p">,</span> <span class="s2">&quot;aa&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>When interpreted as a <em>CFG</em> and used as a string generator, it will produce strings of the form <code>aa, aaaa, aaaaaa</code> that is, it produces strings where the number of <code>a</code> is $ 2*n $ where $ n &gt; 0 $.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">strings</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">PEG_SURPRISE</span><span class="p">,</span> <span class="n">start_symbol</span><span class="o">=</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">)</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">e</span><span class="p">):</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_tree_once</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
    <span class="n">tree</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_tree_with_strategy</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_node_min_cost</span><span class="p">)</span>
    <span class="n">strings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<span class="n">strings</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="34pt" height="74pt"
 viewBox="0.00 0.00 34.00 74.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 70)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-70 30,-70 30,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="13" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="13" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">aa</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M13,-50.9748C13,-44.195 13,-33.966 13,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="16.5001,-25.0561 13,-15.0561 9.5001,-25.0561 16.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="85pt" height="125pt"
 viewBox="0.00 0.00 85.00 125.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 121)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-121 81,-121 81,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="38.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="3.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M33.3356,-101.9748C27.9733,-94.1611 19.467,-81.7662 12.9067,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-70.1322 7.1836,-63.8675 9.9562,-74.0931 15.7279,-70.1322"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="38.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M38.5,-101.9748C38.5,-95.195 38.5,-84.966 38.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-76.0561 38.5,-66.0561 35.0001,-76.0561 42.0001,-76.0561"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="73.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M43.6644,-101.9748C49.0267,-94.1611 57.533,-81.7662 64.0933,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-74.0931 69.8164,-63.8675 61.2721,-70.1322 67.0438,-74.0931"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="38.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">aa</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M38.5,-50.9748C38.5,-44.195 38.5,-33.966 38.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-25.0561 38.5,-15.0561 35.0001,-25.0561 42.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="85pt" height="176pt"
 viewBox="0.00 0.00 85.00 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 81,-172 81,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="38.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="3.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M33.3356,-152.9748C27.9733,-145.1611 19.467,-132.7662 12.9067,-123.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-121.1322 7.1836,-114.8675 9.9562,-125.0931 15.7279,-121.1322"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="38.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M38.5,-152.9748C38.5,-146.195 38.5,-135.966 38.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-127.0561 38.5,-117.0561 35.0001,-127.0561 42.0001,-127.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="73.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>0&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M43.6644,-152.9748C49.0267,-145.1611 57.533,-132.7662 64.0933,-123.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-125.0931 69.8164,-114.8675 61.2721,-121.1322 67.0438,-125.0931"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="3.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M33.3356,-101.9748C27.9733,-94.1611 19.467,-81.7662 12.9067,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-70.1322 7.1836,-63.8675 9.9562,-74.0931 15.7279,-70.1322"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="38.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 2&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M38.5,-101.9748C38.5,-95.195 38.5,-84.966 38.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-76.0561 38.5,-66.0561 35.0001,-76.0561 42.0001,-76.0561"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="73.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 2&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M43.6644,-101.9748C49.0267,-94.1611 57.533,-81.7662 64.0933,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-74.0931 69.8164,-63.8675 61.2721,-70.1322 67.0438,-74.0931"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="38.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">aa</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M38.5,-50.9748C38.5,-44.195 38.5,-33.966 38.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-25.0561 38.5,-15.0561 35.0001,-25.0561 42.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="85pt" height="227pt"
 viewBox="0.00 0.00 85.00 227.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 223)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-223 81,-223 81,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="38.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="3.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M33.3356,-203.9748C27.9733,-196.1611 19.467,-183.7662 12.9067,-174.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-172.1322 7.1836,-165.8675 9.9562,-176.0931 15.7279,-172.1322"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="38.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M38.5,-203.9748C38.5,-197.195 38.5,-186.966 38.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-178.0561 38.5,-168.0561 35.0001,-178.0561 42.0001,-178.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="73.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>0&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M43.6644,-203.9748C49.0267,-196.1611 57.533,-183.7662 64.0933,-174.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-176.0931 69.8164,-165.8675 61.2721,-172.1322 67.0438,-176.0931"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="3.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M33.3356,-152.9748C27.9733,-145.1611 19.467,-132.7662 12.9067,-123.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-121.1322 7.1836,-114.8675 9.9562,-125.0931 15.7279,-121.1322"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="38.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 2&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M38.5,-152.9748C38.5,-146.195 38.5,-135.966 38.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-127.0561 38.5,-117.0561 35.0001,-127.0561 42.0001,-127.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="73.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 2&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>2&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M43.6644,-152.9748C49.0267,-145.1611 57.533,-132.7662 64.0933,-123.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-125.0931 69.8164,-114.8675 61.2721,-121.1322 67.0438,-125.0931"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="3.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M33.3356,-101.9748C27.9733,-94.1611 19.467,-81.7662 12.9067,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-70.1322 7.1836,-63.8675 9.9562,-74.0931 15.7279,-70.1322"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="38.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 4&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>4&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M38.5,-101.9748C38.5,-95.195 38.5,-84.966 38.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-76.0561 38.5,-66.0561 35.0001,-76.0561 42.0001,-76.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="73.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 4&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>4&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M43.6644,-101.9748C49.0267,-94.1611 57.533,-81.7662 64.0933,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-74.0931 69.8164,-63.8675 61.2721,-70.1322 67.0438,-74.0931"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="38.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">aa</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M38.5,-50.9748C38.5,-44.195 38.5,-33.966 38.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-25.0561 38.5,-15.0561 35.0001,-25.0561 42.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;aa&#39;, &#39;aaaa&#39;, &#39;aaaaaa&#39;, &#39;aaaaaaaa&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>However, the <em>PEG</em> parser can only recognize strings of the form $2^n$</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">peg</span> <span class="o">=</span> <span class="n">PEGParser</span><span class="p">(</span><span class="n">PEG_SURPRISE</span><span class="p">,</span> <span class="n">start_symbol</span><span class="o">=</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strings</span><span class="p">:</span>
    <span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">peg</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="34pt" height="74pt"
 viewBox="0.00 0.00 34.00 74.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 70)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-70 30,-70 30,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="13" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="13" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">aa</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M13,-50.9748C13,-44.195 13,-33.966 13,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="16.5001,-25.0561 13,-15.0561 9.5001,-25.0561 16.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>aa
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="85pt" height="125pt"
 viewBox="0.00 0.00 85.00 125.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 121)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-121 81,-121 81,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="38.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="3.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M33.3356,-101.9748C27.9733,-94.1611 19.467,-81.7662 12.9067,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-70.1322 7.1836,-63.8675 9.9562,-74.0931 15.7279,-70.1322"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="38.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M38.5,-101.9748C38.5,-95.195 38.5,-84.966 38.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-76.0561 38.5,-66.0561 35.0001,-76.0561 42.0001,-76.0561"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="73.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>0&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M43.6644,-101.9748C49.0267,-94.1611 57.533,-81.7662 64.0933,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-74.0931 69.8164,-63.8675 61.2721,-70.1322 67.0438,-74.0931"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="38.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">aa</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M38.5,-50.9748C38.5,-44.195 38.5,-33.966 38.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-25.0561 38.5,-15.0561 35.0001,-25.0561 42.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>aaaa
</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-82-dec55ebf796e&gt;&#34;, line 4, in &lt;module&gt;
    for tree in peg.parse(s):
  File &#34;&lt;ipython-input-41-5d528e2a45db&gt;&#34;, line 19, in parse
    raise SyntaxError(&#34;at &#34; + repr(text[cursor:]))
  File &#34;&lt;string&gt;&#34;, line None
SyntaxError: at &#39;aa&#39; (expected)
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="85pt" height="227pt"
 viewBox="0.00 0.00 85.00 227.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 223)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-223 81,-223 81,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="38.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="3.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M33.3356,-203.9748C27.9733,-196.1611 19.467,-183.7662 12.9067,-174.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-172.1322 7.1836,-165.8675 9.9562,-176.0931 15.7279,-172.1322"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="38.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M38.5,-203.9748C38.5,-197.195 38.5,-186.966 38.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-178.0561 38.5,-168.0561 35.0001,-178.0561 42.0001,-178.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="73.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 0&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>0&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M43.6644,-203.9748C49.0267,-196.1611 57.533,-183.7662 64.0933,-174.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-176.0931 69.8164,-165.8675 61.2721,-172.1322 67.0438,-176.0931"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="3.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M33.3356,-152.9748C27.9733,-145.1611 19.467,-132.7662 12.9067,-123.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-121.1322 7.1836,-114.8675 9.9562,-125.0931 15.7279,-121.1322"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="38.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 2&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M38.5,-152.9748C38.5,-146.195 38.5,-135.966 38.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-127.0561 38.5,-117.0561 35.0001,-127.0561 42.0001,-127.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="73.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 2&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>2&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M43.6644,-152.9748C49.0267,-145.1611 57.533,-132.7662 64.0933,-123.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-125.0931 69.8164,-114.8675 61.2721,-121.1322 67.0438,-125.0931"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="3.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M33.3356,-101.9748C27.9733,-94.1611 19.467,-81.7662 12.9067,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="15.7279,-70.1322 7.1836,-63.8675 9.9562,-74.0931 15.7279,-70.1322"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="38.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 4&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>4&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M38.5,-101.9748C38.5,-95.195 38.5,-84.966 38.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-76.0561 38.5,-66.0561 35.0001,-76.0561 42.0001,-76.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="73.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 4&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>4&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M43.6644,-101.9748C49.0267,-94.1611 57.533,-81.7662 64.0933,-72.2069"/>
<polygon fill="#000000" stroke="#000000" points="67.0438,-74.0931 69.8164,-63.8675 61.2721,-70.1322 67.0438,-74.0931"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="38.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">aa</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M38.5,-50.9748C38.5,-44.195 38.5,-33.966 38.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="42.0001,-25.0561 38.5,-15.0561 35.0001,-25.0561 42.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>aaaaaaaa
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is not the only problem with <em>Parsing Expression Grammars</em>. While  <em>PEGs</em> are expressive and the <em>packrat</em> parser for parsing them is simple and intuitive, <em>PEGs</em> suffer from a major deficiency for our purposes. <em>PEGs</em> are oriented towards language recognition, and it is not clear how to translate an arbitrary <em>PEG</em> to a <em>CFG</em>. As we mentioned earlier, a naive re-interpretation of a <em>PEG</em> as a <em>CFG</em> does not work very well. Further, it is not clear what is the exact relation between the class of languages represented by <em>PEG</em> and the class of languages represented by <em>CFG</em>. Since our primary focus is <em>fuzzing</em> – that is <em>generation</em> of strings – , we next look at <em>parsers that can accept context-free grammars</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The general idea of <em>CFG</em> parser is the following: Peek at the input text for the allowed number of characters, and use these, and our parser state to determine which rules can be applied to complete parsing. We next look at a typical <em>CFG</em> parsing algorithm, the Earley Parser.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="The-Earley-Parser">The Earley Parser<a class="anchor-link" href="#The-Earley-Parser">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The Earley parser is a general parser that is able to parse any arbitrary <em>CFG</em>. It was invented by Jay Earley [<a href="https://doi.org/10.1145/362007.362035">Earley <em>et al</em>, 1970.</a>] for use in computational linguistics. While its computational complexity is $O(n^3)$ for parsing strings with arbitrary grammars, it can parse strings with unambiguous grammars in $O(n^2)$ time, and all <em><a href="https://en.wikipedia.org/wiki/LR_parser">LR(k)</a></em> grammars in linear time ($O(n)$ [<a href="https://doi.org/https://doi.org/10.1016/0304-3975(91)90180-A">Joop M.I.M. Leo, 1991.</a>]). Further improvements – notably handling epsilon rules – were invented by Aycock et al. [John Aycock <em>et al</em>, 2002.].</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Note that one restriction of our implementation is that the start symbol can have only one alternative in its alternative expressions. This is not a restriction in practice because any grammar with multiple alternatives for its start symbol can be extended with a new start symbol that has the original start symbol as its only choice. That is, given a grammar as below,</p>

<pre><code>grammar = {
    '&lt;start&gt;': ['&lt;A&gt;', '&lt;B&gt;'],
    ...
}</code></pre>
<p>one may rewrite it as below to conform to the <em>single-alternative</em> rule.</p>

<pre><code>grammar = {
    '&lt;start&gt;': ['&lt;start_&gt;'],
    '&lt;start_&gt;': ['&lt;A&gt;', '&lt;B&gt;'],
    ...
}</code></pre>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We first implement a simpler parser that is a parser for nearly all <em>CFGs</em>, but not quite. In particular, our parser does not understand <em>epsilon rules</em> – rules that derive empty string. We show later how the parser can be extended to handle these.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We use the following grammar in our examples below.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SAMPLE_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;A&gt;&lt;B&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&lt;B&gt;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&lt;A&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;B&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;b&lt;C&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;D&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;C&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;D&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;d&#39;</span><span class="p">]</span>
<span class="p">}</span>
<span class="n">C_SAMPLE_GRAMMAR</span> <span class="o">=</span> <span class="n">canonical</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 197.0 62" width="197.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M157.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M137.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">A</text></g><path d="M88.5 31h10"/><path d="M98.5 31h10"/><g class="non-terminal">
<path d="M108.5 31h0.0"/><path d="M137.0 31h0.0"/><rect height="22" width="28.5" x="108.5" y="20"/><text x="122.75" y="35">B</text></g></g><path d="M137.0 31h20"/></g><path d="M 157.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>A
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 245.5 92" width="245.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M205.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M185.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">a</text></g><path d="M88.5 31h10"/><path d="M98.5 31h10"/><g class="non-terminal">
<path d="M108.5 31h0.0"/><path d="M137.0 31h0.0"/><rect height="22" width="28.5" x="108.5" y="20"/><text x="122.75" y="35">B</text></g><path d="M137.0 31h10"/><path d="M147.0 31h10"/><g class="terminal">
<path d="M157.0 31h0.0"/><path d="M185.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="157.0" y="20"/><text x="171.25" y="35">c</text></g></g><path d="M185.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h24.25"/><path d="M161.25 61h24.25"/><g class="terminal">
<path d="M84.25 61h0.0"/><path d="M112.75 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="84.25" y="50"/><text x="98.5" y="65">a</text></g><path d="M112.75 61h10"/><path d="M122.75 61h10"/><g class="non-terminal">
<path d="M132.75 61h0.0"/><path d="M161.25 61h0.0"/><rect height="22" width="28.5" x="132.75" y="50"/><text x="147.0" y="65">A</text></g></g><path d="M185.5 61h20"/></g><path d="M 205.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>B
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 197.0 92" width="197.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M157.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M137.0 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">b</text></g><path d="M88.5 31h10"/><path d="M98.5 31h10"/><g class="non-terminal">
<path d="M108.5 31h0.0"/><path d="M137.0 31h0.0"/><rect height="22" width="28.5" x="108.5" y="20"/><text x="122.75" y="35">C</text></g></g><path d="M137.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h24.25"/><path d="M112.75 61h24.25"/><g class="non-terminal">
<path d="M84.25 61h0.0"/><path d="M112.75 61h0.0"/><rect height="22" width="28.5" x="84.25" y="50"/><text x="98.5" y="65">D</text></g></g><path d="M137.0 61h20"/></g><path d="M 157.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>C
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 148.5 62" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M108.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">c</text></g></g><path d="M88.5 31h20"/></g><path d="M 108.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>D
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 148.5 62" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M108.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">d</text></g></g><path d="M88.5 31h20"/></g><path d="M 108.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The basic idea of Earley parsing is the following</p>
<ul>
<li>Start with the alternative expressions corresponding to the START_SYMBOL. These represent the possible ways to parse the string from a high level. Essentially each expression represents a parsing path. Queue each expression in our set of possible parses of the string. The parsed index of an expression is the part of expression that has already been recognized. In the beginning of parse, the parsed index of all expressions is at the beginning. Further, each letter gets a queue of expressions that recognizes that letter at that point in our parse.</li>
<li>Examine our queue of possible parses and check if any of them start with a nonterminal. If it does, then that nonterminal needs to be recognized from the input before the given rule can be parsed. Hence, add the alternative expressions corresponding to the nonterminal to the queue. Do this recursively.</li>
<li>At this point, we are ready to advance. Examine the current letter in the input, and select all expressions that have that particular letter at the parsed index. These expressions can now advance one step. Advance these selected expressions by incrementing their parsed index and add them to the queue of expressions in line for recognizing the next input letter.</li>
<li>If while doing these things, we find that any of the expressions have finished parsing, we fetch its corresponding nonterminal, and advance all expressions that have that nonterminal at their parsed index.</li>
<li>Continue this procedure recursively until all expressions that we have queued for the current letter have been processed. Then start processing the queue for the next letter.</li>
</ul>
<p>We explain each step in detail with examples in the coming sections.</p>
<p>The parser uses dynamic programming to generate a table containing a <em>forest of possible parses</em> at each letter index – the table contains as many columns as there are letters in the input, and each column contains different parsing rules at various stages of the parse.</p>
<p>For example, given an input <code>adcd</code>, the Column 0 would contain the following:</p>

<pre><code>&lt;start&gt; : ● &lt;A&gt; &lt;B&gt;</code></pre>
<p>which is the starting rule that indicates that we are currently parsing the rule <code>&lt;start&gt;</code>, and the parsing state is just before identifying the symbol <code>&lt;A&gt;</code>. It would also contain the following which are two alternative paths it could take to complete the parsing.</p>

<pre><code>&lt;A&gt; : ● a &lt;B&gt; c
&lt;A&gt; : ● a &lt;A&gt;</code></pre>
<p>Column 1 would contain the following, which represents the possible completion after reading <code>a</code>.</p>

<pre><code>&lt;A&gt; : a ● &lt;B&gt; c
&lt;A&gt; : a ● &lt;A&gt;
&lt;B&gt; : ● b &lt;C&gt;
&lt;B&gt; : ● &lt;D&gt;
&lt;A&gt; : ● a &lt;B&gt; c
&lt;A&gt; : ● a &lt;A&gt;
&lt;D&gt; : ● d</code></pre>
<p>Column 2 would contain the following after reading <code>d</code></p>

<pre><code>&lt;D&gt; : d ●
&lt;B&gt; : &lt;D&gt; ●
&lt;A&gt; : a &lt;B&gt; ● c</code></pre>
<p>Similarly, Column 3 would contain the following after reading <code>c</code></p>

<pre><code>&lt;A&gt; : a &lt;B&gt; c ●
&lt;start&gt; : &lt;A&gt; ● &lt;B&gt;
&lt;B&gt; : ● b &lt;C&gt;
&lt;B&gt; : ● &lt;D&gt;
&lt;D&gt; : ● d</code></pre>
<p>Finally, Column 4 would contain the following after reading <code>d</code>, with the <code>●</code> at the end of the <code>&lt;start&gt;</code> rule indicating that the parse was successful.</p>

<pre><code>&lt;D&gt; : d ●
&lt;B&gt; : &lt;D&gt; ●
&lt;start&gt; : &lt;A&gt; &lt;B&gt; ●</code></pre>
<p>As you can see from above, we are essentially filling a table (a table is also called a <strong>chart</strong>) of entries based on each letter we read, and the grammar rules that can be applied. This chart gives the parser its other name -- Chart parsing.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Columns">Columns<a class="anchor-link" href="#Columns">&#182;</a></h3><p>We define the <code>Column</code> first. The <code>Column</code> is initialized by its own <code>index</code> in the input string, and the <code>letter</code> at that index. Internally, we also keep track of the states that are added to the column as the parsing progresses.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Column</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">letter</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="n">index</span><span class="p">,</span> <span class="n">letter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">states</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unique</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> chart[</span><span class="si">%d</span><span class="s2">]</span><span class="se">\n</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">letter</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">states</span> <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">finished</span><span class="p">()))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <code>Column</code> only stores unique <code>states</code>. Hence, when a new <code>state</code> is <code>added</code> to our <code>Column</code>, we check whether it is already known.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Column</span><span class="p">(</span><span class="n">Column</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">state</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unique</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unique</span><span class="p">[</span><span class="n">state</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_unique</span><span class="p">[</span><span class="n">state</span><span class="p">]</span> <span class="o">=</span> <span class="n">state</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="n">state</span><span class="o">.</span><span class="n">e_col</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_unique</span><span class="p">[</span><span class="n">state</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Items">Items<a class="anchor-link" href="#Items">&#182;</a></h3><p>An item represents a <em>parse in progress for a specific rule.</em> Hence the item contains the name of the nonterminal, and the corresponding alternative expression (<code>expr</code>) which together form the rule, and the current position of parsing in this expression -- <code>dot</code>.</p>
<p><strong>Note.</strong> If you are familiar with <a href="https://en.wikipedia.org/wiki/LR_parser">LR parsing</a>, you will notice that an item is simply an <code>LR0</code> item.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Item</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">expr</span><span class="p">,</span> <span class="n">dot</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span> <span class="n">expr</span><span class="p">,</span> <span class="n">dot</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We also provide a few convenience methods. The method <code>finished()</code> checks if the <code>dot</code> has moved beyond the last element in <code>expr</code>. The method <code>advance()</code> produces a new <code>Item</code> with the <code>dot</code> advanced one token, and represents an advance of the parsing.  The method <code>at_dot()</code> returns the current symbol being parsed.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Item</span><span class="p">(</span><span class="n">Item</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">finished</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">advance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">Item</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">at_dot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">]</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">)</span> <span class="k">else</span> <span class="kc">None</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is how an item could be used. We first define our item</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item_name</span> <span class="o">=</span> <span class="s1">&#39;&lt;B&gt;&#39;</span>
<span class="n">item_expr</span> <span class="o">=</span> <span class="n">C_SAMPLE_GRAMMAR</span><span class="p">[</span><span class="n">item_name</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="n">an_item</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span><span class="n">item_name</span><span class="p">,</span><span class="nb">tuple</span><span class="p">(</span><span class="n">item_expr</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To determine where the status of parsing, we use <code>at_dot()</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">an_item</span><span class="o">.</span><span class="n">at_dot</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;&lt;D&gt;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>That is, the next symbol to be parsed is <code>&lt;D&gt;</code></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If we advance the item, we get another item that represents the finished parsing rule <code>&lt;B&gt;</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">another_item</span> <span class="o">=</span> <span class="n">an_item</span><span class="o">.</span><span class="n">advance</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">another_item</span><span class="o">.</span><span class="n">finished</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>True
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="States">States<a class="anchor-link" href="#States">&#182;</a></h3><p>For <code>Earley</code> parsing, the state of the parsing is simply one <code>Item</code> along with some meta information such as the starting <code>s_col</code>  and ending column <code>e_col</code> for each state. Hence we inherit from <code>Item</code> to create a <code>State</code>.
We also store a reference to all the child states (that is, all states that originate from nonterminals in the <code>expr</code>). Since we are interested in comparing states, we define <code>hash()</code> and <code>eq()</code> with the corresponding methods.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">State</span><span class="p">(</span><span class="n">Item</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">expr</span><span class="p">,</span> <span class="n">dot</span><span class="p">,</span> <span class="n">s_col</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">expr</span><span class="p">,</span> <span class="n">dot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">s_col</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">e_col</span> <span class="o">=</span> <span class="n">s_col</span><span class="p">,</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;:= &#39;</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span>
            <span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">[:</span><span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">],</span> <span class="s1">&#39;|&#39;</span><span class="p">,</span> <span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">:]]</span>
        <span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;(</span><span class="si">%d</span><span class="s2">,</span><span class="si">%d</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">s_col</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">e_col</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">State</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_col</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_t</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_col</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_t</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_t</span><span class="p">()</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">_t</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">advance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">State</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">dot</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_col</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The usage of <code>State</code> is similar to that of <code>Item</code>. The only difference is that it is used along with the <code>Column</code> to track the parsing state. For example, we initialize the first column as follows:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">col_0</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">item_expr</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="o">*</span><span class="n">C_SAMPLE_GRAMMAR</span><span class="p">[</span><span class="n">START_SYMBOL</span><span class="p">])</span>
<span class="n">start_state</span> <span class="o">=</span> <span class="n">State</span><span class="p">(</span><span class="n">START_SYMBOL</span><span class="p">,</span> <span class="n">item_expr</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">col_0</span><span class="p">)</span>
<span class="n">col_0</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">start_state</span><span class="p">)</span>
<span class="n">start_state</span><span class="o">.</span><span class="n">at_dot</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;&lt;A&gt;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The first column is then updated by using <code>add()</code> method of <code>Column</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sym</span> <span class="o">=</span> <span class="n">start_state</span><span class="o">.</span><span class="n">at_dot</span><span class="p">()</span>
<span class="k">for</span> <span class="n">alt</span> <span class="ow">in</span> <span class="n">C_SAMPLE_GRAMMAR</span><span class="p">[</span><span class="n">sym</span><span class="p">]:</span>
    <span class="n">col_0</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">State</span><span class="p">(</span><span class="n">sym</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">alt</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">col_0</span><span class="p">))</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">col_0</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;start&gt;:= | &lt;A&gt; &lt;B&gt;(0,0)
&lt;A&gt;:= | a &lt;B&gt; c(0,0)
&lt;A&gt;:= | a &lt;A&gt;(0,0)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="The-Parsing-Algorithm">The Parsing Algorithm<a class="anchor-link" href="#The-Parsing-Algorithm">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <em>Earley</em> algorithm starts by initializing the chart with columns (as many as there are letters in the input). We also seed the first column with a state representing the expression corresponding to the start symbol. In our case, the state corresponds to the start symbol with the <code>dot</code> at <code>0</code> is represented as below. The <code>●</code> symbol represents the parsing status. In this case, we have not parsed anything.</p>

<pre><code>&lt;start&gt;: ● &lt;A&gt; &lt;B&gt;</code></pre>
<p>We pass this partial chart to a method for filling the rest of the parse chart.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">Parser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grammar</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span> <span class="o">=</span> <span class="n">canonical</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">letters</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Before starting to parse, we seed the chart with the state representing the ongoing parse of the start symbol.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">chart_parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">words</span><span class="p">,</span> <span class="n">start</span><span class="p">):</span>
        <span class="n">alt</span> <span class="o">=</span> <span class="nb">tuple</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">[</span><span class="n">start</span><span class="p">])</span>
        <span class="n">chart</span> <span class="o">=</span> <span class="p">[</span><span class="n">Column</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">tok</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">tok</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">([</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">words</span><span class="p">])]</span>
        <span class="n">chart</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">State</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">alt</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">chart</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fill_chart</span><span class="p">(</span><span class="n">chart</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The main parsing loop in <code>fill_chart()</code> has three fundamental operations. <code>predict()</code>, <code>scan()</code>, and <code>complete()</code>. We discuss <code>predict</code> next.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Predicting-States">Predicting States<a class="anchor-link" href="#Predicting-States">&#182;</a></h3><p>We have already seeded <code>chart[0]</code> with a state <code>[&lt;A&gt;,&lt;B&gt;]</code> with <code>dot</code> at <code>0</code>. Next, given that <code>&lt;A&gt;</code> is a nonterminal, we <code>predict</code> the possible parse continuations of this state. That is, it could be either <code>a &lt;B&gt; c</code> or <code>A &lt;A&gt;</code>.</p>
<p>The general idea of <code>predict()</code> is as follows: Say you have a state with name <code>&lt;A&gt;</code> from the above grammar, and expression containing <code>[a,&lt;B&gt;,c]</code>. Imagine that you have seen <code>a</code> already, which means that the <code>dot</code> will be on <code>&lt;B&gt;</code>. Below, is a representation of our parse status. The left hand side of ● represents the portion already parsed (<code>a</code>), and the right hand side represents the portion yet to be parsed (<code>&lt;B&gt; c</code>).</p>

<pre><code>&lt;A&gt;: a  ●  &lt;B&gt; c</code></pre>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To recognize <code>&lt;B&gt;</code>, we look at the definition of <code>&lt;B&gt;</code>, which has different alternative expressions. The <code>predict()</code> step adds each of these alternatives to the set of states, with <code>dot</code> at <code>0</code>.</p>

<pre><code>&lt;A&gt;: a ● &lt;B&gt; c
&lt;B&gt;: ● b c
&lt;B&gt;: ● &lt;D&gt;</code></pre>
<p>In essence, the <code>predict()</code> method, when called with the current nonterminal, fetches the alternative expressions corresponding to this nonterminal, and adds these as predicted <em>child</em> states to the <em>current</em> column.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">sym</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">alt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">[</span><span class="n">sym</span><span class="p">]:</span>
            <span class="n">col</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">State</span><span class="p">(</span><span class="n">sym</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">alt</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To see how to use <code>predict</code>, we first construct the 0th column as before, and we assign the constructed column to an instance of the EarleyParser.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">col_0</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">col_0</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">start_state</span><span class="p">)</span>
<span class="n">ep</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
<span class="n">ep</span><span class="o">.</span><span class="n">chart</span> <span class="o">=</span> <span class="p">[</span><span class="n">col_0</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>It should contain a single state -- <code>&lt;start&gt; at 0</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;start&gt;:= | &lt;A&gt; &lt;B&gt;(0,0)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We apply predict to fill out the 0th column, and the column should contain the possible parse paths.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ep</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">col_0</span><span class="p">,</span> <span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;start&gt;:= | &lt;A&gt; &lt;B&gt;(0,0)
&lt;A&gt;:= | a &lt;B&gt; c(0,0)
&lt;A&gt;:= | a &lt;A&gt;(0,0)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Scanning-Tokens">Scanning Tokens<a class="anchor-link" href="#Scanning-Tokens">&#182;</a></h3><p>What if rather than a nonterminal, the state contained a terminal symbol such as a letter? In that case, we are ready to make some progress. For example, consider the second state:</p>

<pre><code>&lt;B&gt;: ● b c</code></pre>
<p>We <code>scan</code> the next column's letter. Say the next token is <code>b</code>.
If the letter matches what we have, then create a new state by advancing the current state by one letter.</p>

<pre><code>&lt;B&gt;: b ● c</code></pre>
<p>This new state is added to the next column (i.e the column that has the matched letter).</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">scan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">letter</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">letter</span> <span class="o">==</span> <span class="n">col</span><span class="o">.</span><span class="n">letter</span><span class="p">:</span>
            <span class="n">col</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">advance</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As before, we construct the partial parse first, this time adding a new column so that we can observe the effects of <code>scan()</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ep</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
<span class="n">col_1</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">ep</span><span class="o">.</span><span class="n">chart</span> <span class="o">=</span> <span class="p">[</span><span class="n">col_0</span><span class="p">,</span> <span class="n">col_1</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">new_state</span> <span class="o">=</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_state</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;A&gt;:= | a &lt;B&gt; c(0,0)
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ep</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">col_1</span><span class="p">,</span> <span class="n">new_state</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;A&gt;:= a | &lt;B&gt; c(0,1)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Completing-Processing">Completing Processing<a class="anchor-link" href="#Completing-Processing">&#182;</a></h3><p>When we advance, what if we actually <code>complete()</code> the processing of the current rule? If so, we want to update not just this state, but also all the <em>parent</em> states from which this state was derived.
For example, say we have states as below.</p>

<pre><code>&lt;A&gt;: a ● &lt;B&gt; c
&lt;B&gt;: b c ●</code></pre>
<p>The state <code>&lt;B&gt;: b c ●</code> is now complete. So, we need to advance <code>&lt;A&gt;: a ● &lt;B&gt; c</code> one step forward.</p>
<p>How do we determine the parent states? Note from <code>predict</code> that we added the predicted child states to the <em>same</em> column as that of the inspected state. Hence, we look at the starting column of the current state, with the same symbol <code>at_dot</code> as that of the name of the completed state.</p>
<p>For each such parent found, we advance that parent (because we have just finished parsing that non terminal for their <code>at_dot</code>) and add the new states to the current column.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">earley_complete</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">earley_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="n">parent_states</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">st</span> <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">s_col</span><span class="o">.</span><span class="n">states</span> <span class="k">if</span> <span class="n">st</span><span class="o">.</span><span class="n">at_dot</span><span class="p">()</span> <span class="o">==</span> <span class="n">state</span><span class="o">.</span><span class="n">name</span>
        <span class="p">]</span>
        <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">parent_states</span><span class="p">:</span>
            <span class="n">col</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">st</span><span class="o">.</span><span class="n">advance</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is an example of completed processing. First we complete the Column 0</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ep</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
<span class="n">col_1</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="n">col_2</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="n">ep</span><span class="o">.</span><span class="n">chart</span> <span class="o">=</span> <span class="p">[</span><span class="n">col_0</span><span class="p">,</span> <span class="n">col_1</span><span class="p">,</span><span class="n">col_2</span><span class="p">]</span>
<span class="n">ep</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">col_0</span><span class="p">,</span> <span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;start&gt;:= | &lt;A&gt; &lt;B&gt;(0,0)
&lt;A&gt;:= | a &lt;B&gt; c(0,0)
&lt;A&gt;:= | a &lt;A&gt;(0,0)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Then we use <code>scan()</code> to populate Column 1</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">at_dot</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SAMPLE_GRAMMAR</span><span class="p">:</span>
        <span class="n">ep</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">col_1</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;A&gt;:= a | &lt;B&gt; c(0,1)
&lt;A&gt;:= a | &lt;A&gt;(0,1)
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">at_dot</span><span class="p">()</span> <span class="ow">in</span> <span class="n">SAMPLE_GRAMMAR</span><span class="p">:</span>
        <span class="n">ep</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">col_1</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">at_dot</span><span class="p">(),</span> <span class="n">state</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;A&gt;:= a | &lt;B&gt; c(0,1)
&lt;A&gt;:= a | &lt;A&gt;(0,1)
&lt;B&gt;:= | b &lt;C&gt;(1,1)
&lt;B&gt;:= | &lt;D&gt;(1,1)
&lt;A&gt;:= | a &lt;B&gt; c(1,1)
&lt;A&gt;:= | a &lt;A&gt;(1,1)
&lt;D&gt;:= | d(1,1)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Then we use <code>scan()</code> again to populate Column 2</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">at_dot</span><span class="p">()</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">SAMPLE_GRAMMAR</span><span class="p">:</span>
        <span class="n">ep</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">col_2</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">at_dot</span><span class="p">())</span>

<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;D&gt;:= d |(1,2)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Now, we can use <code>complete()</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">finished</span><span class="p">():</span>
        <span class="n">ep</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="n">col_2</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>

<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;D&gt;:= d |(1,2)
&lt;B&gt;:= &lt;D&gt; |(1,2)
&lt;A&gt;:= a &lt;B&gt; | c(0,2)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Filling-the-Chart">Filling the Chart<a class="anchor-link" href="#Filling-the-Chart">&#182;</a></h3><p>The main driving loop in <code>fill_chart()</code> essentially calls these operations in order. We loop over each column in order.</p>
<ul>
<li>For each column, fetch one state in the column at a time, and check if the state is <code>finished</code>. <ul>
<li>If it is, then we <code>complete()</code> all the parent states depending on this state. </li>
</ul>
</li>
<li>If the state was not finished, we check to see if the state's current symbol <code>at_dot</code> is a nonterminal. <ul>
<li>If it is a nonterminal, we <code>predict()</code> possible continuations, and update the current column with these states. </li>
<li>If it was not, we <code>scan()</code> the next column and advance the current state if it matches the next letter.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">fill_chart</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chart</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">chart</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">state</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">state</span><span class="o">.</span><span class="n">finished</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">complete</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">sym</span> <span class="o">=</span> <span class="n">state</span><span class="o">.</span><span class="n">at_dot</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">sym</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">sym</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chart</span><span class="p">):</span>
                            <span class="k">continue</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="n">chart</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">state</span><span class="p">,</span> <span class="n">sym</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">chart</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We now can recognize a given string as belonging to a language represented by a grammar.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ep</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">columns</span> <span class="o">=</span> <span class="n">ep</span><span class="o">.</span><span class="n">chart_parse</span><span class="p">(</span><span class="s1">&#39;adcd&#39;</span><span class="p">,</span> <span class="n">START_SYMBOL</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>None chart[0]

a chart[1]

d chart[2]
&lt;D&gt;:= d |(1,2)
&lt;B&gt;:= &lt;D&gt; |(1,2)
c chart[3]
&lt;A&gt;:= a &lt;B&gt; c |(0,3)
d chart[4]
&lt;D&gt;:= d |(3,4)
&lt;B&gt;:= &lt;D&gt; |(3,4)
&lt;start&gt;:= &lt;A&gt; &lt;B&gt; |(0,4)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The chart we printed above only shows completed entries at each index. The parenthesized expression indicates the column just before the first character was recognized, and the ending column.</p>
<p>Notice how the <code>&lt;start&gt;</code> nonterminal shows fully parsed status.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">last_col</span> <span class="o">=</span> <span class="n">columns</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">last_col</span><span class="o">.</span><span class="n">states</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;start&gt;:= &lt;A&gt; &lt;B&gt; |(0,4)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Since <code>chart_parse()</code> returns the completed table, we now need to extract the derivation trees.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="The-Parse-Method">The Parse Method<a class="anchor-link" href="#The-Parse-Method">&#182;</a></h3><p>For determining how far we have managed to parse, we simply look for the last index from <code>chart_parse()</code> where the <code>start_symbol</code> was found.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">parse_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chart_parse</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_symbol</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">):</span>
            <span class="n">states</span> <span class="o">=</span> <span class="p">[</span><span class="n">st</span> <span class="k">for</span> <span class="n">st</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">states</span> <span class="k">if</span> <span class="n">st</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_symbol</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">states</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">col</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">states</span>
        <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">[]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is the <code>parse_prefix()</code> in action.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ep</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
<span class="n">cursor</span><span class="p">,</span> <span class="n">last_states</span> <span class="o">=</span> <span class="n">ep</span><span class="o">.</span><span class="n">parse_prefix</span><span class="p">(</span><span class="s1">&#39;adcd&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cursor</span><span class="p">,</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">last_states</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>4 [&#39;&lt;start&gt;:= &lt;A&gt; &lt;B&gt; |(0,4)&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The following is adapted from the excellent reference on Earley parsing by <a href="http://loup-vaillant.fr/tutorials/earley-parsing/">Loup Vaillant</a>.</p>
<p>The <code>parse()</code> method has to construct the parsed forest. Our chart is a table of states that contains production rules that end at that index. For easier parsing, we switch to a table that contains rules that begin at that index.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We define a <code>reverse()</code> method to parse and extract the parse forest. We need to extract the parse forest from the chart as we show in the next section.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
        <span class="n">f_table</span> <span class="o">=</span> <span class="p">[</span><span class="n">Column</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">letter</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">table</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">table</span><span class="p">:</span>
            <span class="n">finished</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">states</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">finished</span><span class="p">()]</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">finished</span><span class="p">:</span>
                <span class="n">f_table</span><span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">s_col</span><span class="o">.</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">states</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">f_table</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is the reversed table</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ep</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
<span class="n">reversed_table</span> <span class="o">=</span> <span class="n">ep</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">reversed_table</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">col</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>None chart[0]
&lt;A&gt;:= a &lt;B&gt; c |(0,3)
&lt;start&gt;:= &lt;A&gt; &lt;B&gt; |(0,4)
a chart[1]
&lt;D&gt;:= d |(1,2)
&lt;B&gt;:= &lt;D&gt; |(1,2)
d chart[2]

c chart[3]
&lt;D&gt;:= d |(3,4)
&lt;B&gt;:= &lt;D&gt; |(3,4)
d chart[4]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our <code>parse()</code> method is as follows. It depends on two methods <code>parse_forest()</code> and <code>extract_trees()</code> that will be defined next.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">parse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="n">cursor</span><span class="p">,</span> <span class="n">states</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_prefix</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">cursor</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">SyntaxError</span><span class="p">(</span><span class="s2">&quot;at &quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">text</span><span class="p">[</span><span class="n">cursor</span><span class="p">:]))</span>

        <span class="n">f_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">)</span>
        <span class="n">start</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">states</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">finished</span><span class="p">())</span>
        <span class="n">forest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_trees</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_forest</span><span class="p">(</span><span class="n">f_table</span><span class="p">,</span> <span class="n">start</span><span class="p">))</span>

        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">prune_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">forest</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Parsing-Paths">Parsing Paths<a class="anchor-link" href="#Parsing-Paths">&#182;</a></h3><p>The <code>parse_paths()</code> method tries to unify the given expression in <code>named_expr</code> with the parsed string. For that, it extracts the first symbol in <code>named_expr</code> and checks if it is a terminal symbol. If it is, then it checks the chart to see if the letter corresponding to the position matches the terminal symbol. If it does, advance our start index by the length of the symbol.</p>
<p>If the symbol was a nonterminal symbol, then we retrieve the parsed states at the current start index that correspond to the nonterminal symbol, and collect the end index. These are the start indexes for the remaining expression.</p>
<p>Given our list of start indexes, we obtain the parse paths from the remaining expression. If we can obtain any, then we return the parse paths. If not, we return an empty list.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">parse_paths</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">named_expr</span><span class="p">,</span> <span class="n">chart</span><span class="p">,</span> <span class="n">frm</span><span class="p">,</span> <span class="n">til</span><span class="p">):</span>
        <span class="n">var</span><span class="p">,</span> <span class="o">*</span><span class="n">expr</span> <span class="o">=</span> <span class="n">named_expr</span>
        <span class="n">starts</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">var</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">:</span>
            <span class="n">starts</span> <span class="o">=</span> <span class="p">([(</span><span class="n">var</span><span class="p">,</span> <span class="n">frm</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">var</span><span class="p">))]</span>
                      <span class="k">if</span> <span class="n">frm</span> <span class="o">&lt;</span> <span class="n">til</span> <span class="ow">and</span> <span class="n">chart</span><span class="p">[</span><span class="n">frm</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">letter</span> <span class="o">==</span> <span class="n">var</span> <span class="k">else</span> <span class="p">[])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">starts</span> <span class="o">=</span> <span class="p">[(</span><span class="n">s</span><span class="p">,</span> <span class="n">s</span><span class="o">.</span><span class="n">e_col</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">chart</span><span class="p">[</span><span class="n">frm</span><span class="p">]</span><span class="o">.</span><span class="n">states</span>
                      <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">var</span><span class="p">]</span>

        <span class="n">paths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">state</span><span class="p">,</span> <span class="n">start</span> <span class="ow">in</span> <span class="n">starts</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">expr</span><span class="p">:</span>
                <span class="n">paths</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">state</span><span class="p">]]</span> <span class="k">if</span> <span class="n">start</span> <span class="o">==</span> <span class="n">til</span> <span class="k">else</span> <span class="p">[])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_paths</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">chart</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">til</span><span class="p">)</span>
                <span class="n">paths</span><span class="o">.</span><span class="n">extend</span><span class="p">([[</span><span class="n">state</span><span class="p">]</span> <span class="o">+</span> <span class="n">r</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">res</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">paths</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is the <code>parse_paths()</code> in action</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">[</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">])</span>
<span class="n">ep</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
<span class="n">completed_start</span> <span class="o">=</span> <span class="n">last_states</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">reversed_table</span> <span class="o">=</span> <span class="n">ep</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
<span class="n">paths</span> <span class="o">=</span> <span class="n">ep</span><span class="o">.</span><span class="n">parse_paths</span><span class="p">(</span><span class="n">completed_start</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="n">reversed_table</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">path</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;&lt;A&gt;&lt;B&gt;&#39;]
[&#39;&lt;A&gt;:= a &lt;B&gt; c |(0,3)&#39;, &#39;&lt;B&gt;:= &lt;D&gt; |(3,4)&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>That is, the parse path for <code>&lt;start&gt;</code> given the input <code>adcd</code> included recognizing the expression <code>&lt;A&gt;&lt;B&gt;</code>. This was recognized by the two states: <code>&lt;A&gt;</code> from input(0) to input(2) which further involved recognizing the rule <code>a&lt;B&gt;c</code>, and the next state <code>&lt;B&gt;</code> from input(3) which involved recognizing the rule <code>&lt;D&gt;</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Parsing-Forests">Parsing Forests<a class="anchor-link" href="#Parsing-Forests">&#182;</a></h3><p>The <code>parse_forest()</code> method takes the state which represents the completed parse, and determines the possible ways that its expressions corresponded to the parsed expression. For example, say we are parsing <code>1+2+3</code>, and the state has <code>[&lt;expr&gt;,+,&lt;expr&gt;]</code> in <code>expr</code>. It could have been parsed as either <code>[{&lt;expr&gt;:1+2},+,{&lt;expr&gt;:3}]</code> or <code>[{&lt;expr&gt;:1},+,{&lt;expr&gt;:2+3}]</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">parse_forest</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chart</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">state</span><span class="o">.</span><span class="n">expr</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="p">[])</span>
        <span class="n">pathexprs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parse_paths</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">expr</span><span class="p">,</span> <span class="n">chart</span><span class="p">,</span> <span class="n">state</span><span class="o">.</span><span class="n">s_col</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
                                     <span class="n">state</span><span class="o">.</span><span class="n">e_col</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">paths_</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">pathexpr</span> <span class="ow">in</span> <span class="n">pathexprs</span><span class="p">:</span>
            <span class="n">pathexpr_</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">varexpr</span> <span class="ow">in</span> <span class="n">pathexpr</span><span class="p">:</span>
                <span class="n">completion</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parse_forest</span><span class="p">(</span><span class="n">chart</span><span class="p">,</span> <span class="n">varexpr</span><span class="p">)</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span>
                    <span class="n">varexpr</span><span class="p">,</span> <span class="n">State</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">varexpr</span><span class="p">,</span> <span class="p">[]))</span>
                <span class="n">pathexpr_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">completion</span><span class="p">)</span>
            <span class="n">paths_</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pathexpr_</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">paths_</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">ep</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">SAMPLE_GRAMMAR</span><span class="p">)</span>
<span class="n">reversed_table</span> <span class="o">=</span> <span class="n">ep</span><span class="o">.</span><span class="n">reverse</span><span class="p">(</span><span class="n">columns</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">ep</span><span class="o">.</span><span class="n">parse_forest</span><span class="p">(</span><span class="n">reversed_table</span><span class="p">,</span> <span class="n">last_states</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">result</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(&#39;&lt;start&gt;&#39;,
 [[(&#39;&lt;A&gt;&#39;, [[(&#39;a&#39;, []), (&#39;&lt;B&gt;&#39;, [[(&#39;&lt;D&gt;&#39;, [[(&#39;d&#39;, [])]])]]), (&#39;c&#39;, [])]]),
   (&#39;&lt;B&gt;&#39;, [[(&#39;&lt;D&gt;&#39;, [[(&#39;d&#39;, [])]])]])]])
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Extracting-Trees">Extracting Trees<a class="anchor-link" href="#Extracting-Trees">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What we have from <code>parse_forest()</code> is a forest of trees. We need to extract a single tree from that forest. That is accomplished as follows.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>(For now, we return the first available derivation tree. To do that, we need to extract the parse forest from the state corresponding to <code>start</code>.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">extract_a_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">forest_node</span><span class="p">):</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">paths</span> <span class="o">=</span> <span class="n">forest_node</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">paths</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[])</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_a_tree</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">[</span><span class="mi">0</span><span class="p">]])</span>

    <span class="k">def</span> <span class="nf">extract_trees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">forest</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_a_tree</span><span class="p">(</span><span class="n">forest</span><span class="p">)]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We now verify that our parser can parse a given expression.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">A3_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;expr&gt;+&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;expr&gt;-&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;(&lt;expr&gt;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;digit&gt;&lt;integer&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">A3_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 174.0 62" width="174.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M134.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><rect height="22" width="54.0" x="60.0" y="20"/><text x="87.0" y="35">expr</text></g></g><path d="M114.0 31h20"/></g><path d="M 134.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>expr
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="152" viewBox="0 0 296.5 152" width="296.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 81v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 91h0.0"/><path d="M256.5 91h0.0"/><path d="M40.0 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 61h0.0"/><path d="M236.5 61h0.0"/><g class="non-terminal">
<path d="M60.0 61h0.0"/><path d="M114.0 61h0.0"/><rect height="22" width="54.0" x="60.0" y="50"/><text x="87.0" y="65">expr</text></g><path d="M114.0 61h10"/><path d="M124.0 61h10"/><g class="terminal">
<path d="M134.0 61h0.0"/><path d="M162.5 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="134.0" y="50"/><text x="148.25" y="65">-</text></g><path d="M162.5 61h10"/><path d="M172.5 61h10"/><g class="non-terminal">
<path d="M182.5 61h0.0"/><path d="M236.5 61h0.0"/><rect height="22" width="54.0" x="182.5" y="50"/><text x="209.5" y="65">expr</text></g></g><path d="M236.5 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 91a10 10 0 0 0 10 -10v-40a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M236.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M114.0 31h0.0"/><rect height="22" width="54.0" x="60.0" y="20"/><text x="87.0" y="35">expr</text></g><path d="M114.0 31h10"/><path d="M124.0 31h10"/><g class="terminal">
<path d="M134.0 31h0.0"/><path d="M162.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="134.0" y="20"/><text x="148.25" y="35">+</text></g><path d="M162.5 31h10"/><path d="M172.5 31h10"/><g class="non-terminal">
<path d="M182.5 31h0.0"/><path d="M236.5 31h0.0"/><rect height="22" width="54.0" x="182.5" y="20"/><text x="209.5" y="35">expr</text></g></g><path d="M236.5 31a10 10 0 0 1 10 10v40a10 10 0 0 0 10 10"/><path d="M40.0 91h20"/><g>
<path d="M60.0 91h12.75"/><path d="M223.75 91h12.75"/><g class="terminal">
<path d="M72.75 91h0.0"/><path d="M101.25 91h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="72.75" y="80"/><text x="87.0" y="95">(</text></g><path d="M101.25 91h10"/><path d="M111.25 91h10"/><g class="non-terminal">
<path d="M121.25 91h0.0"/><path d="M175.25 91h0.0"/><rect height="22" width="54.0" x="121.25" y="80"/><text x="148.25" y="95">expr</text></g><path d="M175.25 91h10"/><path d="M185.25 91h10"/><g class="terminal">
<path d="M195.25 91h0.0"/><path d="M223.75 91h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="195.25" y="80"/><text x="209.5" y="95">)</text></g></g><path d="M236.5 91h20"/><path d="M40.0 91a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M60.0 121h48.5"/><path d="M188.0 121h48.5"/><g class="non-terminal">
<path d="M108.5 121h0.0"/><path d="M188.0 121h0.0"/><rect height="22" width="79.5" x="108.5" y="110"/><text x="148.25" y="125">integer</text></g></g><path d="M236.5 121a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/></g><path d="M 256.5 91 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>integer
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 282.0 92" width="282.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M242.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M222.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M122.5 31h0.0"/><rect height="22" width="62.5" x="60.0" y="20"/><text x="91.25" y="35">digit</text></g><path d="M122.5 31h10"/><path d="M132.5 31h10"/><g class="non-terminal">
<path d="M142.5 31h0.0"/><path d="M222.0 31h0.0"/><rect height="22" width="79.5" x="142.5" y="20"/><text x="182.25" y="35">integer</text></g></g><path d="M222.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h49.75"/><path d="M172.25 61h49.75"/><g class="non-terminal">
<path d="M109.75 61h0.0"/><path d="M172.25 61h0.0"/><rect height="22" width="62.5" x="109.75" y="50"/><text x="141.0" y="65">digit</text></g></g><path d="M222.0 61h20"/></g><path d="M 242.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>digit
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="109" viewBox="0 0 522.5 109" width="522.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 59v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 69h0.0"/><path d="M482.5 69h0.0"/><path d="M40.0 69a10 10 0 0 0 10 -10v-29a10 10 0 0 1 10 -10h324.0"/><path d="M138.5 89h324.0a10 10 0 0 0 10 -10v0a10 10 0 0 1 10 -10"/><path d="M40.0 69h10"/><g>
<path d="M50.0 69h0.0"/><path d="M118.5 69h0.0"/><path d="M50.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><g class="terminal">
<path d="M70.0 39h0.0"/><path d="M98.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="28"/><text x="84.25" y="43">0</text></g></g><path d="M98.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M50.0 69h20"/><g>
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><g class="terminal">
<path d="M70.0 69h0.0"/><path d="M98.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="70.0" y="58"/><text x="84.25" y="73">1</text></g></g><path d="M98.5 69h20"/></g><path d="M118.5 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M118.5 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M138.5 69h0.0"/><path d="M207.0 69h0.0"/><path d="M138.5 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><g class="terminal">
<path d="M158.5 39h0.0"/><path d="M187.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="28"/><text x="172.75" y="43">2</text></g></g><path d="M187.0 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M138.5 69h20"/><g>
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><g class="terminal">
<path d="M158.5 69h0.0"/><path d="M187.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="158.5" y="58"/><text x="172.75" y="73">3</text></g></g><path d="M187.0 69h20"/></g><path d="M207.0 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M207.0 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M227.0 69h0.0"/><path d="M295.5 69h0.0"/><path d="M227.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><g class="terminal">
<path d="M247.0 39h0.0"/><path d="M275.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="28"/><text x="261.25" y="43">4</text></g></g><path d="M275.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M227.0 69h20"/><g>
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><g class="terminal">
<path d="M247.0 69h0.0"/><path d="M275.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="247.0" y="58"/><text x="261.25" y="73">5</text></g></g><path d="M275.5 69h20"/></g><path d="M295.5 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M295.5 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M315.5 69h0.0"/><path d="M384.0 69h0.0"/><path d="M315.5 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><g class="terminal">
<path d="M335.5 39h0.0"/><path d="M364.0 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="28"/><text x="349.75" y="43">6</text></g></g><path d="M364.0 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M315.5 69h20"/><g>
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><g class="terminal">
<path d="M335.5 69h0.0"/><path d="M364.0 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="335.5" y="58"/><text x="349.75" y="73">7</text></g></g><path d="M364.0 69h20"/></g><path d="M384.0 69a10 10 0 0 1 10 10v0a10 10 0 0 0 10 10"/><path d="M384.0 20a10 10 0 0 1 10 10v29a10 10 0 0 0 10 10"/><g>
<path d="M404.0 69h0.0"/><path d="M472.5 69h0.0"/><path d="M404.0 69a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><g class="terminal">
<path d="M424.0 39h0.0"/><path d="M452.5 39h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="28"/><text x="438.25" y="43">8</text></g></g><path d="M452.5 39a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M404.0 69h20"/><g>
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><g class="terminal">
<path d="M424.0 69h0.0"/><path d="M452.5 69h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="424.0" y="58"/><text x="438.25" y="73">9</text></g></g><path d="M452.5 69h20"/></g><path d="M472.5 69h10"/></g><path d="M 482.5 69 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;(1+24)-33&#39;</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">A3_GRAMMAR</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="o">==</span> <span class="n">mystring</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="276pt" height="431pt"
 viewBox="0.00 0.00 276.00 431.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 427)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-427 272,-427 272,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="127.5" y="-411.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="127.5" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M127.5,-407.9748C127.5,-401.195 127.5,-390.966 127.5,-382.1331"/>
<polygon fill="#000000" stroke="#000000" points="131.0001,-382.0561 127.5,-372.0561 124.0001,-382.0561 131.0001,-382.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="81.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M120.7125,-356.9748C113.9859,-349.517 103.495,-337.8857 95.0564,-328.53"/>
<polygon fill="#000000" stroke="#000000" points="97.612,-326.1376 88.3153,-321.0561 92.414,-330.826 97.612,-326.1376"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="127.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&#45;</text>
</g>
<!-- 1&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>1&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M127.5,-356.9748C127.5,-350.195 127.5,-339.966 127.5,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="131.0001,-331.0561 127.5,-321.0561 124.0001,-331.0561 131.0001,-331.0561"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="171.5" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>1&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M133.9924,-356.9748C140.3615,-349.5923 150.259,-338.1203 158.2878,-328.8142"/>
<polygon fill="#000000" stroke="#000000" points="161.0987,-330.914 164.981,-321.0561 155.7986,-326.3414 161.0987,-330.914"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="30.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">(</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M73.9748,-305.9748C65.1498,-297.1498 50.4808,-282.4808 40.6536,-272.6536"/>
<polygon fill="#000000" stroke="#000000" points="42.8424,-269.8926 33.2964,-265.2964 37.8926,-274.8424 42.8424,-269.8926"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="71.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 2&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M80.0245,-305.9748C78.6951,-299.195 76.6894,-288.966 74.9575,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="78.3404,-279.1958 72.9816,-270.0561 71.4712,-280.5427 78.3404,-279.1958"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="112.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">)</text>
</g>
<!-- 2&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>2&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M86.0742,-305.9748C90.9742,-297.9135 98.8382,-284.9759 104.7155,-275.3068"/>
<polygon fill="#000000" stroke="#000000" points="107.7102,-277.1183 109.9136,-266.7551 101.7286,-273.4823 107.7102,-277.1183"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="27.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M65.0076,-254.9748C58.6385,-247.5923 48.741,-236.1203 40.7122,-226.8142"/>
<polygon fill="#000000" stroke="#000000" points="43.2014,-224.3414 34.019,-219.0561 37.9013,-228.914 43.2014,-224.3414"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="70.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 4&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>4&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M71.3524,-254.9748C71.2195,-248.195 71.0189,-237.966 70.8457,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="74.3436,-228.9855 70.6482,-219.0561 67.345,-229.1228 74.3436,-228.9855"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="113.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 4&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>4&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M77.6972,-254.9748C83.7769,-247.5923 93.2245,-236.1203 100.8883,-226.8142"/>
<polygon fill="#000000" stroke="#000000" points="103.622,-229.0004 107.2773,-219.0561 98.2185,-224.5504 103.622,-229.0004"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="27.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M27.5,-203.9748C27.5,-197.195 27.5,-186.966 27.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-178.0561 27.5,-168.0561 24.0001,-178.0561 31.0001,-178.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="27.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M27.5,-152.9748C27.5,-146.195 27.5,-135.966 27.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-127.0561 27.5,-117.0561 24.0001,-127.0561 31.0001,-127.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="27.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M27.5,-101.9748C27.5,-95.195 27.5,-84.966 27.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="31.0001,-76.0561 27.5,-66.0561 24.0001,-76.0561 31.0001,-76.0561"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="113.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M113.5,-203.9748C113.5,-197.195 113.5,-186.966 113.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="117.0001,-178.0561 113.5,-168.0561 110.0001,-178.0561 117.0001,-178.0561"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="100.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M111.5818,-152.9748C109.8344,-146.1196 107.1882,-135.7383 104.9198,-126.8392"/>
<polygon fill="#000000" stroke="#000000" points="108.2877,-125.8817 102.4261,-117.0561 101.5046,-127.6108 108.2877,-125.8817"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="167.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 11&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>11&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M121.4679,-152.9748C129.5239,-145.3663 142.1792,-133.4141 152.1833,-123.9658"/>
<polygon fill="#000000" stroke="#000000" points="154.6325,-126.4669 159.4994,-117.0561 149.8261,-121.3778 154.6325,-126.4669"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="100.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M100.5,-101.9748C100.5,-95.195 100.5,-84.966 100.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="104.0001,-76.0561 100.5,-66.0561 97.0001,-76.0561 104.0001,-76.0561"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="167.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M167.5,-101.9748C167.5,-95.195 167.5,-84.966 167.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="171.0001,-76.0561 167.5,-66.0561 164.0001,-76.0561 171.0001,-76.0561"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="167.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">4</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M167.5,-50.9748C167.5,-44.195 167.5,-33.966 167.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="171.0001,-25.0561 167.5,-15.0561 164.0001,-25.0561 171.0001,-25.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="173.5" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M171.7951,-305.9748C172.061,-299.195 172.4621,-288.966 172.8085,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="176.309,-280.1856 173.2037,-270.0561 169.3144,-279.9112 176.309,-280.1856"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="173.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M173.5,-254.9748C173.5,-248.195 173.5,-237.966 173.5,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="177.0001,-229.0561 173.5,-219.0561 170.0001,-229.0561 177.0001,-229.0561"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="240.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 20&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>20&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M183.3861,-254.9748C193.6784,-247.1403 210.0213,-234.7002 222.593,-225.1307"/>
<polygon fill="#000000" stroke="#000000" points="224.7362,-227.898 230.5734,-219.0561 220.4964,-222.328 224.7362,-227.898"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="173.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M173.5,-203.9748C173.5,-197.195 173.5,-186.966 173.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="177.0001,-178.0561 173.5,-168.0561 170.0001,-178.0561 177.0001,-178.0561"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="240.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 23&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>23&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M240.5,-203.9748C240.5,-197.195 240.5,-186.966 240.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="244.0001,-178.0561 240.5,-168.0561 237.0001,-178.0561 244.0001,-178.0561"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="240.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 24&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>24&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M240.5,-152.9748C240.5,-146.195 240.5,-135.966 240.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="244.0001,-127.0561 240.5,-117.0561 237.0001,-127.0561 244.0001,-127.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We now have a complete parser that can parse almost arbitrary <em>CFG</em>. There remains a small corner to fix -- the case of epsilon rules as we will see later.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Ambiguous-Parsing">Ambiguous Parsing<a class="anchor-link" href="#Ambiguous-Parsing">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Ambiguous grammars are grammars that can produce multiple derivation trees for some given string. For example, the <code>A3_GRAMMAR</code> can parse <code>1+2+3</code> in two different ways – <code>[1+2]+3</code> and <code>1+[2+3]</code>.</p>
<p>Extracting a single tree might be reasonable for unambiguous parses. However, what if the given grammar produces ambiguity when given a string? We need to extract all derivation trees in that case. We enhance our <code>extract_trees()</code> method to extract multiple derivation trees.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">extract_trees</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">forest_node</span><span class="p">):</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">paths</span> <span class="o">=</span> <span class="n">forest_node</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">paths</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[(</span><span class="n">name</span><span class="p">,</span> <span class="p">[])]</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">path</span> <span class="ow">in</span> <span class="n">paths</span><span class="p">:</span>
            <span class="n">ptrees</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">extract_trees</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">path</span><span class="p">])</span>
            <span class="n">results</span><span class="o">.</span><span class="n">extend</span><span class="p">([(</span><span class="n">name</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ptrees</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">results</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As before, we verify that everything works.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;12+23-34&#39;</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">A1_GRAMMAR</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">mystring</span> <span class="o">==</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="363pt" height="380pt"
 viewBox="0.00 0.00 362.50 380.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 376)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-376 358.5,-376 358.5,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="210" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="210" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M210,-356.9748C210,-350.195 210,-339.966 210,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="213.5001,-331.0561 210,-321.0561 206.5001,-331.0561 213.5001,-331.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="162" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M202.9174,-305.9748C195.8983,-298.517 184.9513,-286.8857 176.1459,-277.53"/>
<polygon fill="#000000" stroke="#000000" points="178.514,-274.9393 169.1116,-270.0561 173.4166,-279.7369 178.514,-274.9393"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="210" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&#45;</text>
</g>
<!-- 1&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>1&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M210,-305.9748C210,-299.195 210,-288.966 210,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="213.5001,-280.0561 210,-270.0561 206.5001,-280.0561 213.5001,-280.0561"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="254" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>1&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M216.4924,-305.9748C222.8615,-298.5923 232.759,-287.1203 240.7878,-277.8142"/>
<polygon fill="#000000" stroke="#000000" points="243.5987,-279.914 247.481,-270.0561 238.2986,-275.3414 243.5987,-279.914"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="102" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M153.1468,-254.9748C144.1071,-247.291 129.8553,-235.177 118.6893,-225.6859"/>
<polygon fill="#000000" stroke="#000000" points="120.7757,-222.8658 110.8895,-219.0561 116.2422,-228.1994 120.7757,-222.8658"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="148" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 2&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>2&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M159.9343,-254.9748C158.0524,-248.1196 155.2027,-237.7383 152.7598,-228.8392"/>
<polygon fill="#000000" stroke="#000000" points="156.0966,-227.7728 150.0742,-219.0561 149.3463,-229.6259 156.0966,-227.7728"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="191" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 2&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>2&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M166.279,-254.9748C170.3056,-247.8936 176.4716,-237.05 181.6381,-227.9641"/>
<polygon fill="#000000" stroke="#000000" points="184.8028,-229.4791 186.7034,-219.0561 178.7178,-226.0189 184.8028,-229.4791"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="88" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M99.9343,-203.9748C98.0524,-197.1196 95.2027,-186.7383 92.7598,-177.8392"/>
<polygon fill="#000000" stroke="#000000" points="96.0966,-176.7728 90.0742,-168.0561 89.3463,-178.6259 96.0966,-176.7728"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="21" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M78.1139,-152.9748C67.8216,-145.1403 51.4787,-132.7002 38.907,-123.1307"/>
<polygon fill="#000000" stroke="#000000" points="41.0036,-120.328 30.9266,-117.0561 36.7638,-125.898 41.0036,-120.328"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="88" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 4&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>4&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M88,-152.9748C88,-146.195 88,-135.966 88,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="91.5001,-127.0561 88,-117.0561 84.5001,-127.0561 91.5001,-127.0561"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="21" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M21,-101.9748C21,-95.195 21,-84.966 21,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="24.5001,-76.0561 21,-66.0561 17.5001,-76.0561 24.5001,-76.0561"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="88" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M88,-101.9748C88,-95.195 88,-84.966 88,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="91.5001,-76.0561 88,-66.0561 84.5001,-76.0561 91.5001,-76.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="88" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M88,-50.9748C88,-44.195 88,-33.966 88,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="91.5001,-25.0561 88,-15.0561 84.5001,-25.0561 91.5001,-25.0561"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="191" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M191,-203.9748C191,-197.195 191,-186.966 191,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="194.5001,-178.0561 191,-168.0561 187.5001,-178.0561 194.5001,-178.0561"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="155" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M185.6881,-152.9748C180.5833,-145.743 172.7084,-134.5868 166.2141,-125.3866"/>
<polygon fill="#000000" stroke="#000000" points="168.96,-123.2074 160.3337,-117.0561 163.2412,-127.2442 168.96,-123.2074"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="222" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 12&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>12&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M195.5742,-152.9748C199.9242,-145.8183 206.6101,-134.8188 212.1683,-125.6747"/>
<polygon fill="#000000" stroke="#000000" points="215.2037,-127.4193 217.4071,-117.0561 209.222,-123.7834 215.2037,-127.4193"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="155" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M155,-101.9748C155,-95.195 155,-84.966 155,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="158.5001,-76.0561 155,-66.0561 151.5001,-76.0561 158.5001,-76.0561"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="222" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M222,-101.9748C222,-95.195 222,-84.966 222,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="225.5001,-76.0561 222,-66.0561 218.5001,-76.0561 225.5001,-76.0561"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="222" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M222,-50.9748C222,-44.195 222,-33.966 222,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="225.5001,-25.0561 222,-15.0561 218.5001,-25.0561 225.5001,-25.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="260" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M254.8853,-254.9748C255.6829,-248.195 256.8864,-237.966 257.9255,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="261.4186,-229.3966 259.111,-219.0561 254.4665,-228.5786 261.4186,-229.3966"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="260" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M260,-203.9748C260,-197.195 260,-186.966 260,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="263.5001,-178.0561 260,-168.0561 256.5001,-178.0561 263.5001,-178.0561"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="327" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 20&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>20&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M269.8861,-203.9748C280.1784,-196.1403 296.5213,-183.7002 309.093,-174.1307"/>
<polygon fill="#000000" stroke="#000000" points="311.2362,-176.898 317.0734,-168.0561 306.9964,-171.328 311.2362,-176.898"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="272" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M261.7706,-152.9748C263.3836,-146.1196 265.8263,-135.7383 267.9202,-126.8392"/>
<polygon fill="#000000" stroke="#000000" points="271.3386,-127.5919 270.2221,-117.0561 264.5247,-125.9886 271.3386,-127.5919"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="327" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 23&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>23&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M327,-152.9748C327,-146.195 327,-135.966 327,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="330.5001,-127.0561 327,-117.0561 323.5001,-127.0561 330.5001,-127.0561"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="327" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">4</text>
</g>
<!-- 24&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>24&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M327,-101.9748C327,-95.195 327,-84.966 327,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="330.5001,-76.0561 327,-66.0561 323.5001,-76.0561 330.5001,-76.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="373pt" height="380pt"
 viewBox="0.00 0.00 372.50 380.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 376)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-376 368.5,-376 368.5,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="152" y="-360.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="152" y="-309.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M152,-356.9748C152,-350.195 152,-339.966 152,-331.1331"/>
<polygon fill="#000000" stroke="#000000" points="155.5001,-331.0561 152,-321.0561 148.5001,-331.0561 155.5001,-331.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="102" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M144.6223,-305.9748C137.2369,-298.4417 125.6768,-286.6503 116.458,-277.2472"/>
<polygon fill="#000000" stroke="#000000" points="118.9079,-274.7466 109.4079,-270.0561 113.9094,-279.6471 118.9079,-274.7466"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="152" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- 1&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>1&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M152,-305.9748C152,-299.195 152,-288.966 152,-280.1331"/>
<polygon fill="#000000" stroke="#000000" points="155.5001,-280.0561 152,-270.0561 148.5001,-280.0561 155.5001,-280.0561"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="198" y="-258.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>1&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M158.7875,-305.9748C165.5141,-298.517 176.005,-286.8857 184.4436,-277.53"/>
<polygon fill="#000000" stroke="#000000" points="187.086,-279.826 191.1847,-270.0561 181.888,-275.1376 187.086,-279.826"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="88" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M99.9343,-254.9748C98.0524,-248.1196 95.2027,-237.7383 92.7598,-228.8392"/>
<polygon fill="#000000" stroke="#000000" points="96.0966,-227.7728 90.0742,-219.0561 89.3463,-229.6259 96.0966,-227.7728"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="21" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M78.1139,-203.9748C67.8216,-196.1403 51.4787,-183.7002 38.907,-174.1307"/>
<polygon fill="#000000" stroke="#000000" points="41.0036,-171.328 30.9266,-168.0561 36.7638,-176.898 41.0036,-171.328"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="88" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 3&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M88,-203.9748C88,-197.195 88,-186.966 88,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="91.5001,-178.0561 88,-168.0561 84.5001,-178.0561 91.5001,-178.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="21" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M21,-152.9748C21,-146.195 21,-135.966 21,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="24.5001,-127.0561 21,-117.0561 17.5001,-127.0561 24.5001,-127.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="76" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M86.2294,-152.9748C84.6164,-146.1196 82.1737,-135.7383 80.0798,-126.8392"/>
<polygon fill="#000000" stroke="#000000" points="83.4753,-125.9886 77.7779,-117.0561 76.6614,-127.5919 83.4753,-125.9886"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="76" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M76,-101.9748C76,-95.195 76,-84.966 76,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="79.5001,-76.0561 76,-66.0561 72.5001,-76.0561 79.5001,-76.0561"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="165" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M193.1307,-254.9748C188.5001,-247.8183 181.3828,-236.8188 175.466,-227.6747"/>
<polygon fill="#000000" stroke="#000000" points="178.2603,-225.5504 169.8892,-219.0561 172.3833,-229.3532 178.2603,-225.5504"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="206" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&#45;</text>
</g>
<!-- 10&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>10&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M199.1804,-254.9748C200.2439,-248.195 201.8485,-237.966 203.234,-229.1331"/>
<polygon fill="#000000" stroke="#000000" points="206.7227,-229.4777 204.8147,-219.0561 199.8073,-228.3929 206.7227,-229.4777"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="254" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 10&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>10&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M206.263,-254.9748C214.6174,-247.3663 227.7414,-235.4141 238.116,-225.9658"/>
<polygon fill="#000000" stroke="#000000" points="240.6663,-228.3771 245.7031,-219.0561 235.953,-223.2017 240.6663,-228.3771"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="165" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M165,-203.9748C165,-197.195 165,-186.966 165,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="168.5001,-178.0561 165,-168.0561 161.5001,-178.0561 168.5001,-178.0561"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="136" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M160.721,-152.9748C156.6944,-145.8936 150.5284,-135.05 145.3619,-125.9641"/>
<polygon fill="#000000" stroke="#000000" points="148.2822,-124.0189 140.2966,-117.0561 142.1972,-127.4791 148.2822,-124.0189"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="203" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 12&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>12&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M170.607,-152.9748C176.0516,-145.6677 184.4813,-134.354 191.3767,-125.0997"/>
<polygon fill="#000000" stroke="#000000" points="194.2017,-127.1661 197.37,-117.0561 188.5885,-122.9837 194.2017,-127.1661"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="136" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M136,-101.9748C136,-95.195 136,-84.966 136,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="139.5001,-76.0561 136,-66.0561 132.5001,-76.0561 139.5001,-76.0561"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="203" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M203,-101.9748C203,-95.195 203,-84.966 203,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="206.5001,-76.0561 203,-66.0561 199.5001,-76.0561 206.5001,-76.0561"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="203" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M203,-50.9748C203,-44.195 203,-33.966 203,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="206.5001,-25.0561 203,-15.0561 199.5001,-25.0561 206.5001,-25.0561"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="270" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M256.3609,-203.9748C258.5115,-197.1196 261.7684,-186.7383 264.5602,-177.8392"/>
<polygon fill="#000000" stroke="#000000" points="267.9755,-178.6453 267.6295,-168.0561 261.2965,-176.5499 267.9755,-178.6453"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="270" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M270,-152.9748C270,-146.195 270,-135.966 270,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="273.5001,-127.0561 270,-117.0561 266.5001,-127.0561 273.5001,-127.0561"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="337" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 20&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>20&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M279.8861,-152.9748C290.1784,-145.1403 306.5213,-132.7002 319.093,-123.1307"/>
<polygon fill="#000000" stroke="#000000" points="321.2362,-125.898 327.0734,-117.0561 316.9964,-120.328 321.2362,-125.898"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="270" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M270,-101.9748C270,-95.195 270,-84.966 270,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="273.5001,-76.0561 270,-66.0561 266.5001,-76.0561 273.5001,-76.0561"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="337" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 23&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>23&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M337,-101.9748C337,-95.195 337,-84.966 337,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="340.5001,-76.0561 337,-66.0561 333.5001,-76.0561 340.5001,-76.0561"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="337" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">4</text>
</g>
<!-- 24&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>24&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M337,-50.9748C337,-44.195 337,-33.966 337,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="340.5001,-25.0561 337,-15.0561 333.5001,-25.0561 340.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One can also use a <code>GrammarFuzzer</code> to verify that everything works.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gf</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">A1_GRAMMAR</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">gf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="o">==</span> <span class="n">s</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0 3
1 2-2-2-8-8-8+3-6-9+5
2 9-48+0-5-3+9+90+5-6+8-847
3 2-7-62-8-7+7+5-3-6+1
4 8-1+2-5+4+9-0-4+6-1
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="The-Aycock-Epsilon-Fix">The Aycock Epsilon Fix<a class="anchor-link" href="#The-Aycock-Epsilon-Fix">&#182;</a></h3><p>While parsing, one often requires to know whether a given nonterminal can derive an empty string. For example, in the following grammar A can derive an empty string, while B can't. The nonterminals that can derive an empty string are called <em>nullable</em> nonterminals. For example, in the below grammar <code>E_GRAMMAR_1</code>,  <code>&lt;A&gt;</code> is <em>nullable</em>, and since <code>&lt;A&gt;</code> is one of the alternatives of <code>&lt;start&gt;</code>, <code>&lt;start&gt;</code> is also <em>nullable</em>. But <code>&lt;B&gt;</code> is not <em>nullable</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">E_GRAMMAR_1</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;B&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;B&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One of the problems with the original Earley implementation is that it does not handle rules that can derive empty strings very well. For example, the given grammar should match <code>a</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">EPSILON</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
<span class="n">E_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;S&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;S&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;A&gt;&lt;A&gt;&lt;A&gt;&lt;A&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;A&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;E&gt;&#39;</span><span class="p">],</span>
    <span class="s1">&#39;&lt;E&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">EPSILON</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">E_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 148.5 62" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M108.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">S</text></g></g><path d="M88.5 31h20"/></g><path d="M 108.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>S
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 294.0 62" width="294.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M254.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M234.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">A</text></g><path d="M88.5 31h10"/><path d="M98.5 31h10"/><g class="non-terminal">
<path d="M108.5 31h0.0"/><path d="M137.0 31h0.0"/><rect height="22" width="28.5" x="108.5" y="20"/><text x="122.75" y="35">A</text></g><path d="M137.0 31h10"/><path d="M147.0 31h10"/><g class="non-terminal">
<path d="M157.0 31h0.0"/><path d="M185.5 31h0.0"/><rect height="22" width="28.5" x="157.0" y="20"/><text x="171.25" y="35">A</text></g><path d="M185.5 31h10"/><path d="M195.5 31h10"/><g class="non-terminal">
<path d="M205.5 31h0.0"/><path d="M234.0 31h0.0"/><rect height="22" width="28.5" x="205.5" y="20"/><text x="219.75" y="35">A</text></g></g><path d="M234.0 31h20"/></g><path d="M 254.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>A
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 148.5 92" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M108.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">a</text></g></g><path d="M88.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h0.0"/><path d="M88.5 61h0.0"/><g class="non-terminal">
<path d="M60.0 61h0.0"/><path d="M88.5 61h0.0"/><rect height="22" width="28.5" x="60.0" y="50"/><text x="74.25" y="65">E</text></g></g><path d="M88.5 61h20"/></g><path d="M 108.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>E
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 140.0 62" width="140.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M100.0 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M80.0 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M80.0 31h0.0"/><rect height="22" rx="10" ry="10" width="20.0" x="60.0" y="20"/><text x="70.0" y="35"/></g></g><path d="M80.0 31h20"/></g><path d="M 100.0 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">E_GRAMMAR</span><span class="p">)</span>
<span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">trees</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-134-61c19f40fd3a&gt;&#34;, line 4, in &lt;module&gt;
    trees = parser.parse(mystring)
  File &#34;&lt;ipython-input-119-555708227559&gt;&#34;, line 5, in parse
    raise SyntaxError(&#34;at &#34; + repr(text[cursor:]))
  File &#34;&lt;string&gt;&#34;, line None
SyntaxError: at &#39;a&#39; (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Aycock et al.[John Aycock <em>et al</em>, 2002.] suggests a simple fix. Their idea is to pre-compute the <code>nullable</code> set and use it to advance the <code>nullable</code> states. However, before we do that, we need to compute the <code>nullable</code> set. The <code>nullable</code> set consists of all nonterminals that can derive an empty string.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Computing the <code>nullable</code> set requires expanding each production rule in the grammar iteratively and inspecting whether a given rule can derive the empty string. Each iteration needs to take into account new terminals that have been found to be <code>nullable</code>. The procedure stops when we obtain a stable result. This procedure can be abstracted into a more general method <code>fixpoint</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Fixpoint">Fixpoint<a class="anchor-link" href="#Fixpoint">&#182;</a></h4><p>A <code>fixpoint</code> of a function is an element in the function's domain such that it is mapped to itself. For example, 1 is a <code>fixpoint</code> of square root because <code>squareroot(1) == 1</code>.</p>
<p>(We use <code>str</code> rather than <code>hash</code> to check for equality in <code>fixpoint</code> because the data structure <code>set</code>, which we would like to use as an argument has a good string representation but is not hashable).</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">fixpoint</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">helper</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">sarg</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
            <span class="n">arg_</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">arg_</span><span class="p">)</span> <span class="o">==</span> <span class="n">sarg</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">arg</span>
            <span class="n">arg</span> <span class="o">=</span> <span class="n">arg_</span>

    <span class="k">return</span> <span class="n">helper</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Remember <code>my_sqrt()</code> from <a href="Intro_Testing.html">the first chapter</a>? We can define <code>my_sqrt()</code> using fixpoint.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="nd">@fixpoint</span>
    <span class="k">def</span> <span class="nf">_my_sqrt</span><span class="p">(</span><span class="n">approx</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">approx</span> <span class="o">+</span> <span class="n">x</span> <span class="o">/</span> <span class="n">approx</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>

    <span class="k">return</span> <span class="n">_my_sqrt</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>1.414213562373095
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Nullable">Nullable<a class="anchor-link" href="#Nullable">&#182;</a></h4><p>Similarly, we can define <code>nullable</code> using <code>fixpoint</code>. We essentially provide the definition of a single intermediate step. That is, assuming that <code>nullables</code> contain the current <code>nullable</code> nonterminals, we iterate over the grammar looking for productions which are <code>nullable</code> -- that is, productions where the entire sequence can yield an empty string on some expansion.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We need to iterate over the different alternative expressions and their corresponding nonterminals. Hence we define a <code>rules()</code> method converts our dictionary representation to this pair format.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">rules</span><span class="p">(</span><span class="n">grammar</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">key</span><span class="p">,</span> <span class="n">choice</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">choices</span> <span class="ow">in</span> <span class="n">grammar</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <code>terminals()</code> method extracts all terminal symbols from a <code>canonical</code> grammar representation.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">terminals</span><span class="p">(</span><span class="n">grammar</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">token</span>
               <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">choice</span> <span class="ow">in</span> <span class="n">rules</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span>
               <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">choice</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">grammar</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">nullable_expr</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">nullables</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">token</span> <span class="ow">in</span> <span class="n">nullables</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">expr</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">nullable</span><span class="p">(</span><span class="n">grammar</span><span class="p">):</span>
    <span class="n">productions</span> <span class="o">=</span> <span class="n">rules</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span>

    <span class="nd">@fixpoint</span>
    <span class="k">def</span> <span class="nf">nullable_</span><span class="p">(</span><span class="n">nullables</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">A</span><span class="p">,</span> <span class="n">expr</span> <span class="ow">in</span> <span class="n">productions</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">nullable_expr</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">nullables</span><span class="p">):</span>
                <span class="n">nullables</span> <span class="o">|=</span> <span class="p">{</span><span class="n">A</span><span class="p">}</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">nullables</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">nullable_</span><span class="p">({</span><span class="n">EPSILON</span><span class="p">})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">grammar</span> <span class="ow">in</span> <span class="p">{</span>
        <span class="s1">&#39;E_GRAMMAR&#39;</span><span class="p">:</span> <span class="n">E_GRAMMAR</span><span class="p">,</span>
        <span class="s1">&#39;E_GRAMMAR_1&#39;</span><span class="p">:</span> <span class="n">E_GRAMMAR_1</span>
<span class="p">}</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">nullable</span><span class="p">(</span><span class="n">canonical</span><span class="p">(</span><span class="n">grammar</span><span class="p">)))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>E_GRAMMAR {&#39;&#39;, &#39;&lt;A&gt;&#39;, &#39;&lt;E&gt;&#39;, &#39;&lt;start&gt;&#39;, &#39;&lt;S&gt;&#39;}
E_GRAMMAR_1 {&#39;&#39;, &#39;&lt;A&gt;&#39;, &#39;&lt;start&gt;&#39;}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So, once we have the <code>nullable</code> set, all that we need to do is, after we have called <code>predict</code> on a state corresponding to a nonterminal, check if it is <code>nullable</code> and if it is, advance and add the state to the current column.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">EarleyParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grammar</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span> <span class="o">=</span> <span class="n">canonical</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">letters</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span> <span class="o">=</span> <span class="n">nullable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">sym</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">alt</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">[</span><span class="n">sym</span><span class="p">]:</span>
            <span class="n">col</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">State</span><span class="p">(</span><span class="n">sym</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">alt</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">col</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">sym</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">epsilon</span><span class="p">:</span>
            <span class="n">col</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">state</span><span class="o">.</span><span class="n">advance</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;a&#39;</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">E_GRAMMAR</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">):</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="166pt" height="176pt"
 viewBox="0.00 0.00 166.00 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 162,-172 162,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="79" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="79" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;S&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M79,-152.9748C79,-146.195 79,-135.966 79,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="82.5001,-127.0561 79,-117.0561 75.5001,-127.0561 82.5001,-127.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="13" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M69.2615,-101.9748C59.2203,-94.2157 43.3329,-81.939 30.998,-72.4075"/>
<polygon fill="#000000" stroke="#000000" points="32.8314,-69.4011 22.7785,-66.0561 28.5513,-74.9401 32.8314,-69.4011"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="57" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M75.7538,-101.9748C72.7317,-94.969 68.1209,-84.2803 64.2275,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="67.4342,-73.8519 60.2595,-66.0561 61.0067,-76.6246 67.4342,-73.8519"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="101" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M82.2462,-101.9748C85.2683,-94.969 89.8791,-84.2803 93.7725,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="96.9933,-76.6246 97.7405,-66.0561 90.5658,-73.8519 96.9933,-76.6246"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="145" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M88.7385,-101.9748C98.7797,-94.2157 114.6671,-81.939 127.002,-72.4075"/>
<polygon fill="#000000" stroke="#000000" points="129.4487,-74.9401 135.2215,-66.0561 125.1686,-69.4011 129.4487,-74.9401"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="13" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M13,-50.9748C13,-44.195 13,-33.966 13,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="16.5001,-25.0561 13,-15.0561 9.5001,-25.0561 16.5001,-25.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="57" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M57,-50.9748C57,-44.195 57,-33.966 57,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="60.5001,-25.0561 57,-15.0561 53.5001,-25.0561 60.5001,-25.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="101" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M101,-50.9748C101,-44.195 101,-33.966 101,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="104.5001,-25.0561 101,-15.0561 97.5001,-25.0561 104.5001,-25.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="145" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M145,-50.9748C145,-44.195 145,-33.966 145,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="148.5001,-25.0561 145,-15.0561 141.5001,-25.0561 148.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="166pt" height="176pt"
 viewBox="0.00 0.00 166.00 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 162,-172 162,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="79" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="79" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;S&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M79,-152.9748C79,-146.195 79,-135.966 79,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="82.5001,-127.0561 79,-117.0561 75.5001,-127.0561 82.5001,-127.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="13" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M69.2615,-101.9748C59.2203,-94.2157 43.3329,-81.939 30.998,-72.4075"/>
<polygon fill="#000000" stroke="#000000" points="32.8314,-69.4011 22.7785,-66.0561 28.5513,-74.9401 32.8314,-69.4011"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="57" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M75.7538,-101.9748C72.7317,-94.969 68.1209,-84.2803 64.2275,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="67.4342,-73.8519 60.2595,-66.0561 61.0067,-76.6246 67.4342,-73.8519"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="101" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M82.2462,-101.9748C85.2683,-94.969 89.8791,-84.2803 93.7725,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="96.9933,-76.6246 97.7405,-66.0561 90.5658,-73.8519 96.9933,-76.6246"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="145" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M88.7385,-101.9748C98.7797,-94.2157 114.6671,-81.939 127.002,-72.4075"/>
<polygon fill="#000000" stroke="#000000" points="129.4487,-74.9401 135.2215,-66.0561 125.1686,-69.4011 129.4487,-74.9401"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="13" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M13,-50.9748C13,-44.195 13,-33.966 13,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="16.5001,-25.0561 13,-15.0561 9.5001,-25.0561 16.5001,-25.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="57" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M57,-50.9748C57,-44.195 57,-33.966 57,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="60.5001,-25.0561 57,-15.0561 53.5001,-25.0561 60.5001,-25.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="101" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M101,-50.9748C101,-44.195 101,-33.966 101,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="104.5001,-25.0561 101,-15.0561 97.5001,-25.0561 104.5001,-25.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="145" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M145,-50.9748C145,-44.195 145,-33.966 145,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="148.5001,-25.0561 145,-15.0561 141.5001,-25.0561 148.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="166pt" height="176pt"
 viewBox="0.00 0.00 166.00 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 162,-172 162,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="79" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="79" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;S&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M79,-152.9748C79,-146.195 79,-135.966 79,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="82.5001,-127.0561 79,-117.0561 75.5001,-127.0561 82.5001,-127.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="13" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M69.2615,-101.9748C59.2203,-94.2157 43.3329,-81.939 30.998,-72.4075"/>
<polygon fill="#000000" stroke="#000000" points="32.8314,-69.4011 22.7785,-66.0561 28.5513,-74.9401 32.8314,-69.4011"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="57" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M75.7538,-101.9748C72.7317,-94.969 68.1209,-84.2803 64.2275,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="67.4342,-73.8519 60.2595,-66.0561 61.0067,-76.6246 67.4342,-73.8519"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="101" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M82.2462,-101.9748C85.2683,-94.969 89.8791,-84.2803 93.7725,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="96.9933,-76.6246 97.7405,-66.0561 90.5658,-73.8519 96.9933,-76.6246"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="145" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M88.7385,-101.9748C98.7797,-94.2157 114.6671,-81.939 127.002,-72.4075"/>
<polygon fill="#000000" stroke="#000000" points="129.4487,-74.9401 135.2215,-66.0561 125.1686,-69.4011 129.4487,-74.9401"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="13" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M13,-50.9748C13,-44.195 13,-33.966 13,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="16.5001,-25.0561 13,-15.0561 9.5001,-25.0561 16.5001,-25.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="57" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M57,-50.9748C57,-44.195 57,-33.966 57,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="60.5001,-25.0561 57,-15.0561 53.5001,-25.0561 60.5001,-25.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="101" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M101,-50.9748C101,-44.195 101,-33.966 101,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="104.5001,-25.0561 101,-15.0561 97.5001,-25.0561 104.5001,-25.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="145" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M145,-50.9748C145,-44.195 145,-33.966 145,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="148.5001,-25.0561 145,-15.0561 141.5001,-25.0561 148.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="166pt" height="176pt"
 viewBox="0.00 0.00 166.00 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 162,-172 162,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="79" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="79" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;S&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M79,-152.9748C79,-146.195 79,-135.966 79,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="82.5001,-127.0561 79,-117.0561 75.5001,-127.0561 82.5001,-127.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="13" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M69.2615,-101.9748C59.2203,-94.2157 43.3329,-81.939 30.998,-72.4075"/>
<polygon fill="#000000" stroke="#000000" points="32.8314,-69.4011 22.7785,-66.0561 28.5513,-74.9401 32.8314,-69.4011"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="57" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M75.7538,-101.9748C72.7317,-94.969 68.1209,-84.2803 64.2275,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="67.4342,-73.8519 60.2595,-66.0561 61.0067,-76.6246 67.4342,-73.8519"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="101" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M82.2462,-101.9748C85.2683,-94.969 89.8791,-84.2803 93.7725,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="96.9933,-76.6246 97.7405,-66.0561 90.5658,-73.8519 96.9933,-76.6246"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="145" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;A&gt;</text>
</g>
<!-- 1&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M88.7385,-101.9748C98.7797,-94.2157 114.6671,-81.939 127.002,-72.4075"/>
<polygon fill="#000000" stroke="#000000" points="129.4487,-74.9401 135.2215,-66.0561 125.1686,-69.4011 129.4487,-74.9401"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="13" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M13,-50.9748C13,-44.195 13,-33.966 13,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="16.5001,-25.0561 13,-15.0561 9.5001,-25.0561 16.5001,-25.0561"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="57" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M57,-50.9748C57,-44.195 57,-33.966 57,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="60.5001,-25.0561 57,-15.0561 53.5001,-25.0561 60.5001,-25.0561"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="101" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M101,-50.9748C101,-44.195 101,-33.966 101,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="104.5001,-25.0561 101,-15.0561 97.5001,-25.0561 104.5001,-25.0561"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="145" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;E&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M145,-50.9748C145,-44.195 145,-33.966 145,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="148.5001,-25.0561 145,-15.0561 141.5001,-25.0561 148.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="More-Earley-Parsing">More Earley Parsing<a class="anchor-link" href="#More-Earley-Parsing">&#182;</a></h3><p>A number of other optimizations exist for Earley parsers. A fast industrial strength Earley parser implementation is the <a href="https://jeffreykegler.github.io/Marpa-web-site/">Marpa parser</a>. Further, Earley parsing need not be restricted to character data. One may also parse streams (audio and video streams) [Qi <em>et al</em>, 2018.] using a generalized Earley parser.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Testing-the-Parsers">Testing the Parsers<a class="anchor-link" href="#Testing-the-Parsers">&#182;</a></h2><p>While we have defined two parser variants, it would be nice to have some confirmation that our parses work well. While it is possible to formally prove that they work, it is much more satisfying to generate random grammars, their corresponding strings, and parse them using the same grammar.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">prod_line_grammar</span><span class="p">(</span><span class="n">nonterminals</span><span class="p">,</span> <span class="n">terminals</span><span class="p">):</span>
    <span class="n">g</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;symbols&gt;&#39;</span><span class="p">],</span>
        <span class="s1">&#39;&lt;symbols&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;symbol&gt;&lt;symbols&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;symbol&gt;&#39;</span><span class="p">],</span>
        <span class="s1">&#39;&lt;symbol&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;nonterminals&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;terminals&gt;&#39;</span><span class="p">],</span>
        <span class="s1">&#39;&lt;nonterminals&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;lt&gt;&lt;alpha&gt;&lt;gt&gt;&#39;</span><span class="p">],</span>
        <span class="s1">&#39;&lt;lt&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&lt;&#39;</span><span class="p">],</span>
        <span class="s1">&#39;&lt;gt&gt;&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;&gt;&#39;</span><span class="p">],</span>
        <span class="s1">&#39;&lt;alpha&gt;&#39;</span><span class="p">:</span> <span class="n">nonterminals</span><span class="p">,</span>
        <span class="s1">&#39;&lt;terminals&gt;&#39;</span><span class="p">:</span> <span class="n">terminals</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">nonterminals</span><span class="p">:</span>
        <span class="n">g</span><span class="p">[</span><span class="s1">&#39;&lt;nonterminals&gt;&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">g</span><span class="p">[</span><span class="s1">&#39;&lt;lt&gt;&#39;</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">g</span><span class="p">[</span><span class="s1">&#39;&lt;alpha&gt;&#39;</span><span class="p">]</span>
        <span class="k">del</span> <span class="n">g</span><span class="p">[</span><span class="s1">&#39;&lt;gt&gt;&#39;</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">g</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">syntax_diagram</span><span class="p">(</span><span class="n">prod_line_grammar</span><span class="p">([</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">]))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 199.5 62" width="199.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M159.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M139.5 31h0.0"/><rect height="22" width="79.5" x="60.0" y="20"/><text x="99.75" y="35">symbols</text></g></g><path d="M139.5 31h20"/></g><path d="M 159.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>symbols
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 290.5 92" width="290.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M250.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M230.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M131.0 31h0.0"/><rect height="22" width="71.0" x="60.0" y="20"/><text x="95.5" y="35">symbol</text></g><path d="M131.0 31h10"/><path d="M141.0 31h10"/><g class="non-terminal">
<path d="M151.0 31h0.0"/><path d="M230.5 31h0.0"/><rect height="22" width="79.5" x="151.0" y="20"/><text x="190.75" y="35">symbols</text></g></g><path d="M230.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h49.75"/><path d="M180.75 61h49.75"/><g class="non-terminal">
<path d="M109.75 61h0.0"/><path d="M180.75 61h0.0"/><rect height="22" width="71.0" x="109.75" y="50"/><text x="145.25" y="65">symbol</text></g></g><path d="M230.5 61h20"/></g><path d="M 250.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>symbol
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="92" viewBox="0 0 242.0 92" width="242.0" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M202.0 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M182.0 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M182.0 31h0.0"/><rect height="22" width="122.0" x="60.0" y="20"/><text x="121.0" y="35">nonterminals</text></g></g><path d="M182.0 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h12.75"/><path d="M169.25 61h12.75"/><g class="non-terminal">
<path d="M72.75 61h0.0"/><path d="M169.25 61h0.0"/><rect height="22" width="96.5" x="72.75" y="50"/><text x="121.0" y="65">terminals</text></g></g><path d="M182.0 61h20"/></g><path d="M 202.0 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>nonterminals
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 296.5 62" width="296.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M256.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M236.5 31h0.0"/><g class="non-terminal">
<path d="M60.0 31h0.0"/><path d="M97.0 31h0.0"/><rect height="22" width="37.0" x="60.0" y="20"/><text x="78.5" y="35">lt</text></g><path d="M97.0 31h10"/><path d="M107.0 31h10"/><g class="non-terminal">
<path d="M117.0 31h0.0"/><path d="M179.5 31h0.0"/><rect height="22" width="62.5" x="117.0" y="20"/><text x="148.25" y="35">alpha</text></g><path d="M179.5 31h10"/><path d="M189.5 31h10"/><g class="non-terminal">
<path d="M199.5 31h0.0"/><path d="M236.5 31h0.0"/><rect height="22" width="37.0" x="199.5" y="20"/><text x="218.0" y="35">gt</text></g></g><path d="M236.5 31h20"/></g><path d="M 256.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>lt
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 148.5 62" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M108.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">&lt;</text></g></g><path d="M88.5 31h20"/></g><path d="M 108.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>gt
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="62" viewBox="0 0 148.5 62" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 21v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 31h0.0"/><path d="M108.5 31h0.0"/><path d="M40.0 31h20"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">&gt;</text></g></g><path d="M88.5 31h20"/></g><path d="M 108.5 31 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>alpha
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="122" viewBox="0 0 148.5 122" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M108.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">A</text></g></g><path d="M88.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h0.0"/><path d="M88.5 61h0.0"/><g class="terminal">
<path d="M60.0 61h0.0"/><path d="M88.5 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="50"/><text x="74.25" y="65">B</text></g></g><path d="M88.5 61h20"/><path d="M40.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M60.0 91h0.0"/><path d="M88.5 91h0.0"/><g class="terminal">
<path d="M60.0 91h0.0"/><path d="M88.5 91h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="80"/><text x="74.25" y="95">C</text></g></g><path d="M88.5 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/></g><path d="M 108.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>terminals
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<svg class="railroad-diagram" height="122" viewBox="0 0 148.5 122" width="148.5" xmlns="http://www.w3.org/2000/svg">
<g transform="translate(.5 .5)">
<style>/* <![CDATA[ */
    svg.railroad-diagram {
        background-color:hsl(100,100%,100%);
    }
    svg.railroad-diagram path {
        stroke-width:3;
        stroke:black;
        fill:rgba(0,0,0,0);
    }
    svg.railroad-diagram text {
        font:bold 14px monospace;
        text-anchor:middle;
    }
    svg.railroad-diagram text.label{
        text-anchor:start;
    }
    svg.railroad-diagram text.comment{
        font:italic 12px monospace;
    }
    svg.railroad-diagram rect{
        stroke-width:3;
        stroke:black;
        fill:hsl(0,62%,82%);
    }

/* ]]> */
</style><g>
<path d="M20 51v20m10 -20v20m-10 -10h20"/></g><g>
<path d="M40 61h0.0"/><path d="M108.5 61h0.0"/><path d="M40.0 61a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/><g>
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><g class="terminal">
<path d="M60.0 31h0.0"/><path d="M88.5 31h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="20"/><text x="74.25" y="35">1</text></g></g><path d="M88.5 31a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><path d="M40.0 61h20"/><g>
<path d="M60.0 61h0.0"/><path d="M88.5 61h0.0"/><g class="terminal">
<path d="M60.0 61h0.0"/><path d="M88.5 61h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="50"/><text x="74.25" y="65">2</text></g></g><path d="M88.5 61h20"/><path d="M40.0 61a10 10 0 0 1 10 10v10a10 10 0 0 0 10 10"/><g>
<path d="M60.0 91h0.0"/><path d="M88.5 91h0.0"/><g class="terminal">
<path d="M60.0 91h0.0"/><path d="M88.5 91h0.0"/><rect height="22" rx="10" ry="10" width="28.5" x="60.0" y="80"/><text x="74.25" y="95">3</text></g></g><path d="M88.5 91a10 10 0 0 0 10 -10v-10a10 10 0 0 1 10 -10"/></g><path d="M 108.5 61 h 20 m -10 -10 v 20 m 10 -20 v 20"/></g></svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">make_rule</span><span class="p">(</span><span class="n">nonterminals</span><span class="p">,</span> <span class="n">terminals</span><span class="p">,</span> <span class="n">num_alts</span><span class="p">):</span>
    <span class="n">prod_grammar</span> <span class="o">=</span> <span class="n">prod_line_grammar</span><span class="p">(</span><span class="n">nonterminals</span><span class="p">,</span> <span class="n">terminals</span><span class="p">)</span>

    <span class="n">gf</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">prod_grammar</span><span class="p">,</span> <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">choices</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_uppercase</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="p">[</span><span class="n">gf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_alts</span><span class="p">)])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">make_rule</span><span class="p">([</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;C&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(&#39;&lt;HDG&gt;&#39;, [&#39;&lt;C&gt;1&#39;, &#39;&lt;A&gt;31&#39;, &#39;13333&#39;])
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">make_grammar</span><span class="p">(</span><span class="n">num_symbols</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">num_alts</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">terminals</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">)</span>
    <span class="n">grammar</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_symbols</span><span class="p">):</span>
        <span class="n">nonterminals</span> <span class="o">=</span> <span class="p">[</span><span class="n">k</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">grammar</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
        <span class="n">name</span><span class="p">,</span> <span class="n">expansions</span> <span class="o">=</span> \
            <span class="n">make_rule</span><span class="p">(</span><span class="n">nonterminals</span><span class="p">,</span> <span class="n">terminals</span><span class="p">,</span> <span class="n">num_alts</span><span class="p">)</span>
        <span class="n">grammar</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">expansions</span>

    <span class="n">grammar</span><span class="p">[</span><span class="n">START_SYMBOL</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span>

    <span class="k">assert</span> <span class="n">is_valid_grammar</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">grammar</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">make_grammar</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;LLV&gt;&#39;: [&#39;gz&#39;, &#39;eg&#39;, &#39;s&#39;],
 &#39;&lt;GDO&gt;&#39;: [&#39;&lt;LLV&gt;&lt;LLV&gt;&#39;, &#39;eobqe&#39;, &#39;&lt;LLV&gt;e&lt;LLV&gt;&#39;],
 &#39;&lt;VES&gt;&#39;: [&#39;&lt;GDO&gt;ws&#39;, &#39;&lt;GDO&gt;&lt;LLV&gt;&#39;, &#39;&lt;LLV&gt;&lt;LLV&gt;s&#39;],
 &#39;&lt;start&gt;&#39;: [&#39;&lt;VES&gt;&#39;]}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Now we verify if our arbitrary grammars can be used by the Earley parser.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">my_grammar</span> <span class="o">=</span> <span class="n">make_grammar</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">my_grammar</span><span class="p">)</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">my_grammar</span><span class="p">)</span>
    <span class="n">mygf</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">my_grammar</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">mygf</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">tree</span> <span class="ow">in</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">tree_to_string</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="o">==</span> <span class="n">s</span>
        <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;&lt;EIZ&gt;&#39;: [&#39;q&#39;, &#39;ti&#39;, &#39;moa&#39;], &#39;&lt;ISQ&gt;&#39;: [&#39;&lt;EIZ&gt;rrqy&#39;, &#39;&lt;EIZ&gt;ss&#39;, &#39;hhb&#39;], &#39;&lt;KWH&gt;&#39;: [&#39;v&lt;ISQ&gt;pd&#39;, &#39;&lt;ISQ&gt;wung&#39;, &#39;&lt;EIZ&gt;fo&#39;], &#39;&lt;start&gt;&#39;: [&#39;&lt;KWH&gt;&#39;]}
qfo
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="76pt" height="176pt"
 viewBox="0.00 0.00 76.00 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 72,-172 72,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="40" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="40" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;KWH&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M40,-152.9748C40,-146.195 40,-135.966 40,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="43.5001,-127.0561 40,-117.0561 36.5001,-127.0561 43.5001,-127.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="19" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;EIZ&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M36.9014,-101.9748C34.0477,-95.0443 29.7099,-84.5097 26.0191,-75.5464"/>
<polygon fill="#000000" stroke="#000000" points="29.1553,-73.9702 22.1113,-66.0561 22.6825,-76.6355 29.1553,-73.9702"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="62" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">fo</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M43.2462,-101.9748C46.2683,-94.969 50.8791,-84.2803 54.7725,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="57.9933,-76.6246 58.7405,-66.0561 51.5658,-73.8519 57.9933,-76.6246"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="19" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">q</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M19,-50.9748C19,-44.195 19,-33.966 19,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="22.5001,-25.0561 19,-15.0561 15.5001,-25.0561 22.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;&lt;OUZ&gt;&#39;: [&#39;cr&#39;, &#39;eyha&#39;, &#39;kp&#39;], &#39;&lt;BTM&gt;&#39;: [&#39;&lt;OUZ&gt;tq&#39;, &#39;mk&lt;OUZ&gt;d&#39;, &#39;gi&lt;OUZ&gt;&#39;], &#39;&lt;YIO&gt;&#39;: [&#39;itiih&#39;, &#39;c&lt;OUZ&gt;&lt;BTM&gt;y&#39;, &#39;&lt;OUZ&gt;zx&#39;], &#39;&lt;start&gt;&#39;: [&#39;&lt;YIO&gt;&#39;]}
ceyhaeyhatqy
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="170pt" height="227pt"
 viewBox="0.00 0.00 169.50 227.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 223)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-223 165.5,-223 165.5,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="79.5" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="79.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;YIO&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M79.5,-203.9748C79.5,-197.195 79.5,-186.966 79.5,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="83.0001,-178.0561 79.5,-168.0561 76.0001,-178.0561 83.0001,-178.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="3.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">c</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M68.2859,-152.9748C54.1982,-143.5211 30.1169,-127.3614 15.617,-117.6312"/>
<polygon fill="#000000" stroke="#000000" points="17.2861,-114.5362 7.0321,-111.8702 13.3855,-120.3487 17.2861,-114.5362"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="47.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;OUZ&gt;</text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M74.7783,-152.9748C70.288,-145.8183 63.3863,-134.8188 57.6488,-125.6747"/>
<polygon fill="#000000" stroke="#000000" points="60.5208,-123.6665 52.2411,-117.0561 54.5913,-127.387 60.5208,-123.6665"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="111.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;BTM&gt;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M84.2217,-152.9748C88.712,-145.8183 95.6137,-134.8188 101.3512,-125.6747"/>
<polygon fill="#000000" stroke="#000000" points="104.4087,-127.387 106.7589,-117.0561 98.4792,-123.6665 104.4087,-127.387"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="157.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">y</text>
</g>
<!-- 1&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>1&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M91.0092,-152.9748C105.3326,-143.6095 129.7217,-127.6627 144.6445,-117.9055"/>
<polygon fill="#000000" stroke="#000000" points="146.7688,-120.6983 153.2232,-112.2964 142.9381,-114.8395 146.7688,-120.6983"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="47.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">eyha</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M47.5,-101.9748C47.5,-95.195 47.5,-84.966 47.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="51.0001,-76.0561 47.5,-66.0561 44.0001,-76.0561 51.0001,-76.0561"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="106.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;OUZ&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M110.7622,-101.9748C110.0975,-95.195 109.0947,-84.966 108.2287,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="111.6999,-75.6669 107.2408,-66.0561 104.7333,-76.3499 111.6999,-75.6669"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="152.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">tq</text>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>5&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M117.5497,-101.9748C123.5591,-94.4997 132.9392,-82.8317 140.4694,-73.4648"/>
<polygon fill="#000000" stroke="#000000" points="143.4141,-75.388 146.9519,-65.4013 137.9585,-71.0021 143.4141,-75.388"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="106.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">eyha</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M106.5,-50.9748C106.5,-44.195 106.5,-33.966 106.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="110.0001,-25.0561 106.5,-15.0561 103.0001,-25.0561 110.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;&lt;HKL&gt;&#39;: [&#39;jy&#39;, &#39;oigm&#39;, &#39;&#39;], &#39;&lt;KBP&gt;&#39;: [&#39;&lt;HKL&gt;a&lt;HKL&gt;&#39;, &#39;&lt;HKL&gt;d&#39;, &#39;&lt;HKL&gt;gr&#39;], &#39;&lt;UHE&gt;&#39;: [&#39;&lt;KBP&gt;kk&#39;, &#39;&lt;KBP&gt;jy&#39;, &#39;lqy&#39;], &#39;&lt;start&gt;&#39;: [&#39;&lt;UHE&gt;&#39;]}
lqy
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="53pt" height="125pt"
 viewBox="0.00 0.00 53.00 125.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 121)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-121 49,-121 49,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="22.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="22.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;UHE&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M22.5,-101.9748C22.5,-95.195 22.5,-84.966 22.5,-76.1331"/>
<polygon fill="#000000" stroke="#000000" points="26.0001,-76.0561 22.5,-66.0561 19.0001,-76.0561 26.0001,-76.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="22.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">lqy</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M22.5,-50.9748C22.5,-44.195 22.5,-33.966 22.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="26.0001,-25.0561 22.5,-15.0561 19.0001,-25.0561 26.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;&lt;TOR&gt;&#39;: [&#39;r&#39;, &#39;znz&#39;, &#39;s&#39;], &#39;&lt;DOX&gt;&#39;: [&#39;&lt;TOR&gt;rqri&#39;, &#39;&lt;TOR&gt;&lt;TOR&gt;&#39;, &#39;&lt;TOR&gt;oa&#39;], &#39;&lt;VGG&gt;&#39;: [&#39;&lt;TOR&gt;k&#39;, &#39;&lt;DOX&gt;uy&#39;, &#39;&lt;DOX&gt;cn&#39;], &#39;&lt;start&gt;&#39;: [&#39;&lt;VGG&gt;&#39;]}
roauy
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="110pt" height="227pt"
 viewBox="0.00 0.00 109.50 227.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 223)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-223 105.5,-223 105.5,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="69" y="-207.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="69" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;VGG&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M69,-203.9748C69,-197.195 69,-186.966 69,-178.1331"/>
<polygon fill="#000000" stroke="#000000" points="72.5001,-178.0561 69,-168.0561 65.5001,-178.0561 72.5001,-178.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="45" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;DOX&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M65.4587,-152.9748C62.1619,-145.969 57.1319,-135.2803 52.8845,-126.2547"/>
<polygon fill="#000000" stroke="#000000" points="55.9807,-124.614 48.5558,-117.0561 49.647,-127.5946 55.9807,-124.614"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="94" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">uy</text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M72.6888,-152.9748C76.1231,-145.969 81.3626,-135.2803 85.7869,-126.2547"/>
<polygon fill="#000000" stroke="#000000" points="89.0371,-127.5759 90.296,-117.0561 82.7517,-124.4947 89.0371,-127.5759"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="22" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;TOR&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M41.6063,-101.9748C38.4468,-94.969 33.6264,-84.2803 29.556,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="32.7093,-73.7331 25.4077,-66.0561 26.3282,-76.6109 32.7093,-73.7331"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="69" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">oa</text>
</g>
<!-- 2&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M48.5413,-101.9748C51.8381,-94.969 56.8681,-84.2803 61.1155,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="64.353,-76.5946 65.4442,-66.0561 58.0193,-73.614 64.353,-76.5946"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="22" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">r</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M22,-50.9748C22,-44.195 22,-33.966 22,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="25.5001,-25.0561 22,-15.0561 18.5001,-25.0561 25.5001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{&#39;&lt;IFU&gt;&#39;: [&#39;ifx&#39;, &#39;te&#39;, &#39;ver&#39;], &#39;&lt;NIY&gt;&#39;: [&#39;&lt;IFU&gt;hl&#39;, &#39;&lt;IFU&gt;mkt&#39;, &#39;&lt;IFU&gt;&lt;IFU&gt;&#39;], &#39;&lt;JKU&gt;&#39;: [&#39;&lt;IFU&gt;i&#39;, &#39;&lt;IFU&gt;xj&#39;, &#39;&lt;IFU&gt;p&lt;NIY&gt;&#39;], &#39;&lt;start&gt;&#39;: [&#39;&lt;JKU&gt;&#39;]}
verxj
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="76pt" height="176pt"
 viewBox="0.00 0.00 76.00 176.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-172 72,-172 72,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="40.5" y="-156.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="40.5" y="-105.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;JKU&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M40.5,-152.9748C40.5,-146.195 40.5,-135.966 40.5,-127.1331"/>
<polygon fill="#000000" stroke="#000000" points="44.0001,-127.0561 40.5,-117.0561 37.0001,-127.0561 44.0001,-127.0561"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="19.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;IFU&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M37.4014,-101.9748C34.5477,-95.0443 30.2099,-84.5097 26.5191,-75.5464"/>
<polygon fill="#000000" stroke="#000000" points="29.6553,-73.9702 22.6113,-66.0561 23.1825,-76.6355 29.6553,-73.9702"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="62.5" y="-54.8" font-family="Times,serif" font-size="14.00" fill="#000000">xj</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M43.7462,-101.9748C46.7683,-94.969 51.3791,-84.2803 55.2725,-75.2547"/>
<polygon fill="#000000" stroke="#000000" points="58.4933,-76.6246 59.2405,-66.0561 52.0658,-73.8519 58.4933,-76.6246"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="19.5" y="-3.8" font-family="Times,serif" font-size="14.00" fill="#000000">ver</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M19.5,-50.9748C19.5,-44.195 19.5,-33.966 19.5,-25.1331"/>
<polygon fill="#000000" stroke="#000000" points="23.0001,-25.0561 19.5,-15.0561 16.0001,-25.0561 23.0001,-25.0561"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With this, we have completed both implementation and testing of <em>arbitrary</em> CFG, which can now be used along with <code>LangFuzzer</code> to generate better fuzzing inputs.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Background">Background<a class="anchor-link" href="#Background">&#182;</a></h2><p>Numerous parsing techniques exist that can parse a given string using a
given grammar, and produce corresponding derivation tree or trees. However,
some of these techniques work only on specific classes of grammars.
These classes of grammars are named after the specific kind of parser
that can accept grammars of that category. That is, the upper bound for
the capabilities of the parser defines the grammar class named after that
parser.</p>
<p>The <em>LL</em> and <em>LR</em> parsing are the main traditions in parsing. Here, <em>LL</em> means left-to-right, leftmost derivation, and it represents a top-down approach. On the other hand, and LR (left-to-right, rightmost derivation) represents a bottom-up approach. Another way to look at it is that LL parsers compute the derivation tree incrementally in <em>pre-order</em> while LR parsers compute the derivation tree in <em>post-order</em> [Pingali <em>et al</em>, 2015.]).</p>
<p>Different classes of grammars differ in the features that are available to
the user for writing a grammar of that class. That is, the corresponding
kind of parser will be unable to parse a grammar that makes use of more
features than allowed. For example, the <code>A2_GRAMMAR</code> is an <em>LL</em>
grammar because it lacks left recursion, while <code>A1_GRAMMAR</code> is not an
<em>LL</em> grammar. This is because an <em>LL</em> parser parses
its input from left to right, and constructs the leftmost derivation of its
input by expanding the nonterminals it encounters. If there is a left
recursion in one of these rules, an <em>LL</em> parser will enter an infinite loop.</p>
<p>Similarly, a grammar is LL(k) if it can be parsed by an LL parser with k lookahead token, and LR(k) grammar can only be parsed with LR parser with at least k lookahead tokens. These grammars are interesting because both LL(k) and LR(k) grammars have $O(n)$ parsers, and can be used with relatively restricted computational budget compared to other grammars.</p>
<p>The languages for which one can provide an <em>LL(k)</em> grammar is called <em>LL(k)</em> languages (where k is the minimum lookahead required). Similarly, <em>LR(k)</em> is defined as the set of languages that have an <em>LR(k)</em> grammar. In terms of languages, LL(k) $\subset$ LL(k+1) and LL(k) $\subset$ LR(k), and <em>LR(k)</em> $=$ <em>LR(1)</em>. All deterministic <em>CFLs</em> have an <em>LR(1)</em> grammar. However, there exist <em>CFLs</em> that are inherently ambiguous [Ogden <em>et al</em>, 1968.], and for these, one can't provide an <em>LR(1)</em> grammar.</p>
<p>The other main parsing algorithms for <em>CFGs</em> are GLL [Scott <em>et al</em>, 2010.], GLR [Tomita <em>et al</em>, 1987., Tomita <em>et al</em>, 2012.], and CYK [Grune <em>et al</em>, 1990.].
The ALL(*) (used by ANTLR) on the other hand is a grammar representation that uses <em>Regular Expression</em> like predicates (similar to advanced PEGs – see <a href="#Exercise-3:-PEG-Predicates">Exercise</a>) rather than a fixed lookahead. Hence, ALL(*) can accept a larger class of grammars than CFGs.</p>
<p>In terms of computational limits of parsing, the main CFG parsers have a complexity of $O(n^3)$ for arbitrary grammars. However, parsing with arbitrary <em>CFG</em> is reducible to boolean matrix multiplication [<a href="https://doi.org/10.1016/S0022-0000(75)80046-8">Valiant <em>et al</em>, 1975.</a>] (and the reverse [<a href="https://doi.org/10.1145/505241.505242">Lee <em>et al</em>, 2002.</a>]). This is at present bounded by $O(2^{23728639}$)  [<a href="https://doi.org/10.1145/2608628.2608664">Le Gall <em>et al</em>, 2014.</a>]. Hence, worse case complexity for parsing arbitrary CFG is likely to remain close to cubic.</p>
<p>Regarding PEGs, the actual class of languages that is expressible in <em>PEG</em> is currently unknown. In particular, we know that <em>PEGs</em> can express certain languages such as $a^n b^n c^n$. However, we do not know if there exist <em>CFLs</em> that are not expressible with <em>PEGs</em>. In Section 2.3, we provided an instance of a counter-intuitive PEG grammar. While important for our purposes (we use grammars for generation of inputs) this is not a criticism of parsing with PEGs. PEG focuses on writing grammars for recognizing a given language, and not necessarily in interpreting what language an arbitrary PEG might yield. Given a Context-Free Language to parse, it is almost always possible to write a grammar for it in PEG, and given that 1) a PEG can parse any string in $O(n)$ time, and 2) at present we know of no CFL that can't be expressed as a PEG, and 3) compared with <em>LR</em> grammars, a PEG is often more intuitive because it allows top-down interpretation, when writing a parser for a language, PEGs should be under serious consideration.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li>Grammars can be used to generate derivation trees for a given string.</li>
<li>Parsing Expression Grammars are intuitive, and easy to implement, but require care to write.</li>
<li>Earley Parsers can parse arbitrary Context Free Grammars.</li>
<li>How to generate a pool of fragments using the Langfuzz approach, and use it to generate nearly valid strings.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><ul>
<li><a href="GrammarMiner.html">Use the automatic grammar miner for obtaining a grammar</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1:-An-Alternative-Packrat">Exercise 1: An Alternative Packrat<a class="anchor-link" href="#Exercise-1:-An-Alternative-Packrat">&#182;</a></h3><p>In the <em>Packrat</em> parser, we showed how one could implement a simple <em>PEG</em> parser. That parser kept track of the current location in the text using an index. Can you modify the parser so that it simply uses the current substring rather than tracking the index? That is, it should no longer have the <code>at</code> parameter.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Solution.</strong>  Here is a possible solution:</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2:-More-PEG-Syntax">Exercise 2: More PEG Syntax<a class="anchor-link" href="#Exercise-2:-More-PEG-Syntax">&#182;</a></h3><p>The <em>PEG</em> syntax provides a few notational conveniences reminiscent of regular expressions. For example, it supports the following operators (letters <code>T</code> and <code>A</code> represents tokens that can be either terminal or nonterminal. <code>ε</code> is an empty string, and <code>/</code> is the ordered choice operator similar to the non-ordered choice operator <code>|</code>):</p>
<ul>
<li><code>T?</code> represents an optional greedy match of T and <code>A := T?</code> is equivalent to <code>A := T/ε</code>.</li>
<li><code>T*</code> represents zero or more greedy matches of <code>T</code> and <code>A := T*</code> is equivalent to <code>A := T A/ε</code>.</li>
<li><code>T+</code> represents one or more greedy matches – equivalent to <code>TT*</code></li>
</ul>
<p>If you look at the three notations above, each can be represented in the grammar in terms of basic syntax.
Remember the exercise from <a href="Grammars.html">the chapter on grammars</a> that developed <code>define_ex_grammar()</code> that can represent grammars as Python code? extend <code>define_ex_grammar()</code> to <code>define_peg()</code> to support the above notational conveniences. The decorator should rewrite a given grammar that contains these notations to an equivalent grammar in basic syntax.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-3:-PEG-Predicates">Exercise 3: PEG Predicates<a class="anchor-link" href="#Exercise-3:-PEG-Predicates">&#182;</a></h3><p>Beyond these notational conveniences, it also supports two predicates that can provide a powerful lookahead facility that does not consume any input.</p>
<ul>
<li><code>T&amp;A</code> represents an <em>And-predicate</em> that matches <code>T</code> if <code>T</code> is matched, and it is immediately followed by <code>A</code></li>
<li><code>T!A</code> represents a <em>Not-predicate</em> that matches <code>T</code> if <code>T</code> is matched, and it is <em>not</em> immediately followed by <code>A</code></li>
</ul>
<p>Implement these predicates in our <em>PEG</em> parser.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-4:-Earley-Fill-Chart">Exercise 4: Earley Fill Chart<a class="anchor-link" href="#Exercise-4:-Earley-Fill-Chart">&#182;</a></h3><p>In the <code>Earley Parser</code>, <code>Column</code> class, we keep the states both as a <code>list</code> and also as a <code>dict</code> even though <code>dict</code> is ordered. Can you explain why?</p>
<p><strong>Hint</strong>: see the <code>fill_chart</code> method.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-5:-Leo-Parser">Exercise 5: Leo Parser<a class="anchor-link" href="#Exercise-5:-Leo-Parser">&#182;</a></h3><p>One of the problems with the original Earley parser is that while it can parse strings using arbitrary <em>Context Free Gramamrs</em>, its performance on right-recursive grammars is quadratic. That is, it takes $O(n^2)$ runtime and space for parsing with right-recursive grammars. For example, consider the parsing of the following string by two different grammars <code>LR_GRAMMAR</code> and <code>RR_GRAMMAR</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mystring</span> <span class="o">=</span> <span class="s1">&#39;aaaaaa&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To see the problem, we need to enable logging. Here is the logged version of parsing with the <code>LR_GRAMMAR</code></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">LR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>None chart[0]
&lt;A&gt;:= |(0,0)
&lt;start&gt;:= &lt;A&gt; |(0,0)
a chart[1]
&lt;A&gt;:= &lt;A&gt; a |(0,1)
&lt;start&gt;:= &lt;A&gt; |(0,1)
a chart[2]
&lt;A&gt;:= &lt;A&gt; a |(0,2)
&lt;start&gt;:= &lt;A&gt; |(0,2)
a chart[3]
&lt;A&gt;:= &lt;A&gt; a |(0,3)
&lt;start&gt;:= &lt;A&gt; |(0,3)
a chart[4]
&lt;A&gt;:= &lt;A&gt; a |(0,4)
&lt;start&gt;:= &lt;A&gt; |(0,4)
a chart[5]
&lt;A&gt;:= &lt;A&gt; a |(0,5)
&lt;start&gt;:= &lt;A&gt; |(0,5)
a chart[6]
&lt;A&gt;:= &lt;A&gt; a |(0,6)
&lt;start&gt;:= &lt;A&gt; |(0,6)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Compare that to the parsing of <code>RR_GRAMMAR</code> as seen below:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">EarleyParser</span><span class="p">(</span><span class="n">RR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">mystring</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>None chart[0]
&lt;A&gt;:= |(0,0)
&lt;start&gt;:= &lt;A&gt; |(0,0)
a chart[1]
&lt;A&gt;:= |(1,1)
&lt;A&gt;:= a &lt;A&gt; |(0,1)
&lt;start&gt;:= &lt;A&gt; |(0,1)
a chart[2]
&lt;A&gt;:= |(2,2)
&lt;A&gt;:= a &lt;A&gt; |(1,2)
&lt;A&gt;:= a &lt;A&gt; |(0,2)
&lt;start&gt;:= &lt;A&gt; |(0,2)
a chart[3]
&lt;A&gt;:= |(3,3)
&lt;A&gt;:= a &lt;A&gt; |(2,3)
&lt;A&gt;:= a &lt;A&gt; |(1,3)
&lt;A&gt;:= a &lt;A&gt; |(0,3)
&lt;start&gt;:= &lt;A&gt; |(0,3)
a chart[4]
&lt;A&gt;:= |(4,4)
&lt;A&gt;:= a &lt;A&gt; |(3,4)
&lt;A&gt;:= a &lt;A&gt; |(2,4)
&lt;A&gt;:= a &lt;A&gt; |(1,4)
&lt;A&gt;:= a &lt;A&gt; |(0,4)
&lt;start&gt;:= &lt;A&gt; |(0,4)
a chart[5]
&lt;A&gt;:= |(5,5)
&lt;A&gt;:= a &lt;A&gt; |(4,5)
&lt;A&gt;:= a &lt;A&gt; |(3,5)
&lt;A&gt;:= a &lt;A&gt; |(2,5)
&lt;A&gt;:= a &lt;A&gt; |(1,5)
&lt;A&gt;:= a &lt;A&gt; |(0,5)
&lt;start&gt;:= &lt;A&gt; |(0,5)
a chart[6]
&lt;A&gt;:= |(6,6)
&lt;A&gt;:= a &lt;A&gt; |(5,6)
&lt;A&gt;:= a &lt;A&gt; |(4,6)
&lt;A&gt;:= a &lt;A&gt; |(3,6)
&lt;A&gt;:= a &lt;A&gt; |(2,6)
&lt;A&gt;:= a &lt;A&gt; |(1,6)
&lt;A&gt;:= a &lt;A&gt; |(0,6)
&lt;start&gt;:= &lt;A&gt; |(0,6)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As can be seen from the parsing log for each letter, the number of states with representation <code>&lt;A&gt;:= a &lt;A&gt; | (i, j)</code> increases at each stage, and these are simply a left over from the previous letter. They do not contribute anything more to the parse other than to simply complete these entries. However, they take up space, and require resources for inspection, contributing a factor of <code>n</code> in analysis.</p>
<p>Joop Leo [<a href="https://doi.org/https://doi.org/10.1016/0304-3975(91)90180-A">Joop M.I.M. Leo, 1991.</a>] found that this inefficiency can be avoided by detecting right recursion. The idea is that before starting the <code>completion</code> step, check whether the current item has a <em>deterministic reduction path</em>. If such a path exists, add a copy of the topmost element of the <em>deteministic reduction path</em> to the current column, and return. If not, perform the original <code>completion</code> step.</p>
<p>Finding a <em>deterministic reduction path</em> is as follows:</p>
<p>Given a complete state, represented by <code>&lt;A&gt; := seq_1 | (i)</code> where <code>(i)</code> is the starting column, there is a <em>deterministic reduction path</em> <strong>above</strong> it if two criteria are satisfied.</p>
<ul>
<li>There exist an item <code>&lt;B&gt; := seq_2 &lt;A&gt; | (k)</code> in the current column.</li>
<li>It should have a <em>single</em> predecessor of the form <code>&lt;B&gt; := seq_2 | &lt;A&gt; (k)</code> in the current column.</li>
</ul>
<p>Whre <code>seq_1</code> and <code>seq_2</code> are arbitrary symbol sequences.
Following this chain (looking for the link above <code>&lt;B&gt; := seq_2 &lt;A&gt; | (k)</code>), the topmost item is the item that does not have a parent.</p>
<p>See <a href="http://loup-vaillant.fr/tutorials/earley-parsing/right-recursion">Loup Vaillant</a> for further information.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is the skeleton for the parser <code>LeoParser</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">LeoParser</span><span class="p">(</span><span class="n">EarleyParser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">leo_complete</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">leo_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="n">detred</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">deterministic_reduction</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">detred</span><span class="p">:</span>
            <span class="n">col</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">detred</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">earley_complete</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">deterministic_reduction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
        <span class="k">raise</span> <span class="bp">NotImplemented</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Can you implement the <code>deterministic_reduction()</code> method to obtain the top most element?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Solution.</strong>  Here is a possible solution:</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-6:-First-Set-of-a-Nonterminal">Exercise 6: First Set of a Nonterminal<a class="anchor-link" href="#Exercise-6:-First-Set-of-a-Nonterminal">&#182;</a></h3><p>We previously gave a way to extract a the <code>nullable</code> (epsilon) set, which is often used for parsing.
Along with <code>nullable</code>, parsing algorithms often use two other sets <a href="https://en.wikipedia.org/wiki/Canonical_LR_parser#FIRST_and_FOLLOW_sets"><code>first</code> and <code>follow</code></a>.
The first set of a terminal symbol is itself, and the first set of a nonterminal is composed of terminal symbols that can come at the beginning of any derivation
of that nonterminal. The first set of any nonterminal that can derive the empty string should contain <code>EPSILON</code>. For example, using our <code>A1_GRAMMAR</code>, the first set of both <code>&lt;expr&gt;</code> and <code>&lt;start&gt;</code> is <code>{0,1,2,3,4,5,6,7,8,9}</code>. The extraction first set for any self-recursive nonterminal is simple enough. One simply has to recursively compute the first set of the first element of its choice expressions. The computation of <code>first</code> set for a self-recursive nonterminal is tricky. One has to recursively compute the first set until one is sure that no more terminals can be added to the first set.</p>
<p>Can you implement the <code>first</code> set using our <code>fixpoint()</code> decorator?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-7:-Follow-Set-of-a-Nonterminal">Exercise 7: Follow Set of a Nonterminal<a class="anchor-link" href="#Exercise-7:-Follow-Set-of-a-Nonterminal">&#182;</a></h3><p>The follow set definition is similar to the first set. The follow set of a nonterminal is the set of terminals that can occur just after that nonterminal is used in any derivation. The follow set of the start symbol is <code>EOF</code>, and the follow set of any nonterminal is the super set of first sets of all symbols that come after it in any choice expression.</p>
<p>For example, the follow set of <code>&lt;expr&gt;</code> in <code>A1_GRAMMAR</code> is the set <code>{EOF, +, -}</code>.</p>
<p>As in the previous exercise, implement the <code>followset()</code> using the <code>fixpoint()</code> decorator.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-8:-A-LL(1)-Parser">Exercise 8: A LL(1) Parser<a class="anchor-link" href="#Exercise-8:-A-LL(1)-Parser">&#182;</a></h3><p>As we mentioned previously, there exist other kinds of parsers that operate left-to-right with right most derivation (<em>LR(k)</em>) or left-to-right with left most derivation (<em>LL(k)</em>) with <em>k</em> signifying the amount of lookahead the parser is permitted to use.</p>
<p>What should one do with the lookahead? That lookahead can be used to determine which rule to apply. In the case of an <em>LL(1)</em> parser, the rule to apply is determined by looking at the <em>first</em> set of the different rules. We previously implemented <code>first_expr()</code> that takes a an expression, the set of  <code>nullables</code>, and computes the first set of that rule.</p>
<p>If a rule can derive an empty set, then that rule may also be applicable if of sees the <code>follow()</code> set of the corresponding nonterminal.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-1:-A-LL(1)-Parsing-Table">Part 1: A LL(1) Parsing Table<a class="anchor-link" href="#Part-1:-A-LL(1)-Parsing-Table">&#182;</a></h4><p>The first part of this exercise is to implement the <em>parse table</em> that describes what action to take for an <em>LL(1)</em> parser on seeing a terminal symbol on lookahead.  The table should be in the form of a <em>dictionary</em> such that the keys represent the nonterminal symbol, and the value should contain another dictionary with keys as terminal symbols and the particular rule to continue parsing as the value.</p>
<p>Let us illustrate this table with an example.  The <code>parse_table()</code> method populates a <code>self.table</code> data structure that should conform to the following requirements:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">LL1Parser</span><span class="p">(</span><span class="n">Parser</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">parse_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">my_rules</span> <span class="o">=</span> <span class="n">rules</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table</span> <span class="o">=</span> <span class="o">...</span>          <span class="c1"># fill in here to produce</span>

    <span class="k">def</span> <span class="nf">rules</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">rule</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">my_rules</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">rule</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">show_table</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ts</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">terminals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cgrammar</span><span class="p">)))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Rule Name</span><span class="se">\t</span><span class="s1">| </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="s1">&#39; | &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">t</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">ts</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">:</span>
            <span class="n">pr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">table</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
            <span class="n">actions</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pr</span><span class="p">[</span><span class="n">t</span><span class="p">])</span> <span class="k">if</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">pr</span> <span class="k">else</span> <span class="s1">&#39; &#39;</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">ts</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">  </span><span class="se">\t</span><span class="s1">| </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="s1">&#39; | &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">actions</span><span class="p">)))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>On invocation of <code>LL1Parser(A2_GRAMMAR).show_table()</code>
It should result in the following table:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">rules</span><span class="p">(</span><span class="n">canonical</span><span class="p">(</span><span class="n">A2_GRAMMAR</span><span class="p">))):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="se">\t</span><span class="s2"> </span><span class="si">%s</span><span class="s2"> := </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0	 &lt;start&gt; := [&#39;&lt;expr&gt;&#39;]
1	 &lt;expr&gt; := [&#39;&lt;integer&gt;&#39;, &#39;&lt;expr_&gt;&#39;]
2	 &lt;expr_&gt; := [&#39;+&#39;, &#39;&lt;expr&gt;&#39;]
3	 &lt;expr_&gt; := [&#39;-&#39;, &#39;&lt;expr&gt;&#39;]
4	 &lt;expr_&gt; := []
5	 &lt;integer&gt; := [&#39;&lt;digit&gt;&#39;, &#39;&lt;integer_&gt;&#39;]
6	 &lt;integer_&gt; := [&#39;&lt;integer&gt;&#39;]
7	 &lt;integer_&gt; := []
8	 &lt;digit&gt; := [&#39;0&#39;]
9	 &lt;digit&gt; := [&#39;1&#39;]
10	 &lt;digit&gt; := [&#39;2&#39;]
11	 &lt;digit&gt; := [&#39;3&#39;]
12	 &lt;digit&gt; := [&#39;4&#39;]
13	 &lt;digit&gt; := [&#39;5&#39;]
14	 &lt;digit&gt; := [&#39;6&#39;]
15	 &lt;digit&gt; := [&#39;7&#39;]
16	 &lt;digit&gt; := [&#39;8&#39;]
17	 &lt;digit&gt; := [&#39;9&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><table>
<thead><tr>
<th>Rule Name</th>
<th></th>
<th>+</th>
<th>-</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
</tr>
</thead>
<tbody>
<tr>
<td>start</td>
<td></td>
<td></td>
<td></td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>expr</td>
<td></td>
<td></td>
<td></td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>expr_</td>
<td></td>
<td>2</td>
<td>3</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>integer</td>
<td></td>
<td></td>
<td></td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
<td>5</td>
</tr>
<tr>
<td>integer_</td>
<td></td>
<td>7</td>
<td>7</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
<td>6</td>
</tr>
<tr>
<td>digit</td>
<td></td>
<td></td>
<td></td>
<td>8</td>
<td>9</td>
<td>10</td>
<td>11</td>
<td>12</td>
<td>13</td>
<td>14</td>
<td>15</td>
<td>16</td>
<td>17</td>
</tr>
</tbody>
</table>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-2:-The-Parser">Part 2: The Parser<a class="anchor-link" href="#Part-2:-The-Parser">&#182;</a></h4><p>Once we have the parse table, implementing the parser is as follows: Consider the first item from the sequence of tokens to parse, and seed the stack with the start symbol.</p>
<p>While the stack is not empty, extract the first symbol from the stack, and if the symbol is a terminal, verify that the symbol matches the item from the input stream. If the symbol is a nonterminal, use the symbol and input item to lookup the next rule from the parse table. Insert the rule thus found to the top of the stack. Keep track of the expressions being parsed to build up the parse table.</p>
<p>Use the parse table defined previously to implement the complete LL(1) parser.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Solution.</strong> Here is the complete parser:</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-9:-A-Different-LangFuzzer">Exercise 9: A Different LangFuzzer<a class="anchor-link" href="#Exercise-9:-A-Different-LangFuzzer">&#182;</a></h3><p>Sometimes we do not want to use our pool of strings for various reasons – the number of items in the pool may be inadequate, or not varied enough. Extend the <code>LangFuzzer</code> to use a separate function to check if the number of items in the pool corresponding to the selected non-terminal is large enough (say greater than 10), and if not, use the tree expansion technique from <code>GrammarFuzzer</code> to patch the hole.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/beta/notebooks/Parser.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

        
<p class="imprint">
<img style="float:right" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Creative Commons License">
The content of this project is licensed under the
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
The source code that is part of the content, as well as the source code used to format and display that content is licensed under the <a href="https://github.com/github/choosealicense.com/blob/gh-pages/LICENSE.md">MIT License</a>.
<a href="https://github.com/uds-se/fuzzingbook/commits/master/notebooks/Parser.ipynb" target=_blank)>Last change: 2018-12-11 08:21:50+01:00</a> &bull; 
<a href="#citation" id="cite" onclick="revealCitation()">Cite</a> &bull;
<a href="https://www.uni-saarland.de/en/footer/dialogue/legal-notice.html" target=_blank>Imprint</a>
</p>

<script>
function revealCitation() {
    var c = document.getElementById("citation");
    c.style.display = "block";
}
</script>

<div id="citation" class="citation" style="display: none;">
<a name="citation"></a>
<h2>How to Cite this Work</h2>
<p>
Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler: "<a href="https://www.fuzzingbook.org/beta/html/Parser.html">Parsing and Recombining Inputs</a>".  In Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler (eds.), "<a href="https://www.fuzzingbook.org/beta/">Generating Software Tests</a>", <a href="https://www.fuzzingbook.org/beta/html/Parser.html">https://www.fuzzingbook.org/beta/html/Parser.html</a>.  Retrieved 2018-12-11 08:21:50+01:00.
</p>
<pre>
@incollection{fuzzingbook2018:Parser,
    author = {Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler},
    booktitle = {Generating Software Tests},
    title = {Parsing and Recombining Inputs},
    year = {2018},
    publisher = {Saarland University},
    howpublished = {\url{https://www.fuzzingbook.org/beta/html/Parser.html}},
    note = {Retrieved 2018-12-11 08:21:50+01:00},
    url = {https://www.fuzzingbook.org/beta/html/Parser.html},
    urldate = {2018-12-11 08:21:50+01:00}
}
</pre>
</div>

      </div>
    </div>
    </article>

 </body>

</html>